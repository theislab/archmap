(this.webpackJsonparchmap_front=this.webpackJsonparchmap_front||[]).push([[0],{121:function(e,t,n){e.exports={cardContent:"listCard_cardContent__3qEgg",clickable:"listCard_clickable__2xriQ",cardImageWrapper:"listCard_cardImageWrapper__3V4rv",start:"listCard_start__3XbUF",titleRow:"listCard_titleRow__2egGX",title:"listCard_title__1Ph5k",description:"listCard_description__2SHdO",text:"listCard_text__bs0p-",trailing:"listCard_trailing__3mane"}},122:function(e,t,n){e.exports={cardContent:"institutionMemberListCard_cardContent__b1T86",clickable:"institutionMemberListCard_clickable__HNzMK",cardImageWrapper:"institutionMemberListCard_cardImageWrapper__18ZM7",start:"institutionMemberListCard_start__sWB9F",titleRow:"institutionMemberListCard_titleRow__1fVwp",title:"institutionMemberListCard_title__3Pe4r",description:"institutionMemberListCard_description__3EuSn",text:"institutionMemberListCard_text__29acW",trailing:"institutionMemberListCard_trailing__3prqd"}},123:function(e,t,n){e.exports={content:"institutionPage_content__S-un8",cardSpacing:"institutionPage_cardSpacing__2DAVR",container:"institutionPage_container__IIvD6",innerContent:"institutionPage_innerContent__2x-St",imageText:"institutionPage_imageText__3iSZ-",background:"institutionPage_background__Yawha",institutionIcon:"institutionPage_institutionIcon__2HDPb",bgImgEditButton:"institutionPage_bgImgEditButton__1YUNQ",inviteUsers:"institutionPage_inviteUsers__1klcW",editDetailsButton:"institutionPage_editDetailsButton__3Phfm",all:"institutionPage_all__2gFzS",footer:"institutionPage_footer__246XM",memberButton:"institutionPage_memberButton__1OF0-"}},16:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var a={primary:{900:"#0B0928",800:"#002644",700:"#184060",600:"#3A5778",500:"#445AA7",400:"#5676E4",300:"#7187D5",200:"#B7C8E9",100:"#E7EFFF"},neutral:{900:"#212529",800:"#343A40",700:"#495057",600:"#6C757D",500:"#ADB5BD",400:"#CED4DA",300:"#DEE2E6",200:"#E9ECEF",100:"#F8F9FA"},secondary1:{900:"#1B2914",800:"#2A3D24",700:"#395131",600:"#597856",500:"#6FB269",400:"#7DD181",300:"#A0E69E",200:"#B8F1BA",100:"#DAF3DB"},secondary2:{900:"#332E1B",800:"#433C20",700:"#625C35",600:"#8F8A54",500:"#CECE6E",400:"#E3E36A",300:"#F6EBB4",200:"#F8F6CE",100:"#FFFEE1"},error:{main:"#FF5F58",dark:"#81504F"},warning:{main:"#FFBE2F",dark:"#866536"},success:{main:"#4CAF50",dark:"#4E6D4F"},plus:{main:"#5676E4",dark:"#4C5ED4"}}},17:function(e,t,n){"use strict";n.d(t,"a",(function(){return d})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return h})),n.d(t,"h",(function(){return p})),n.d(t,"i",(function(){return j})),n.d(t,"g",(function(){return b})),n.d(t,"e",(function(){return f})),n.d(t,"j",(function(){return m})),n.d(t,"d",(function(){return x})),n.d(t,"k",(function(){return g})),n.d(t,"n",(function(){return O})),n.d(t,"m",(function(){return v})),n.d(t,"f",(function(){return y})),n.d(t,"l",(function(){return w}));var a,r=n(5),i=n(378),s=n(118),o=n(119),c=n(120),l=n(253),d="https://custom-helix-329116.ey.r.appspot.com/v1",u="indexedDB-archmap-projects",h=1,p="service_iv3tvs5",j="template_3336nfq",b="FVrX1Wu4qZfbJBQ5u",f=5e3,m=25e6,x=(a={IDLE:"idle",SELECTED:"selected",UPLOAD_STARTING:"upload_starting",ERROR_START:"error_start",UPLOAD_PROGRESS:"upload_progress",UPLOAD_FINISHING:"upload_finishing",UPLOAD_PENDING:"UPLOAD_PENDING",UPLOAD_COMPLETE:"UPLOAD_COMPLETE",ERROR_PROGRESS:"error_progress"},Object(r.a)(a,"UPLOAD_FINISHING","upload_finishing"),Object(r.a)(a,"ERROR_FINISH","error_finish"),Object(r.a)(a,"COMPLETE","complete"),Object(r.a)(a,"CANCELING","canceling"),a),g={ATLAS:"atlas",CLASSIFIER:"classifier",MODEL:"model",ENCODER:"encoder"},O=function(e){return e.startsWith("upload_")},v=function(e){return e.startsWith("error_")},y=(i.a[600],s.a[300],o.a[300],c.a[300],l.a[500],{UPLOAD_PENDING:"UPLOAD_PENDING",UPLOAD_COMPLETE:"UPLOAD_COMPLETE",PROCESSING_PENDING:"PROCESSING_PENDING",PROCESSING_FAILED:"PROCESSING_FAILED",ABORTED:"ABORTED",DONE:"DONE",DOWNLOAD_READY:"DOWNLOAD_READY"}),w=function(e){return{idle:"Idle",selected:"File Selected",upload_starting:"Starting Upload",error_start:"Error at Start",upload_progress:"Upload in Progress",upload_finishing:"Finishing Upload",UPLOAD_PENDING:"Upload Pending",UPLOAD_COMPLETE:"Upload Complete",error_progress:"Error during Upload",error_finish:"Error at Finish",complete:"Complete",canceling:"Canceling"}[e]||"Unknown Status"}},173:function(e,t,n){e.exports={logoName:"navbar_logoName__2yd-I",appbar:"navbar_appbar__1tEKx",logo:"navbar_logo__2sPET",navbarcontent:"navbar_navbarcontent__3Kg45"}},19:function(e,t,n){"use strict";n.r(t);var a=n(11),r=(n(2),n(89)),i=n(16),s=n(523),o=n.n(s),c=n(0);function l(e){switch(e){case"primary2":return{backgroundColor:"white",borderRadius:"100px",padding:"0.5em 1em 0.5em 1em",fontSize:"1em",color:i.a.primary[500],":hover":{backgroundColor:i.a.primary[200],transition:"0.4s"},":active":{backgroundColor:"".concat(i.a.primary[200]," !important"),transition:"0.4s",color:i.a.primary[500]},":disabled":{backgroundColor:i.a.primary[200],transition:"0.4s",color:i.a.primary[500]}};case"secondary":return{backgroundColor:i.a.secondary1[400],borderRadius:"100px",padding:"0.5em 1em 0.5em 1em",fontSize:"1em",color:"white",":hover":{backgroundColor:i.a.secondary1[500],transition:"0.4s",color:"white",boxShadow:"0px 4px 20px rgba(160, 230, 158, 0.2)"},":active":{backgroundColor:"".concat(i.a.secondary1[600]," !important"),transition:"0.4s",color:"white"},":focus":{backgroundColor:i.a.secondary1[300],transition:"0.4s",color:"white"},":disabled":{backgroundColor:"#DAF3DB",transition:"0.4s",color:i.a.secondary1[600]}};case"tertiary":return{color:i.a.neutral[900],borderRadius:"100px",padding:"0.5em 1em 0.5em 1em",fontSize:"1em",background:"none",":hover":{transition:"0.4s",color:i.a.primary[500]},":focus":{transition:"0.4s",color:i.a.primary[500],textDecoration:"underline"},":disabled":{transition:"0.4s",color:i.a.neutral[400]}};case"critical":return{color:"white",borderRadius:"100px",padding:"0.5em 1em 0.5em 1em",fontSize:"1em",background:i.a.error.main,":hover":{transition:"0.4s",background:i.a.error.dark},":focus":{transition:"0.4s",textDecoration:"underline"},":disabled":{transition:"0.4s",color:i.a.neutral[400]}};default:return{backgroundColor:i.a.primary[400],borderRadius:"100px",padding:"0.5em 1em 0.5em 1em",fontSize:"1em",color:"white",":hover":{backgroundColor:i.a.primary[500],transition:"0.4s",color:"white",boxShadow:"0px 4px 20px rgba(24, 64, 96, 0.2)"},":active":{backgroundColor:"".concat(i.a.primary[600]," !important"),transition:"0.4s",color:"white"},":disabled":{backgroundColor:"#EBEFFF",transition:"0.4s",color:i.a.primary[600]}}}}t.default=function(e){var t=e.type,n=e.onClick,i=e.children,s=e.disabled,d=e.sx;return Object(c.jsx)(r.a,{disableRipple:!0,disabled:s,sx:Object(a.a)(Object(a.a)({},l(t)),d),onClick:function(e){e.stopPropagation(),n&&n()},className:o.a.button,variant:"tertiary"===t?"text":"contained",children:i})}},22:function(e,t,n){"use strict";n.r(t);var a=n(527),r=n.n(a),i=n(17),s=r.a.create({baseURL:i.a});s.interceptors.request.use((function(e){var t=window.localStorage.getItem("jwt");return t&&(e.headers.auth=t),e})),s.interceptors.response.use((function(e){return e}),(function(e){var t;return 440===(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)&&(localStorage.removeItem("user"),localStorage.removeItem("jwt"),window.location.assign(window.location)),Promise.reject(e)})),t.default=s},329:function(e,t,n){e.exports={divider:"uploadfilepage_divider__KU3Cq"}},347:function(e,t,n){e.exports={headerContainer:"contact_headerContainer__29alZ",formContainer:"contact_formContainer__3Iggj",textContainer:"contact_textContainer__16odg"}},348:function(e,t,n){e.exports={header:"header_header__1Rzwr",titleRow:"header_titleRow__3RjbN",title:"header_title__ID55l",right:"header_right__3tz8T"}},399:function(e,t,n){e.exports={profileImage:"profileImage_profileImage__1xsjO",editButton:"profileImage_editButton__3CNWE"}},401:function(e,t,n){e.exports={accessRightIndicator:"institutionTeamList_accessRightIndicator__TXT9j",cardSpacing:"institutionTeamList_cardSpacing__3AKDD"}},402:function(e,t,n){e.exports={profileImage:"institutionAvatar_profileImage__31-M5",editButton:"institutionAvatar_editButton__2yvHI"}},406:function(e,t,n){e.exports={visualizationContainer:"visualizationpage_visualizationContainer__2I8rd",headerContainer:"visualizationpage_headerContainer__pXLuC",formContainer:"visualizationpage_formContainer__3TmmV",textContainer:"visualizationpage_textContainer__2PPyx"}},45:function(e,t,n){e.exports={container:"docs_container___yH8n",mainIllustration:"docs_mainIllustration__y5yT4",csvImage:"docs_csvImage__1-7p-",textContainer:"docs_textContainer__1pj1C",infoContainer:"docs_infoContainer__1ruit",explanationTitle:"docs_explanationTitle__1l6DY",explanationLeft:"docs_explanationLeft__3L6dC",explanationRight:"docs_explanationRight__3gQq7",horizontalIllustration:"docs_horizontalIllustration__ko7Zl",verticalIllustration:"docs_verticalIllustration__28aWr",divider:"docs_divider___TM-E"}},46:function(e,t,n){e.exports={container:"documentation_container__3frI_",mainIllustration:"documentation_mainIllustration__2AeGF",csvImage:"documentation_csvImage__1yHIO",textContainer:"documentation_textContainer__3E3eg",infoContainer:"documentation_infoContainer__1Vhk5",explanationTitle:"documentation_explanationTitle__3od32",explanationLeft:"documentation_explanationLeft__2yJRE",explanationRight:"documentation_explanationRight__3V8oc",horizontalIllustration:"documentation_horizontalIllustration__2uLQG",verticalIllustration:"documentation_verticalIllustration__1dJbH",divider:"documentation_divider__33EWH"}},523:function(e,t,n){e.exports={button:"custombutton_button__1LdJw"}},529:function(e,t,n){e.exports={headerContainer:"passwordforgetform_headerContainer__3-8Ip",closeImg:"passwordforgetform_closeImg__3kk5G"}},536:function(e){e.exports=JSON.parse('[{"name":"Dr. Guy Yachdav","roles":["Supervisor & Initiator"],"img":"https://scholar.googleusercontent.com/citations?view_op=medium_photo&user=UoUkGhUAAAAJ&citpid=2","dscp":"Technology executive with over 15 years experience in R&D and specialization in big data and machine learning","socialFB":"","socialLinkedIn":"https://www.linkedin.com/in/gyachdav/?originalSubdomain=il","socialGithub":"","socialTwitter":""},{"name":"Amin Ben Saad","roles":["Teaching Assistant","Frontend + ML Lead & Developer (2021)"],"img":"memberphotos/old/frontend/Frontend_Amin Ben Saad.png","dscp":"B.Sc. Informatics at TUM ","socialFB":"","socialGithub":"","socialTwitter":"","socialLinkedIn":"https://www.linkedin.com/in/amin-ben-saad369/?originalSubdomain=de"},{"name":"Ronald Skorobogat","roles":["Teaching Assistant","Frontend Developer (2021)"],"img":"memberphotos/old/frontend/Frontend-RonaldSkorobogat.jpg","dscp":"B.Sc. Informatics at TUM ","socialFB":"","socialGithub":"https://github.com/ronskoro","socialTwitter":"","socialLinkedIn":"https://www.linkedin.com/in/ronald-skorobogat-a1348b1a3"},{"name":"Phd. Mohammad Lotfollahi","roles":["Researcher at Helmholtz","Chief contributor of ScArches"],"img":"memberphotos/old/Helmholtz_Mohammad_Lotfollahi.png","dscp":"","socialFB":"","socialGithub":"","socialTwitter":"","socialLinkedIn":"https://www.linkedin.com/in/mlotfollahi"},{"name":"Christoph Weinhuber","roles":["Tutor"],"img":"memberphotos/old/Management_Christoph_Weinhuber.png","dscp":"M.Sc. Computer Science","socialFB":"","socialGithub":"","socialTwitter":"","socialLinkedIn":"https://www.linkedin.com/in/weinhuber/"}]')},537:function(e){e.exports=JSON.parse('[{"name":"Vigan Lladrovci","roles":["Frontend Developer & Team Lead"],"img":"memberphotos/frontend_1/Frontend_Vigan_Lladrovci.png","dscp":"","socialFB":"","socialGithub":"","socialTwitter":"","socialLinkedIn":""},{"name":"Nikita Charushnikov","roles":["Frontend Developer"],"img":"memberphotos/frontend_1/Frontend_Nikita_Charushnikov.jpg","dscp":"","socialFB":"","socialGithub":"","socialTwitter":"","socialLinkedIn":""},{"name":"Cem Na\u015fit Sar\u0131ca","roles":["Frontend Developer"],"img":"memberphotos/frontend_1/Frontend_Cem_Nasit_Sarica.jpg","dscp":"","socialFB":"","socialGithub":"","socialTwitter":"","socialLinkedIn":""},{"name":"Paul Schwind","roles":["Frontend Developer"],"img":"memberphotos/frontend_1/Frontend_Paul_Schwind.jpg","dscp":"","socialFB":"","socialGithub":"","socialTwitter":"","socialLinkedIn":""},{"name":"Julian Giebisch","roles":["Frontend Developer"],"img":"memberphotos/frontend_1/Frontend_Julian_Giebisch.jpg","dscp":"","socialFB":"","socialGithub":"","socialTwitter":"","socialLinkedIn":""},{"name":"Rei Balla","roles":["Frontend Developer & Team Lead"],"img":"memberphotos/frontend_2/Frontend_Rei_Balla.jpg","dscp":"","socialFB":"","socialGithub":"","socialTwitter":"","socialLinkedIn":""},{"name":"Elif \xc7al\u0131\u015fkan","roles":["Frontend Developer"],"img":"memberphotos/frontend_2/Frontend_Elif_Caliskan.jpg","dscp":"","socialFB":"","socialGithub":"","socialTwitter":"","socialLinkedIn":""},{"name":"G\xf6khan \u015ei\u015fman","roles":["Frontend Developer"],"img":"memberphotos/frontend_2/Frontend_G\xf6khan_Sisman.jpeg","dscp":"","socialFB":"","socialGithub":"","socialTwitter":"","socialLinkedIn":""},{"name":"Carlos Garzon","roles":["Frontend Developer"],"img":"memberphotos/frontend_2/Frontend_Carlos_Garzon.png","dscp":"","socialFB":"","socialGithub":"","socialTwitter":"","socialLinkedIn":""},{"name":"Jiong Liu","roles":["Frontend Developer"],"img":"memberphotos/frontend_2/Frontend_Jiong_Liu.JPG","dscp":"","socialFB":"","socialGithub":"","socialTwitter":"","socialLinkedIn":""},{"name":"Lennart Keller","roles":["Frontend Developer & Team Lead"],"img":"memberphotos/frontend_3/Frontend_Lennart_Keller.jpg","dscp":"","socialFB":"","socialGithub":"","socialTwitter":"","socialLinkedIn":""},{"name":"Nick Alexander H\xfcbner","roles":["Frontend Developer"],"img":"memberphotos/frontend_3/Frontend_Nick_Alexander_H\xfcbner.jpg","dscp":"","socialFB":"","socialGithub":"","socialTwitter":"","socialLinkedIn":""},{"name":"Xufan Lu","roles":["Frontend Developer"],"img":"memberphotos/frontend_3/Frontend_Xufan_Lu.jpg","dscp":"","socialFB":"","socialGithub":"","socialTwitter":"","socialLinkedIn":""},{"name":"Evan Christopher","roles":["Frontend Developer"],"img":"memberphotos/frontend_3/Frontend_Evan_Christopher.jpg","dscp":"","socialFB":"","socialGithub":"","socialTwitter":"","socialLinkedIn":""},{"name":"Dominik J\xe1mbor","roles":["Frontend Developer (2021)"],"img":"memberphotos/old/frontend/Dominik.jpg","dscp":"Full-stack web developer and M.Sc. student at ELTE Budapest. ","socialFB":"","socialGithub":"","socialTwitter":"","socialLinkedIn":""},{"name":"Liudongnan Yang","roles":["Frontend Developer (2021)"],"img":"memberphotos/old/frontend/Yang.jpg","dscp":"Master\'s student in Informatics at TUM","socialFB":"","socialGithub":"https://github.com/yldn","socialTwitter":"","socialLinkedIn":"https://www.linkedin.com/in/liudongnan-yang-683a3b163/"}]')},538:function(e){e.exports=JSON.parse('[{"name":"Fabian Nowak","roles":["Backend Developer & Team Lead"],"img":"memberphotos/backend/Backend_Fabian_Nowak.png","dscp":"","socialFB":"","socialGithub":"","socialTwitter":"","socialLinkedIn":""},{"name":"Pellumb Baboci","roles":["Backend Developer"],"img":"memberphotos/backend/Backend_Pellumb_Baboci.jpeg","dscp":"","socialFB":"","socialGithub":"","socialTwitter":"","socialLinkedIn":""},{"name":"Valon Haliti","roles":["Backend Developer"],"img":"memberphotos/backend/Backend_Valon_Haliti.jpeg","dscp":"","socialFB":"","socialGithub":"","socialTwitter":"","socialLinkedIn":""},{"name":"Erona Vrapcani","roles":["Backend Developer"],"img":"memberphotos/backend/Backend_Erona_Vrapcani.jpg","dscp":"","socialFB":"","socialGithub":"","socialTwitter":"","socialLinkedIn":""},{"name":"Isaac Misael Olgu\xedn Nolasco","roles":["Backend Developer"],"img":"memberphotos/backend/Backend_Isaac.jpg","dscp":"","socialFB":"","socialGithub":"","socialTwitter":"","socialLinkedIn":""},{"name":"Atamert Rahma","roles":["Backend Developer"],"img":"memberphotos/backend/Backend_Atamert_Rahma.jpg","dscp":"","socialFB":"","socialGithub":"","socialTwitter":"","socialLinkedIn":""},{"name":"Lars Fr\xf6lich","roles":["Backend Lead & Developer (2021)"],"img":"memberphotos/old/backend/Backend_Lars_Froelich.jpg","dscp":"B.Sc. Informatics at TUM ","socialFB":"","socialGithub":"","socialTwitter":"","socialLinkedIn":""},{"name":"Matthias Michailow","roles":["Backend Developer (2021)"],"img":"memberphotos/old/backend/Backend_Matthias Michailow.jpg","dscp":"Master\'s student in Informatics at TUM ","socialFB":"","socialGithub":"","socialTwitter":"","socialLinkedIn":""},{"name":"Yi Rui Cui","roles":["Backend + ML Developer (2021)"],"img":"memberphotos/old/backend/Backend_Yi Rui Cui.jpg","dscp":"B.Sc. Informatics: Games Engineering at TUM","socialFB":"","socialGithub":"","socialTwitter":"","socialLinkedIn":""},{"name":"Manuel Brandstetter","roles":["Backend Developer (2021)"],"img":"memberphotos/old/backend/Backend_Manuel_Brandstetter.jpg","dscp":" Full-stack web developer and Master\'s student in Informatics at TUM","socialFB":"","socialGithub":"","socialTwitter":"","socialLinkedIn":""}]')},539:function(e){e.exports=JSON.parse('[{"name":"Aleksandra Topalova","roles":["Visuals & ML & Team Lead"],"img":"memberphotos/visualization/Visuals_and_ML_Aleksandra_Topalova.jpg","dscp":"","socialFB":"","socialGithub":"","socialTwitter":"","socialLinkedIn":""},{"name":"Andreas Resch","roles":["Visuals & ML"],"img":"memberphotos/visualization/Visuals_and_ML_Andreas_Resch.jpg","dscp":"","socialFB":"","socialGithub":"","socialTwitter":"","socialLinkedIn":""},{"name":"Gustav Lund","roles":["Visuals & ML"],"img":"memberphotos/visualization/Visuals_and_ML_Gustav_Lund.jpg","dscp":"","socialFB":"","socialGithub":"","socialTwitter":"","socialLinkedIn":""},{"name":"Julian Kraus","roles":["Visuals & ML"],"img":"memberphotos/visualization/Visuals_and_ML_Julian_Kraus.jpg","dscp":"","socialFB":"","socialGithub":"","socialTwitter":"","socialLinkedIn":""},{"name":"Xin Guan","roles":["Visuals & ML"],"img":"memberphotos/visualization/Visuals_and_ML_Xin_Guan.jpg","dscp":"","socialFB":"","socialGithub":"","socialTwitter":"","socialLinkedIn":""},{"name":"Vivian Haller","roles":["Visualisation Lead & d3.js + ML Developer (2021)"],"img":"memberphotos/old/visualization/Visualization_Vivian_Haller.jpg","dscp":"M.Sc. Math/CS at TUM","socialFB":"","socialGithub":"","socialTwitter":"","socialLinkedIn":""},{"name":"Yashica Saun","roles":["Visualisation/d3.js Developer (2021)"],"img":"memberphotos/old/visualization/Visualization_Yashica_Saun.png","dscp":"Master\'s student in Informatics at TUM","socialFB":"","socialGithub":"","socialTwitter":"","socialLinkedIn":""},{"name":"Carl Neumann","roles":["Visualisation/d3.js + ML Developer (2021)"],"img":"memberphotos/old/visualization/Visualization_Carl_Neumann.jpg","dscp":"B.Sc. Information Systems at TUM ","socialFB":"","socialGithub":"","socialTwitter":"","socialLinkedIn":""},{"name":"Mohan Prabhakaran","roles":["Visualisation/d3.js Developer (2021)"],"img":"memberphotos/old/visualization/Visualization_MohanPrabhakaran.jpg","dscp":"Master\'s student in Informatics at TUM","socialFB":"","socialGithub":"","socialTwitter":"","socialLinkedIn":""}]')},548:function(e,t,n){e.exports={headerView:"headerView_headerView__37-VD",content:"headerView_content__3ZGTI"}},549:function(e,t,n){e.exports={content:"communityOverview_content__1z98q"}},551:function(e,t,n){e.exports={accessRightIndicator:"teamCard_accessRightIndicator__19eES"}},552:function(e,t,n){e.exports={cardSpacing:"teamOverview_cardSpacing__2wgGG"}},553:function(e,t,n){e.exports={accessRightIndicator:"institutionCard_accessRightIndicator__1JCZW"}},573:function(e,t,n){e.exports={subpageSidebarCollapsed:"dashboardContent_subpageSidebarCollapsed__2Yyy-",subpage:"dashboardContent_subpage__1-8vl"}},574:function(e,t,n){e.exports={atlasContainer:"atlasesGrid_atlasContainer__H3sBl"}},575:function(e,t,n){e.exports={cardsContainer:"modelsGrid_cardsContainer__15NV2"}},578:function(e,t,n){e.exports={accessRightIndicator:"institutionMemberListPopup_accessRightIndicator__15Q2K"}},579:function(e,t,n){e.exports={accessRightIndicator:"institutionTeamCard_accessRightIndicator__1z8X6"}},581:function(e,t,n){e.exports={accessRightIndicator:"teamMemberList_accessRightIndicator__zDVUC"}},582:function(e,t,n){e.exports={headerContainer:"passwordresetpage_headerContainer___j6Ya"}},65:function(e,t,n){e.exports={profilePicture:"settings_profilePicture__1kJYR",title:"settings_title__3UHO3",background:"settings_background__2_1V1",inputComponent:"settings_inputComponent__3aQaQ",inputText:"settings_inputText__1s9Xm",divider:"settings_divider__3lyX4",headline:"settings_headline__ICdWL"}},66:function(e,t,n){e.exports={container:"mapper_container__2oEy5",borderContainer:"mapper_borderContainer__YQltc",input:"mapper_input__3pExR",icon:"mapper_icon__35O4_",disabledIcon:"mapper_disabledIcon__SEiZo",filename:"mapper_filename__1hq_M",title:"mapper_title__2zJ-k",buttonBox:"mapper_buttonBox__27yQW",goButton:"mapper_goButton__3YG-G",divider:"mapper_divider__2IY9M",mapIcon:"mapper_mapIcon__2ut2b",mapperBox:"mapper_mapperBox__32Zbo",iconButton:"mapper_iconButton__1JNmE"}},716:function(e,t,n){},717:function(e,t,n){e.exports={App:"app_App__3prSR",AppLogo:"app_AppLogo__1chhy",AppLogoSpin:"app_AppLogoSpin__35zRt",AppHeader:"app_AppHeader__2N3h1"}},77:function(e,t,n){e.exports={sidebarWrap:"sidebar_sidebarWrap__3MZP2",sidebarNav:"sidebar_sidebarNav__1XPaF",iconList:"sidebar_iconList__1J3N2",listItemIcon:"sidebar_listItemIcon__3qAcc",navbarItemContainer:"sidebar_navbarItemContainer__oWTDb",geneIcon:"sidebar_geneIcon__3WsB4",navlink:"sidebar_navlink__3qaNB",navlinkIcon:"sidebar_navlinkIcon__36xzS",coloredIcon:"sidebar_coloredIcon__2Y3up",list:"sidebar_list__1eUw3"}},770:function(e,t,n){e.exports={pwReminderLink:"loginform_pwReminderLink__CFid_",closeImg:"loginform_closeImg__2UYjx"}},852:function(e,t,n){},853:function(e,t,n){},854:function(e,t,n){e.exports={title:"search_title__1pHXf"}},858:function(e,t,n){e.exports={axis:"visualization_axis__sKYxz"}},859:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),i=n(116),s=n.n(i),o=(n(716),n(398)),c=n(4),l=(n(717),n(919)),d=n(28),u=n(50),h=n(5),p=n(429),j=n(98),b=n(532),f=n.n(b),m=n(533),x=n.n(m),g=n(535),O=n.n(g),v=n(534),y=n.n(v),w=n(11),C=n(324),k=n(85),S=n(528),I=n.n(S),A=n.p+"static/media/logo.c5c8dbf2.svg",_=n(16),E=n(0),D=r.a.createContext();function R(e){var t=r.a.useState(localStorage.user?JSON.parse(localStorage.user):null),n=Object(c.a)(t,2),a=[n[0],n[1]];return Object(E.jsx)(D.Provider,Object(w.a)({value:a},e))}function F(){var e=r.a.useContext(D);if(void 0===e)throw new Error("useAuth must be used within a AuthProvider");return e}D.displayName="AuthContext";var T=n(6),B=n.n(T),P=n(15),N=n(516),L=function(e){var t=e.width,n=void 0===t?"100%":t,a=e.height,r=void 0===a?"100%":a,i=e.children,s=e.flex,o=void 0===s?"column":s,c=e.bg,l=void 0===c?"white":c,d=e.hoverStyles,u=void 0===d?{}:d,h=e.padding,j=void 0===h?"1.5em":h;return Object(E.jsx)(p.a,{sx:{width:n,height:r,backgroundColor:l,borderRadius:"0.625rem",":hover":u},children:Object(E.jsx)(p.a,{sx:{boxShadow:"0px 0px 4px rgba(0,0,0, 0.25)",p:j,borderRadius:"0.625rem",display:"flex",flexDirection:o},children:i})})},M=n(121),z=n.n(M);function U(e){var t,n=0;for(t=0;t<e.length;t+=1)n=e.charCodeAt(t)+((n<<5)-n);var a="#";for(t=0;t<3;t+=1){a+="00".concat((n>>8*t&255).toString(16)).slice(-2)}return a}var W=function(e){var t=e.imageComponent,n=e.imageURL,a=e.enforceImage,r=e.title,i=e.description,s=e.nextToTitle,o=e.trailing,c=e.onClick,l=t;if(n||a){if(t)throw new Error("You can only have either imageComponent or imageURL.");l=Object(E.jsx)(N.a,{src:n,alt:r,sx:{backgroundColor:U(r||""),width:42,height:42},children:(r||"?")[0]})}return Object(E.jsx)(L,{children:Object(E.jsxs)("div",{className:"".concat(z.a.cardContent,"\n        ").concat(c?z.a.clickable:""),onClick:c,onKeyPress:c,role:"button",tabIndex:0,children:[Object(E.jsxs)("div",{className:z.a.start,children:[Object(E.jsx)("div",{className:z.a.cardImageWrapper,children:l}),Object(E.jsxs)("div",{className:z.a.text,children:[Object(E.jsxs)("div",{className:z.a.titleRow,children:[Object(E.jsx)("h3",{className:z.a.title,children:r}),s]}),Object(E.jsx)("div",{className:z.a.description,children:i&&Object(E.jsx)("p",{style:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",width:"calc(60vw - 200px)"},children:i})})]})]}),o&&Object(E.jsx)("div",{className:z.a.trailing,children:o})]})})};var G=function(e){var t=e.member,n=e.nextToNameBuilder,a=e.trailingBuilder,r=e.overrideProfilePicture,i=void 0===r?null:r,s=Object(u.useHistory)();return Object(E.jsx)(W,{imageURL:i||t.avatarUrl,enforceImage:!0,title:"".concat(t.firstName," ").concat(t.lastName),description:t.email,nextToTitle:n?n(t):null,trailing:(a||function(){return null})(t),onClick:function(){return s.push("/sequencer/users/".concat(t._id))}})},q=n(19),H=n(431),Q=n(432),V=n(146),Y=n.n(V),K=function(e){var t=e.isOpen,n=e.setOpen,a=e.children,r=e.sx,i=e.maxWidth,s=void 0===i?"sm":i;return Object(E.jsxs)(H.a,{open:t,onClose:function(){return n(!1)},scroll:"paper","aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",PaperProps:{sx:Object(w.a)({borderRadius:"20px",p:"1em"},r)},maxWidth:s,children:[Object(E.jsx)(Y.a,{onClick:function(e){n(!1),e.stopPropagation()},sx:{position:"absolute",right:"10px",top:"10px",cursor:"pointer"}}),a]})},J=function(e){var t=e.children;return Object(E.jsx)(Q.a,{id:"scroll-dialog-title",sx:{fontSize:"1.7em",fontWeight:"bold",p:"0.5em"},children:t})},Z=n(451),X=n(452),$=n(524),ee=n(526),te=n.n(ee),ne=Math.PI/180;function ae(e,t,n){return re.apply(this,arguments)}function re(){return re=Object(P.a)(B.a.mark((function e(t,n,a){var r,i,s,o,c,l,d,u,h,p,j,b=arguments;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=b.length>3&&void 0!==b[3]?b[3]:1,i=b.length>4&&void 0!==b[4]?b[4]:0,s=n.getContext("2d")){e.next=5;break}throw new Error("No 2d context");case 5:o=t.naturalWidth/t.width,c=t.naturalHeight/t.height,l=window.devicePixelRatio,n.width=Math.floor(a.width*o*l),n.height=Math.floor(a.height*c*l),s.scale(l,l),s.imageSmoothingQuality="high",d=a.x*o,u=a.y*c,h=i*ne,p=t.naturalWidth/2,j=t.naturalHeight/2,s.save(),s.translate(-d,-u),s.translate(p,j),s.rotate(h),s.scale(r,r),s.translate(-p,-j),s.drawImage(t,0,0,t.naturalWidth,t.naturalHeight,0,0,t.naturalWidth,t.naturalHeight),s.restore();case 25:case"end":return e.stop()}}),e)}))),re.apply(this,arguments)}n(751);function ie(e){var t,n,r,i=e.imgSrc,s=e.onUpdate,o=e.onUpdateBlob,l=Object(a.useRef)(null),d=Object(a.useRef)(null),u=Object(a.useState)(),h=Object(c.a)(u,2),p=h[0],j=h[1],b=Object(a.useState)(),f=Object(c.a)(b,2),m=f[0],x=f[1];if(t=Object(P.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:(null===m||void 0===m?void 0:m.width)&&(null===m||void 0===m?void 0:m.height)&&d.current&&l.current&&(ae(d.current,l.current,m),s(l.current.toDataURL("image/png")),l.current.toBlob((function(e){o(e)}),"image/png"));case 1:case"end":return e.stop()}}),e)}))),n=100,r=[m],Object(a.useEffect)((function(){var e=setTimeout((function(){t.apply(void 0,r)}),n);return function(){clearTimeout(e)}}),r),!i)return Object(E.jsx)(E.Fragment,{});return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(te.a,{crop:p,onChange:function(e,t){return j(t)},onComplete:function(e){return x(e)},aspect:1,children:Object(E.jsx)("img",{ref:d,alt:"Crop me",src:i,style:{width:"100%"},onLoad:function(){x({x:0,y:0,width:d.current.getBoundingClientRect().width,height:d.current.getBoundingClientRect().height})}})}),Object(E.jsx)("div",{children:m&&Object(E.jsx)("canvas",{ref:l,style:{display:"none",objectFit:"contain",width:m.width,height:m.height}})})]})}function se(e){var t=e.open,n=e.onClose,r=e.title,i=e.description,s=e.maxFileSizeMB,o=e.onUpload,l=e.additionalButtons,d=e.disableCropping,u=e.preview,h=void 0===u?function(e){return Object(E.jsx)("img",{style:{width:"100%"},src:e,alt:"Preview"})}:u,p=Object(a.useState)(!1),j=Object(c.a)(p,2),b=j[0],f=j[1],m=Object(a.useState)(""),x=Object(c.a)(m,2),g=x[0],O=x[1],v=Object(a.useState)(),y=Object(c.a)(v,2),w=y[0],C=y[1],k=Object(a.useState)(!1),S=Object(c.a)(k,2),I=S[0],A=S[1];function _(){return(_=Object(P.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.next=3,o(w);case 3:I&&f(!1);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){return A(!0),function(){return A(!1)}}),[]),Object(E.jsxs)(K,{isOpen:t,setOpen:function(e){return!e&&n()},maxWidth:"sm",fullWidth:!0,children:[Object(E.jsx)(J,{children:r}),Object(E.jsxs)(X.a,{children:[i&&Object(E.jsx)("p",{children:i}),(!g||d)&&Object(E.jsx)($.DropzoneArea,{onChange:function(e){return function(e){if(e.length){var t=new FileReader;t.addEventListener("load",(function(){var e=t.result.toString()||"";O(e)})),t.readAsDataURL(e[0]),d&&C(e[0]),console.log("files",e)}}(e)},acceptedFiles:["image/jpeg","image/png"],maxFileSize:1024*s*1024,filesLimit:1,showPreviews:d,showPreviewsInDropzone:!h,alertSnackbarProps:{autoHideDuration:3e3}}),!d&&g&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("h3",{children:"Crop"}),Object(E.jsx)(ie,{imgSrc:g,onUpdate:function(){return null},onUpdateBlob:function(e){return C(e)}})]})]}),Object(E.jsxs)(Z.a,{children:[Object(E.jsx)(q.default,{type:"tertiary",onClick:function(){O(null),n()},children:"Cancel"}),l.map((function(e){var t=e.text,n=e.func;return Object(E.jsx)(q.default,{type:"secondary",onClick:Object(P.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!0),e.next=3,n();case 3:f(!1);case 4:case"end":return e.stop()}}),e)}))),children:t},t)})),b?Object(E.jsx)(q.default,{disabled:!0,children:"Uploading..."}):Object(E.jsx)(q.default,{onClick:function(){return function(){return _.apply(this,arguments)}()},disabled:!w,children:"Upload"})]})]})}var oe=n(17);function ce(e,t){var n=e.indexOf(t);return n>-1&&e.splice(n,1),e}function le(){return{auth:localStorage.getItem("jwt"),"content-type":"application/json"}}function de(e,t){return function(e,t,n){return e.replace(":".concat(t),n)}(e,"searchCategory",t)}function ue(e){var t=new Date(Date.parse(e)),n=t.toLocaleString("en-US",{month:"long"});return console.log(n),"".concat(t.getDate(),"th ").concat(n)}function he(e){var t=e.open,n=e.onClose,a=e.onChange,r=F(),i=Object(c.a)(r,1)[0];function s(){return(s=Object(P.a)(B.a.mark((function e(t){var r;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(oe.a,"/user-avatar"),{method:"POST",headers:Object(w.a)(Object(w.a)({},le()),{},{"content-type":"image/png"}),body:t});case 2:if(200===(r=e.sent).status){e.next=8;break}if(413!==r.status){e.next=7;break}return alert("This image is too large. Please provide one with a smaller file size."),e.abrupt("return");case 7:throw Error("Couldn't upload user avatar");case 8:if(!a){e.next=14;break}return e.t0=a,e.next=12,r.text();case 12:e.t1=e.sent,(0,e.t0)(e.t1);case 14:n();case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function o(){return(o=Object(P.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(oe.a,"/user-avatar"),{method:"DELETE",headers:le()});case 2:n();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(E.jsx)(se,{open:t,onClose:n,title:"Upload Profile Image",maxFileSizeMB:5,preview:function(e){return Object(E.jsx)(G,{member:i,overrideProfilePicture:e})},additionalButtons:[{text:"Reset",func:function(){return o.apply(this,arguments)}}],onUpload:function(e){return function(e){return s.apply(this,arguments)}(e)}})}var pe,je=n(399),be=n.n(je),fe=n(22),me={getProfile:function(e){return Object(P.a)(B.a.mark((function t(){var n,a,r;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(null===(n=(e||{}).allowCache)||void 0===n||n)||!pe){t.next=3;break}return t.abrupt("return",pe);case 3:return t.next=5,fe.default.get("/profile");case 5:return a=t.sent,r=a.data,(pe=r).id=pe._id,t.abrupt("return",pe);case 10:case"end":return t.stop()}}),t)})))()},clearProfileCache:function(){pe=null},updateProfile:function(e,t){var n=this,a={first_name:e.firstName,last_name:e.lastName,note:e.affiliation};return t&&""!==t&&(a.password=t),fe.default.post("/update_profile",a).then((function(t){if(200!==t.status)throw Error("Couldn't save changes");n.clearProfileCache(),localStorage.setItem("user",JSON.stringify({firstName:e.firstName,lastName:e.lastName,email:e.emailAddress,note:e.affiliation}))}))}};var xe=function(e){var t=e.sizePixels,n=e.editable,r=void 0!==n&&n,i=e.overrideProfileImage,s=void 0===i?null:i,o=F(),l=Object(c.a)(o,2),d=l[0],u=l[1];function h(){return p.apply(this,arguments)}function p(){return(p=Object(P.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=u,e.next=3,me.getProfile();case 3:e.t1=e.sent,(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(a.useEffect)(h,[]);var j=Object(a.useState)(!1),b=Object(c.a)(j,2),f=b[0],m=b[1];return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)("div",{className:be.a.profileImage,style:{height:"".concat(t,"px"),width:"".concat(t,"px")},children:[Object(E.jsx)(N.a,{src:s||d.avatarUrl,alt:"".concat(d.firstName," ").concat(d.lastName),sx:{backgroundColor:U("".concat(d.firstName," ").concat(d.lastName)),width:t,height:t},children:(d.firstName||"?")[0]}),r&&Object(E.jsx)("div",{className:be.a.editButton,onClick:function(){return m(!0)},role:"button",onKeyPress:function(){return m(!0)},tabIndex:0,children:Object(E.jsx)("span",{children:"Edit"})})]}),f&&Object(E.jsx)(he,{open:f,onClose:function(){m(!1),h()},onChange:function(e){d.avatarUrl=e,u(d)}})]})};function ge(e){return Object(E.jsx)(p.a,Object(w.a)(Object(w.a)({},e),{},{sx:{width:{xs:"90%",sm:"90%",md:"61.8%",lg:"61.8%",xl:"61.8%"},display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",padding:"0.8em",margin:"auto",position:"relative"}}))}function Oe(e){return Object(E.jsx)(p.a,Object(w.a)(Object(w.a)({},e),{},{sx:{width:{xs:"100%",sm:"500px",md:"450px",lg:"650px",xl:"664px"},display:{xs:"none",sm:"flex",md:"flex",lg:"flex",xl:"flex"},flexDirection:"row",flexWrap:"warp",justifyContent:"space-between",alignItems:"center"}}))}function ve(e){var t=e.open,n=e.setOpen,a=e.executeScroll;return Object(E.jsxs)(p.a,{sx:{zIndex:"1",width:"40%",display:{xs:"flex",sm:"none",md:"none",lg:"none",xl:"none"},flexDirection:"row",flexWrap:"warp",justifyContent:"left",alignItems:"center",gap:"7%"},children:[Object(E.jsx)(Ie,{to:"/",sx:{display:"flex",alignItems:"center",gap:"0.7em"},children:Object(E.jsx)(C.a,{disableRipple:!0,children:Object(E.jsx)("img",{width:50,alt:"logo",src:A})})}),Object(E.jsxs)(p.a,{sx:{position:"relative",width:"24px",height:"24px",borderRadius:"5px",bgcolor:_.a.primary[400]},children:[Object(E.jsx)(I.a,{onClick:function(){return n(!t)},sx:{position:"absolute",top:"4px",left:"4px",width:"16px",height:"16px",color:"white"}}),Object(E.jsx)(k.a,{open:t,anchor:"bottom",onClose:function(){return n(!1)},children:Object(E.jsxs)(p.a,{sx:{width:"100vw",height:"25vh",bgcolor:"white",display:"flex",flexDirection:"column",justifyContent:"space-evenly",alignItems:"center"},children:[Object(E.jsxs)(p.a,{onClick:function(){},children:[" ",Object(E.jsx)(d.b,{style:{textDecoration:"none"},to:{pathname:"/",state:{onGuideClicked:!0}},children:Object(E.jsx)(Ce,{children:"Quick Guide"})})]}),Object(E.jsx)(Ie,{to:"/references",children:Object(E.jsx)(Ce,{children:"References"})}),Object(E.jsx)(Ce,{onClick:function(){return window.open("https://archmap-docu.readthedocs.io/")},children:"Docs"}),Object(E.jsx)(p.a,{onClick:a,sx:{cursor:"pointer"},children:Object(E.jsx)(Ce,{children:"Contact"})})]})})]})]})}function ye(e){return Object(E.jsx)(p.a,Object(w.a)(Object(w.a)({},e),{},{sx:{width:{xs:"50%",sm:"216px",md:"166px",lg:"222px",xl:"284px"},display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"right",gap:"1em"}}))}function we(e){var t=e.fontWeight,n=void 0===t?"425":t,a=e.main;return Object(E.jsx)(p.a,Object(w.a)(Object(w.a)({},e),{},{children:Object(E.jsx)(j.a,Object(w.a)(Object(w.a)({},e),{},{sx:{fontWeight:n,fontSize:a?{xs:"0.6em",sm:"0.8em",md:"0.8em",lg:"1.2em",xl:"1.2em"}:{xs:"0.4em",sm:"0.6em",md:"0.6em",lg:"1em",xl:"1em"},color:"white",":hover":{color:_.a.primary[400]}}}))}))}function Ce(e){return Object(E.jsx)(p.a,Object(w.a)(Object(w.a)({},e),{},{children:Object(E.jsx)(j.a,Object(w.a)(Object(w.a)({textAlign:"center"},e),{},{sx:{fontWeight:"bold",fontSize:"1em",color:"black",":hover":{color:_.a.primary[400]}}}))}))}function ke(e){return Object(E.jsx)(p.a,Object(w.a)(Object(w.a)({},e),{},{sx:{borderRadius:"10px",padding:"8px",cursor:"pointer"},children:Object(E.jsx)(j.a,Object(w.a)(Object(w.a)({},e),{},{sx:{fontWeight:"bold",fontSize:{xs:"0.6em",sm:"0.8em",md:"0.8em",lg:"1.2em",xl:"1.2em"},color:"white",":hover":{color:_.a.primary[400],textDecoration:"underline"}}}))}))}function Se(e){return Object(E.jsx)(p.a,Object(w.a)(Object(w.a)({},e),{},{sx:{cursor:"pointer",borderRadius:"10px",border:"2px solid white",padding:"8px",":hover":{border:"2px solid ".concat(_.a.primary[400]),color:_.a.primary[400]}},children:Object(E.jsx)(j.a,Object(w.a)(Object(w.a)({},e),{},{sx:{fontWeight:"bold",fontSize:{xs:"0.6em",sm:"0.8em",md:"0.8em",lg:"1.2em",xl:"1.2em"},color:"white",":hover":{color:_.a.primary[400],textDecoration:"underline"}}}))}))}function Ie(e){return Object(E.jsx)(p.a,Object(w.a)(Object(w.a)({},e),{},{component:d.b,style:{textDecoration:"none"}}))}function Ae(e){var t=e.backgroundColor,n=e.onLoginClicked,r=e.onSignUpClicked,i=e.onGuideClicked,s=e.executeScroll,o=e.setNavbarHeight,l=e.position,h=F(),j=Object(c.a)(h,2),b=j[0],f=(j[1],Object(a.useState)(!1)),m=Object(c.a)(f,2),x=m[0],g=m[1],O=Object(u.useHistory)();var v=Object(a.useRef)();return Object(a.useEffect)((function(){"fixed"===l&&o(v.current.clientHeight)})),Object(E.jsx)(p.a,{ref:v,sx:{width:"100%",bgcolor:t||_.a.primary[800],position:l,zIndex:"10"},children:Object(E.jsxs)(ge,{children:[Object(E.jsx)(ve,{open:x,setOpen:g,executeScroll:function(){g(!1),"fixed"===l&&s()}}),Object(E.jsxs)(Oe,{children:[Object(E.jsxs)(Ie,{to:"/",onClick:function(){return window.scrollTo(0,0)},sx:{display:"flex",alignItems:"center",gap:"0.7em"},children:[Object(E.jsx)(C.a,{disableRipple:!0,sx:{bgcolor:"",":hover":{transform:"scale(1.1)"}},children:Object(E.jsx)("img",{width:50,alt:"logo",src:A})}),Object(E.jsx)(we,{fontWeight:"bold",fontSize:"20px",children:"archmap.bio"})]}),Object(E.jsx)(Ie,{onClick:i,children:Object(E.jsx)(d.b,{style:{textDecoration:"none"},to:{pathname:"/",state:{onGuideClicked:!0}},children:Object(E.jsx)(we,{children:"Quick Guide"})})}),Object(E.jsx)(Ie,{to:"/genemapper",children:Object(E.jsx)(we,{children:"Map"})}),Object(E.jsx)(Ie,{to:"/references",children:Object(E.jsx)(we,{children:"References"})}),Object(E.jsx)(p.a,{sx:{cursor:"pointer"},onClick:function(){return window.open("https://archmap-docu.readthedocs.io/")},children:Object(E.jsx)(we,{children:"Docs"})}),Object(E.jsx)(p.a,{sx:{cursor:"pointer"},onClick:s,children:Object(E.jsx)(we,{children:"Contact"})})]}),Object(E.jsxs)(ye,{children:[!b&&Object(E.jsx)(ke,{onClick:n,children:"Log In"}),!b&&Object(E.jsx)(Se,{onClick:r,children:"Sign Up"}),b&&Object(E.jsx)(C.a,{onClick:function(){return O.push("/")},children:Object(E.jsx)(xe,{sizePixels:40})})]})]})})}var _e=function(e){var t=e.onGuideClick,n=e.backgroundImageLoaded,a=Object(u.useHistory)();return Object(E.jsx)(p.a,{sx:{width:{xs:"90%",sm:"90%",md:"61.8%",lg:"61.8%",xl:"61.8%"},margin:"auto",color:"white",p:"0.7em"},children:Object(E.jsxs)(p.a,{sx:{p:{xs:"1em 1em",sm:"1em 4em",md:"1em 4em",lg:"1em 4em",xl:"1em 4em",textAlign:"center"},borderWidth:"1px",borderRadius:"20px"},children:[Object(E.jsxs)(p.a,{sx:{backdropFilter:n?"blur(5px)":"",borderRadius:"20px",textAlign:"center",padding:"10px"},children:[Object(E.jsx)(j.a,{fontSize:{xs:"1.7rem",sm:"2.3rem",md:"2.1rem",lg:"3.1rem",xl:"3.1rem"},fontWeight:"bold",children:"Single-Cell Reference Mapping"}),Object(E.jsx)(j.a,{fontSize:"1.2rem",fontWeight:"light",color:"white",marginTop:"10px",marginBottom:"20px",children:"Reference-Based Analysis of Single-Cell Omics Data Powered by scArches"})]}),Object(E.jsxs)(p.a,{sx:{display:"inline-block",borderRadius:"20px",margin:"3em 2em 2em 2em"},children:[Object(E.jsx)(q.default,{sx:{margin:"10px"},onClick:function(){return a.push("/genemapper")},type:"primary",children:Object(E.jsx)(j.a,{fontSize:"17px",fontWeight:"400",children:"Get started"})}),Object(E.jsx)(q.default,{onClick:function(){return t()},sx:{margin:"10px"},type:"primary2",children:Object(E.jsx)(j.a,{children:"Quick Guide"})})]})]})})};function Ee(e){return Object(E.jsx)(p.a,Object(w.a)(Object(w.a)({},e),{},{component:d.b,style:{textDecoration:"none"}}))}function De(e){var t=e.sx;return Object(E.jsx)(p.a,{sx:Object(w.a)({position:"relative",bgcolor:_.a.neutral[200],width:"100%",height:"40px",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"center",padding:"10px"},t),children:Object(E.jsx)(p.a,{sx:{display:"flex",flexDirection:"row",alignItems:"center",gap:"15px",alignSelf:"center"},children:Object(E.jsxs)(p.a,{sx:{display:"flex",flexDirection:"row",alignItems:"center"},children:[Object(E.jsx)(j.a,{fontSize:"12px",fontWeight:"bold",children:"\xa9 Copyright 2022"}),Object(E.jsx)(j.a,{fontSize:"12px",sx:{margin:"0 4px"},children:" - "}),Object(E.jsx)(Ee,{to:"/legalnotice",style:{textDecoration:"none"},children:Object(E.jsx)(j.a,{fontSize:"12px",color:"black",children:"Legal Notice"})}),Object(E.jsx)(j.a,{fontSize:"12px",sx:{margin:"0 4px"},children:" - "}),Object(E.jsx)(Ee,{to:"/privacy",style:{textDecoration:"none"},children:Object(E.jsx)(j.a,{fontSize:"12px",color:"black",children:"Privacy Policy"})})]})})})}var Re=n(517),Fe=n(456),Te=n(514),Be=n(459),Pe=n(468),Ne=n(391),Le=n(157),Me=n.n(Le),ze=(n(770),n(168)),Ue=n(529),We=n.n(Ue),Ge=n(477),qe=function(e){var t=e.id,n=e.helperText,a=e.placeholder,r=e.errorHandler,i=e.disabledHandler,s=e.isRequired,o=void 0!==s&&s,c=e.defaultValue,l=e.value,d=e.multiline,u=void 0!==d&&d,h=e.onChangeEvent,j=void 0===h?null:h,b=e.onBlurEvent,f=void 0===b?null:b,m=e.onFocusEvent,x=void 0===m?null:m,g=e.label,O=void 0===g?"Required":g,v=e.maxLength,y=void 0===v?40:v,w=e.type,C=void 0===w?"text":w;return Object(E.jsx)(p.a,{component:"form",sx:{"& .MuiTextField-root":{m:1,width:"100%"},"& .MuiFormLabel-asterisk":{color:_.a.error.main}},noValidate:!0,children:Object(E.jsx)(Ge.a,{error:r,required:o,disabled:i,placeholder:a,defaultValue:c,inputProps:{maxLength:y},multiline:u,type:C,value:l,id:t,rows:4,label:O,helperText:n,variant:"standard",onChange:function(e){return null!==j?j(e):null},onBlur:function(e){return null!==f?f(e):null},onFocus:function(e){return null!==x?x(e):null}})})},He=Object(a.createContext)();He.displayName="LoginContext";var Qe=function(e){var t=Object(a.useState)(!1),n=Object(c.a)(t,2),r=n[0],i=n[1],s=Object(a.useState)(!1),o=Object(c.a)(s,2),l=o[0],d=o[1],u=Object(a.useState)(!1),h=Object(c.a)(u,2),p=h[0],j=h[1],b={loginVisible:r,registerVisible:l,forgetVisible:p,loginClose:function(){i(!1)},registerClose:function(){d(!1)},forgetClose:function(){j(!1)},switchRegister:d,switchLogin:i,switchForget:j};return Object(E.jsx)(He.Provider,Object(w.a)({value:b},e))};var Ve=function(e){var t=Object(a.useContext)(He),n=t.forgetClose,r=t.forgetVisible,i=Object(a.useState)({}),s=Object(c.a)(i,2),o=s[0],l=s[1],d=Object(a.useState)(),h=Object(c.a)(d,2),b=h[0],f=h[1],m=Object(a.useState)(!1),x=Object(c.a)(m,2),g=x[0],O=x[1],v=(Object(u.useHistory)(),Object(a.useCallback)((function(){f(""),l({}),n()}),[e]));function y(){O(!1),l({})}return Object(E.jsxs)("div",{children:[Object(E.jsx)(ze.a,{onClose:n,open:r,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:Object(E.jsx)(p.a,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",bgcolor:"background.paper",boxShadow:24,width:340,p:4,borderRadius:3},children:Object(E.jsxs)(Re.a,{children:[Object(E.jsxs)(Re.a,{container:!0,direction:"row",justifyContent:"center",children:[Object(E.jsx)(Re.a,{xs:!0,item:!0}),Object(E.jsxs)(Re.a,{align:"center",children:[Object(E.jsx)(N.a,{src:A,sx:{width:72,height:72}}),Object(E.jsx)("h2",{children:"Forgot Password"})]}),Object(E.jsx)(Re.a,{xs:!0,align:"right",item:!0,children:Object(E.jsx)(Y.a,{onClick:v,className:We.a.closeImg})})]}),Object(E.jsx)(qe,{id:"email",type:"email",error:!!o.email,helperText:o.email,label:"E-mail",placeholder:"Enter e-mail address",isRequired:!0,onChangeEvent:function(e){return f(e.target.value)}}),Object(E.jsx)(p.a,{sx:{width:"100%",display:"flex",justifyContent:"center"},children:Object(E.jsx)(q.default,{type:"primary",onClick:function(){if(function(){if(null==b)return l(Object(w.a)(Object(w.a)({},o),{},{email:"Empty input!"})),!1;if(!Me.a.isEmail(b))return l(Object(w.a)(Object(w.a)({},o),{},{email:"A valid e-mail is required!"})),!1;return!0}()){var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:b})};fetch("".concat(oe.a,"/password_reset"),e).then((function(e){404==e.status&&l({response:"User not found"}),400==e.status&&l({response:e.statusText}),O(!0)}))}},children:Object(E.jsx)(j.a,{children:"Send"})})})]})})}),Object(E.jsx)(Pe.a,{open:g,autoHideDuration:5e3,onClose:y,children:Object(E.jsx)(Ne.a,{severity:o.response?"error":"success",sx:{width:"100%"},onClose:y,children:o.response?o.response:"Password reset email has been sent! Please check your e-mail!"})})]})};var Ye=function(e){var t=F(),n=Object(c.a)(t,2)[1],r=Object(a.useState)({email:"",password:"",remember:!1}),i=Object(c.a)(r,2),s=i[0],o=i[1],l=Object(a.useState)({}),d=Object(c.a)(l,2),b=d[0],f=d[1],m=Object(a.useState)(!1),x=Object(c.a)(m,2),g=(x[0],x[1]),O=Object(a.useState)(!1),v=Object(c.a)(O,2),y=v[0],C=v[1],k=Object(a.useContext)(He),S=k.loginClose,I=k.loginVisible,A=k.switchRegister,D=k.switchForget,R=Object(u.useHistory)();Object(a.useEffect)((function(){localStorage.getItem("email")&&0!==localStorage.getItem("email").length&&o({email:localStorage.getItem("email")})}),[]);var T=function(){o({email:"",password:"",remember:!1}),f({}),g(!1),S()},N=Object(a.useCallback)((function(e){o((function(t){return Object(w.a)(Object(w.a)({},t),{},Object(h.a)({},e.target.id,e.target.value))}))}),[o]),L=Object(a.useCallback)((function(e){o((function(t){return Object(w.a)(Object(w.a)({},t),{},Object(h.a)({},e.target.id,e.target.checked))}))}),[o]);function M(e){return z.apply(this,arguments)}function z(){return(z=Object(P.a)(B.a.mark((function e(t){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return localStorage.setItem("jwt",t.jwt),localStorage.setItem("user",JSON.stringify(t.user)),s.remember&&localStorage.setItem("email",s.email),S(),R.go(0),e.next=7,n(t.user);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var U=Object(a.useCallback)((function(){if(function(){var e={};return Me.a.isEmail(s.email)||(e=Object(w.a)(Object(w.a)({},e),{},{email:"A valid e-mail is required!"})),""===s.password&&(e=Object(w.a)(Object(w.a)({},e),{},{password:"Password is required!"})),f(e),!Object.keys(e).length}()){g(!0);var e={method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer"},body:JSON.stringify({email:s.email,password:s.password})};fetch("".concat(oe.a,"/auth"),e).then((function(e){return g(!1),C(!0),200!==e.status?(function(e){switch(e){case 401:f((function(e){return Object(w.a)(Object(w.a)({},e),{},{response:"Wrong credentials!"})}));break;case 404:f((function(e){return Object(w.a)(Object(w.a)({},e),{},{response:"User not found!"})}));break;default:f((function(e){return Object(w.a)(Object(w.a)({},e),{},{response:"Unknown error, please try again later!"})}))}}(e.status),null):e.json()})).then(function(){var e=Object(P.a)(B.a.mark((function e(t){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null==t){e.next=3;break}return e.next=3,M(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),R.push("/")}}),[g,s,f]);return Object(E.jsxs)("div",{children:[Object(E.jsxs)(K,{setOpen:function(e){return!e&&S()},isOpen:I,children:[Object(E.jsx)(J,{children:"Log in"}),Object(E.jsx)(p.a,{children:Object(E.jsxs)(Re.a,{sx:{pr:"1em"},children:[Object(E.jsx)(qe,{id:"email",type:"email",defaultValue:localStorage.getItem("email"),error:!!b.email,helperText:b.email,label:"E-mail",placeholder:"Enter e-mail address",isRequired:!0,onChangeEvent:N}),Object(E.jsx)(qe,{id:"password",error:!!b.password,helperText:b.password,label:"Password",type:"password",placeholder:"Enter password",isRequired:!0,onChangeEvent:N}),Object(E.jsxs)(p.a,{sx:{paddingLeft:1,display:"flex",flexDirection:"column",gap:"4   px"},children:[Object(E.jsx)(Fe.a,{control:Object(E.jsx)(Te.a,{id:"remember",sx:{color:_.a.primary[400],"& .MuiSvgIcon-root":{color:_.a.primary[400]}},onChange:L,disableRipple:!0,disableFocusRipple:!0}),label:"Remember me"}),Object(E.jsx)(q.default,{type:"primary",onClick:U,children:Object(E.jsx)(j.a,{children:"Sign in"})}),Object(E.jsx)(j.a,{mt:1,textAlign:"center",children:Object(E.jsx)(Be.a,{href:"#",onClick:function(){D(!0),T()},children:"Forgot password?"})}),Object(E.jsxs)(j.a,{mt:1,textAlign:"center",children:["Don't have an account yet? Sign up"," ",Object(E.jsx)(Be.a,{href:"#",onClick:function(){A(!0),T()},children:"here"}),"."]})]})]})})]}),Object(E.jsx)(Pe.a,{open:y,autoHideDuration:1e4,onClose:function(){return C(!1)},children:Object(E.jsx)(Ne.a,{severity:b.response?"error":"success",sx:{width:"100%"},onClose:function(){return C(!1)},children:b.response?b.response:"Login successful!"})})]})},Ke=n(915),Je=n(530),Ze=n.n(Je),Xe=n(531),$e=n.n(Xe),et=n(63);var tt=function(e){var t=F(),n=Object(c.a)(t,2)[1],r=Object(a.useState)({email:"",firstname:"",lastname:"",affiliation:"",password:"",passwordAgain:"",permissionRequested:!1}),i=Object(c.a)(r,2),s=i[0],o=i[1],l=Object(a.useState)({}),d=Object(c.a)(l,2),u=d[0],b=d[1],f=Object(a.useState)(!1),m=Object(c.a)(f,2),x=(m[0],m[1]),g=Object(a.useState)(!1),O=Object(c.a)(g,2),v=O[0],y=O[1],C=Object(a.useState)(!1),k=Object(c.a)(C,2),S=k[0],I=k[1],A=Object(a.useState)(!1),_=Object(c.a)(A,2),D=_[0],R=_[1],T=Object(a.useState)(!1),B=Object(c.a)(T,2),P=B[0],N=B[1],L=Object(a.useContext)(He),M=L.registerClose,z=L.registerVisible,U=L.switchLogin,W=Object(et.useHistory)(),G=Object(a.useCallback)((function(e){o((function(t){return Object(w.a)(Object(w.a)({},t),{},Object(h.a)({},e.target.id,e.target.value))}))}),[o]),H=Object(a.useCallback)((function(){o({email:"",firstname:"",lastname:"",affiliation:"",password:"",passwordAgain:"",permissionRequested:!1}),b({}),x(!1),M()}),[o,b,x,e,n]),Q=Object(a.useCallback)((function(){if(!function(){var e={};return Me.a.isEmail(s.email)||(e=Object(w.a)(Object(w.a)({},e),{},{email:"A valid e-mail is required!"})),""===s.firstname&&(e=Object(w.a)(Object(w.a)({},e),{},{firstname:"Please enter your first name!"})),""===s.lastname&&(e=Object(w.a)(Object(w.a)({},e),{},{lastname:"Please enter your last name!"})),"temporary_user"===s.note&&(e=Object(w.a)(Object(w.a)({},e),{},{note:"Invalidn Affiliation"})),""===s.password&&(e=Object(w.a)(Object(w.a)({},e),{},{password:"Password is required!"})),s.passwordAgain!==s.password&&(e=Object(w.a)(Object(w.a)({},e),{},{passwordAgain:"The passwords must match!"})),b(e),!Object.keys(e).length}())return console.log(u),void console.log("Validation failed");if(!1!==D){x(!0);var e={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({first_name:s.firstname,last_name:s.lastname,email:s.email,password:s.password,note:s.affiliation,permissionRequested:s.permissionRequested})};fetch("".concat(oe.a,"/register"),e).then((function(e){x(!1),200===e.status||201===e.status?(y(!0),I(!0),setTimeout(M,5e3)):function(e){switch(e.status){case 400:b((function(e){return Object(w.a)(Object(w.a)({},e),{},{response:"Please check your input!"})}));break;case 409:b((function(e){return Object(w.a)(Object(w.a)({},e),{},{response:"Account already exists!"})}));break;default:b((function(e){return Object(w.a)(Object(w.a)({},e),{},{response:"Unknown error, please try again later!"})}))}}(e),y(!0)})),W.push("/")}else N(!0)}),[s,b,x,e,y,n,D]);return Object(E.jsxs)("div",{children:[Object(E.jsx)(K,{setOpen:function(e){return!e&&M()},isOpen:z,children:!0===S?Object(E.jsxs)(K,{isOpen:S,setOpen:function(e){return!e&&M()},children:[Object(E.jsx)(J,{children:"Verify your email!"}),Object(E.jsxs)(p.a,{sx:{display:"flex",flexDirection:"column",rowGap:2,padding:2},children:[Object(E.jsxs)(p.a,{sx:{display:"flex"},children:[Object(E.jsx)(Ze.a,{color:"primary"}),Object(E.jsxs)(j.a,{style:{paddingLeft:8},children:["Registration Successful. We sent you a"," ",Object(E.jsx)("b",{children:"confirmation email."})]})]}),Object(E.jsx)(j.a,{children:"You can complete your registration by confirming your e-mail address."})]})]}):Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(J,{children:"Register new user"}),Object(E.jsx)(p.a,{sx:{width:{md:"400px",xs:"100%"},pr:"1em"},children:Object(E.jsxs)(Re.a,{sx:{width:"90%",margin:"auto"},children:[Object(E.jsx)(qe,{id:"email",type:"email",error:!!u.email,helperText:u.email,label:"E-mail",placeholder:"Enter e-mail address",isRequired:!0,onChangeEvent:G}),Object(E.jsx)(qe,{id:"firstname",type:"text",error:!!u.firstname,helperText:u.firstname,label:"First name",placeholder:"Enter your first name",isRequired:!0,onChangeEvent:G}),Object(E.jsx)(qe,{id:"lastname",type:"text",error:!!u.lastname,helperText:u.lastname,label:"Last name",placeholder:"Enter your last name",isRequired:!0,onChangeEvent:G}),Object(E.jsx)(qe,{id:"affiliation",error:!!u.affiliation,helperText:u.affiliation,label:"Affiliation",type:"text",placeholder:"Enter your university, company or etc.",onChangeEvent:G}),Object(E.jsx)(qe,{id:"password",error:!!u.password,helperText:u.password,label:"Password",type:"password",placeholder:"Enter password",isRequired:!0,onChangeEvent:G}),Object(E.jsx)(qe,{id:"passwordAgain",error:!!u.passwordAgain,helperText:u.passwordAgain,label:"Password again",type:"password",placeholder:"Enter your password again",isRequired:!0,onChangeEvent:G}),Object(E.jsxs)(p.a,{sx:{display:"flex",alignItems:"center"},children:[Object(E.jsx)(Fe.a,{control:Object(E.jsx)(Te.a,{id:"remember",onChange:function(){return R(!D)},disableRipple:!0,disableFocusRipple:!0}),label:"Accept terms and conditions"}),Object(E.jsx)(p.a,{children:Object(E.jsx)($e.a,{sx:{marginTop:.5,"&:hover":{cursor:"pointer"}},onClick:function(){return W.push("/privacy")},color:"primary"})})]}),Object(E.jsx)(p.a,{sx:{display:"flex",alignItems:"center"},children:Object(E.jsx)(Fe.a,{control:Object(E.jsx)(Te.a,{id:"permissionRequested",onChange:function(e){o((function(t){return Object(w.a)(Object(w.a)({},t),{},{permissionRequested:e.target.checked})}))}}),label:"Request for Beta feature"})}),Object(E.jsx)(p.a,{mt:1,children:Object(E.jsx)(q.default,{type:"primary",sx:{mr:"auto",width:"100%"},onClick:Q,disabled:!D,children:Object(E.jsx)(j.a,{children:"Sign up"})})}),Object(E.jsxs)(j.a,{mt:1,textAlign:"center",children:["Already have an account? Login"," ",Object(E.jsx)(Be.a,{href:"#",onClick:function(){H(),U(!0)},children:"here"}),"."]})]})})]})}),Object(E.jsx)(Pe.a,{open:P,autoHideDuration:1e4,onClose:function(){return N(!1)},children:Object(E.jsx)(Ke.a,{severity:"error",sx:{width:"100%"},onClose:function(){return N(!1)},children:u.response?u.response:"You must accept terms and conditions!"})}),u.response&&Object(E.jsx)(Pe.a,{open:v,autoHideDuration:1e4,onClose:function(){return y(!1)},children:Object(E.jsx)(Ke.a,{severity:"error",sx:{width:"100%"},onClose:function(){return y(!1)},children:u.response})})]})},nt=(n.p,n.p+"static/media/upload.c25c0640.png"),at=n.p+"static/media/processing.ed520e72.png",rt=n.p+"static/media/results.24ccf56c.png",it=n.p+"static/media/Helmholtz_TheisLab_Naturecover_2021_blurred.2e38101f.png",st=n.p+"static/media/Helmholtz_TheisLab_Naturecover_2021.2fd3d815.png",ot=n(913),ct=n(583);!function(){var e=Object(P.a)(B.a.mark((function e(t){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe.default.post("/".concat("contactus"),t).then((function(e){return console.log(e)})).catch((function(e){return console.log(e)}));case 2:case"end":return e.stop()}}),e)})))}();function lt(){var e=Object(a.useState)({email:"",firstName:"",lastName:"",subject:"",message:""}),t=Object(c.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)({email:!1,firstName:!1,lastName:!1,subject:!1,message:!1}),s=Object(c.a)(i,2),o=s[0],l=s[1],d=Object(a.useState)({open:!1,type:"error"}),u=Object(c.a)(d,2),j=u[0],b=u[1],f=function(e){return function(t){r(Object(w.a)(Object(w.a)({},n),{},Object(h.a)({},e,t.target.value)))}},m=function(e){return function(){l(Object(w.a)(Object(w.a)({},o),{},Object(h.a)({},e,!1)))}},x=function(e){return function(){""===n[e]?l(Object(w.a)(Object(w.a)({},o),{},Object(h.a)({},e,!0))):l(Object(w.a)(Object(w.a)({},o),{},Object(h.a)({},e,!1)))}};return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(p.a,{sx:{width:"100%",margin:"2em 0 0em 0",padding:"2em 0em",boxShadow:"0px 4px 6px rgba(0, 0, 0, 0.10), 0px 0px 1px rgba(0, 0, 0, 0.20)",borderRadius:"10px"},children:Object(E.jsxs)(ot.a,{sx:{width:"80%",margin:"auto"},direction:"column",spacing:4,children:[Object(E.jsxs)(ot.a,{direction:"row",justifyContent:"space-between",spacing:2,children:[Object(E.jsx)(qe,{value:n.email,isRequired:!0,label:"Email",errorHandler:o.email,helperText:o.email?"Email cannot be empty!":"",onChangeEvent:f("email"),onBlurEvent:x("email"),onFocusEvent:m("email")}),Object(E.jsx)(qe,{value:n.firstName,isRequired:!0,label:"First Name",errorHandler:o.firstName,helperText:o.firstName?"First Name cannot be empty!":"",onChangeEvent:f("firstName"),onBlurEvent:x("firstName"),onFocusEvent:m("firstName")}),Object(E.jsx)(qe,{value:n.lastName,isRequired:!0,label:"Last Name",errorHandler:o.lastName,helperText:o.lastName?"Last Name cannot be empty!":"",onChangeEvent:f("lastName"),onBlurEvent:x("lastName"),onFocusEvent:m("lastName")})]}),Object(E.jsx)(qe,{value:n.subject,isRequired:!0,label:"Subject",maxLength:100,errorHandler:o.subject,helperText:o.subject?"Subject cannot be empty!":"",onChangeEvent:f("subject"),onBlurEvent:x("subject"),onFocusEvent:m("subject")}),Object(E.jsx)(qe,{value:n.message,isRequired:!0,label:"Message",multiline:!0,maxLength:1e3,errorHandler:o.message,helperText:o.message?"Message cannot be empty!":"",onChangeEvent:f("message"),onBlurEvent:x("message"),onFocusEvent:m("message")}),Object(E.jsx)(p.a,{sx:{display:"flex",flexDirection:"row",justifyContent:"center"},children:Object(E.jsx)(q.default,{onClick:function(){var e=Object(w.a)({},o);for(var t in n)""===n[t]&&(e[t]=!0,!1);l(e),ct.a.send(oe.h,oe.i,n,oe.g).then((function(e){console.log("email sent successfully status: ".concat(e)),b({open:!0,type:"success"}),r({email:"",firstName:"",lastName:"",subject:"",message:""})}),(function(e){console.log("error occurred: ".concat(e)),b({open:!0,type:"error"})}))},children:"Send"})})]})}),Object(E.jsx)(Pe.a,{open:j.open,autoHideDuration:3e3,onClose:function(){return b(Object(w.a)(Object(w.a)({},j),{},{open:!1}))},anchorOrigin:{vertical:"bottom",horizontal:"left"},children:Object(E.jsx)(Ne.a,{onClose:function(){return b(Object(w.a)(Object(w.a)({},j),{},{open:!1}))},severity:j.type,sx:{width:"100%"},children:"success"===j.type?"Email sent succesfully!":"Error occurred. Please send again!"})})]})}var dt=function(){var e,t=Object(u.useHistory)(),n=Object(u.useLocation)(),r=Object(a.useState)(it),i=Object(c.a)(r,2),s=i[0],o=i[1],l=Object(a.useContext)(He),d=function(){l.switchLogin(!1),l.switchRegister(!0)},b=Object(a.useRef)(),m=function(){b.current.scrollIntoView({behavior:"smooth"})},g=Object(a.useRef)();Object(a.useEffect)((function(){n.state&&n.state.contact_us&&g.current.scrollIntoView(),n.state&&n.state.onGuideClicked&&m()}),[]);var v=Object(a.useState)(0),w=Object(c.a)(v,2),C=w[0],k=w[1];return Object(a.useEffect)((function(){var e;(e=st,new Promise((function(t,n){var a=new Image;a.addEventListener("load",t),a.addEventListener("error",n),a.src=e}))).then((function(){o(st)}))}),[]),Object(E.jsxs)(p.a,{style:{overflow:"hidden"},sx:{position:"relative"},children:[l.loginVisible&&Object(E.jsx)(Ye,{}),l.registerVisible&&Object(E.jsx)(tt,{}),l.forgetVisible&&Object(E.jsx)(Ve,{}),Object(E.jsxs)(p.a,{sx:{width:window.width,height:"100vh",backgroundImage:"url(".concat(s,")"),backgroundSize:"cover",position:"relative",paddingBottom:"4em"},children:[Object(E.jsx)(p.a,{sx:{height:C,position:"relative"},children:Object(E.jsx)(Ae,{backgroundColor:"transparent",setNavbarHeight:k,onLoginClicked:function(){l.switchRegister(!1),l.switchLogin(!0)},onSignUpClicked:d,onGuideClicked:m,executeScroll:function(){return g.current.scrollIntoView({behavior:"smooth"})}})}),Object(E.jsx)(p.a,{id:"title container",width:"100%",height:"100%",textAlign:"center",position:"relative",top:"30%",children:Object(E.jsx)(_e,{backgroundImageLoaded:s===st,onGuideClick:m})})]}),Object(E.jsx)(p.a,{sx:{position:"relative",width:"140vw",height:"5vw",left:"-20vw",top:"-2vw",borderRadius:"50%",zIndex:"0"}}),Object(E.jsxs)(p.a,{sx:{position:"relative",width:"100vw",padding:{xs:"0% 5%",sm:"0% 5%",md:"0% 15%",lg:"0% 15%",xl:"0% 15%"},top:"-2.5vw"},children:[Object(E.jsxs)(p.a,{ref:b,sx:{width:"100%",position:"relative",margin:"auto"},children:[Object(E.jsx)(j.a,{sx:{textAlign:"center"},fontSize:"2em",fontWeight:"bold",children:"What We Do"}),Object(E.jsxs)(p.a,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row",md:"row",lg:"row",xl:"row"},justifyContent:"space-between",alignItems:"center",width:"90%",gap:"1em",margin:"auto"},children:[Object(E.jsx)(p.a,{sx:{width:{xs:"100%",sm:"50%",md:"50%",lg:"50%",xl:"50%"},backgroundColor:"transparent",borderRadius:"20px"},children:Object(E.jsx)("img",{style:{width:"100%"},src:"https://storage.googleapis.com/jst-2021-bucket-static/retina.png",alt:"Science"})}),Object(E.jsxs)(p.a,{sx:{width:{xs:"100%",sm:"50%",md:"50%",lg:"50%",xl:"50%"}},children:[Object(E.jsx)(j.a,{fontSize:"1.2em",fontWeight:"bold",children:"Single-Cell Omics Analysis"}),Object(E.jsxs)(j.a,{margin:"0.5em 0 1em 0",color:_.a.neutral[600],children:["ArchMap offers single-cell omics reference mapping using ",Object(E.jsx)("a",{style:{textDecoration:"none"},href:"https://scarches.readthedocs.io/en/latest/",children:Object(E.jsx)(j.a,{sx:{color:_.a.primary[400],":hover":{color:_.a.primary[500]}},display:"inline",children:"scArches"})}),". Check out our reference atlases or jump right in!"]}),Object(E.jsxs)(p.a,{sx:{display:"flex",flexDirection:{xs:"column",sm:"row",md:"row",lg:"row",xl:"row"},justifyContent:"space-evenly",width:"100%"},children:[Object(E.jsxs)(p.a,{id:"References div",sx:{width:"auto",margin:"1em 0 1em 0",padding:"0px 5px 0px 5px"},children:[Object(E.jsx)(p.a,{onClick:function(){t.push("/references"),window.scrollTo(0,0)},children:Object(E.jsx)(j.a,{sx:{fontWeight:"bold",color:_.a.primary[400],":hover":{color:_.a.primary[500],cursor:"pointer"}},children:"References"})}),Object(E.jsx)(j.a,{color:_.a.neutral[600],children:"We offer multiple atlases to choose from."})]}),Object(E.jsxs)(p.a,{id:"Docs div",sx:{width:"auto",margin:"1em 0 1em 0",padding:"0px 5px 0px 5px"},children:[Object(E.jsx)(p.a,{children:Object(E.jsx)(j.a,{sx:{fontWeight:"bold",color:_.a.primary[400],":hover":{color:_.a.primary[500],cursor:"pointer"}},children:Object(E.jsx)("a",{style:{textDecoration:"none",color:_.a.primary[400],"&:hover":{color:_.a.primary[900]}},href:"https://archmap-docu.readthedocs.io/",children:"Docs"})})}),Object(E.jsx)(j.a,{color:_.a.neutral[600],children:"Check out the docs for more information."})]})]})]})]})]}),Object(E.jsxs)(p.a,{sx:{width:"100%",marginTop:"5em",backgroundColor:_.a.primary[800],p:"1em 1em 5em 1em",color:"white",borderRadius:"20px",boxShadow:"0px 0px 10px rgba(0, 0, 0, 0.1)",position:"relative"},children:[Object(E.jsx)(j.a,{sx:{textAlign:"center"},fontSize:"2em",fontWeight:"bold",children:"Quick Guide"}),Object(E.jsx)(p.a,{sx:{position:"relative",gap:"1em",display:"flex",flexDirection:{xs:"column",sm:"row",md:"row",lg:"row",xl:"row"},justifyContent:"space-between",alignItems:"center",width:"90%",margin:"auto",padding:"5% 10% 0% 10%"},children:Object(E.jsxs)(p.a,{sx:{width:"100%"},children:[Object(E.jsxs)(j.a,{sx:{fontSize:"1.2em",textAlign:"center",fontWeight:"bold",paddingBottom:"2%"},children:[Object(E.jsx)(p.a,{sx:{cursor:"pointer",display:"inline",color:_.a.primary[400],":hover":{color:_.a.primary[500]}},onClick:d,children:"Sign Up"})," Or Start Analyzing"]}),Object(E.jsx)(j.a,{color:_.a.neutral[500],children:"Create an account or start analyzing right away. By creating an account, you benefit from permanent project storage and collaboration with other labs."})]})}),Object(E.jsxs)(p.a,{sx:{position:"relative",gap:"1em",display:"flex",flexDirection:{xs:"column",sm:"row",md:"row",lg:"row",xl:"row"},justifyContent:"space-between",alignItems:"center",width:"90%",margin:"auto",padding:"10% 10% 5% 10%"},children:[Object(E.jsx)(p.a,{sx:{position:"absolute",top:"calc(5% + 8px)",left:"7px",width:"2px",height:"calc(95% - 8px)",bgcolor:_.a.neutral[700]}}),Object(E.jsx)(p.a,{sx:{width:"16px",height:"16px",position:"absolute",top:"5%",left:"0%",borderRadius:"10px",border:"2px solid white",bgcolor:_.a.primary[800]}}),Object(E.jsx)(p.a,{sx:{width:"30px",height:"30px",position:"absolute",top:"50%",left:"0%",transform:"translate(-7px, -15px)",bgcolor:_.a.primary[800]},children:Object(E.jsx)(f.a,{sx:{width:"20px",height:"20px",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}})}),Object(E.jsxs)(p.a,{sx:{width:{xs:"100%",sm:"50%",md:"50%",lg:"50%",xl:"50%"}},children:[Object(E.jsx)(j.a,{fontSize:"1.2em",fontWeight:"bold",paddingBottom:"2%",children:"Step 1: Select Atlas and Model"}),Object(E.jsx)(j.a,{color:_.a.neutral[500],children:"Start by choosing a reference atlas and one of the available pre-trained models."})]}),Object(E.jsx)(p.a,{sx:{width:{xs:"100%",sm:"50%",md:"50%",lg:"50%",xl:"50%"},backgroundColor:"white",borderRadius:"20px"},children:Object(E.jsx)("img",{style:{width:"100%"},src:nt,alt:"Upload"})})]}),Object(E.jsxs)(p.a,{sx:{position:"relative",gap:"1em",display:"flex",flexDirection:{xs:"column",sm:"row",md:"row",lg:"row",xl:"row"},justifyContent:"space-between",alignItems:"center",width:"90%",margin:"auto",padding:"5% 10%"},children:[Object(E.jsx)(p.a,{sx:{position:"absolute",top:"0%",left:"7px",width:"2px",height:"100%",bgcolor:_.a.neutral[700]}}),Object(E.jsx)(p.a,{sx:{zIndex:"1",width:"30px",height:"30px",position:"absolute",top:"50%",left:"0%",transform:"translate(-7px, -15px)",bgcolor:_.a.primary[800]},children:Object(E.jsx)(x.a,{sx:{width:"20px",height:"20px",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}})}),Object(E.jsxs)(p.a,{sx:{width:{xs:"100%",sm:"50%",md:"50%",lg:"50%",xl:"50%"}},children:[Object(E.jsx)(j.a,{fontSize:"1.2em",fontWeight:"bold",paddingBottom:"2%",children:"Step 2: Upload your Data"}),Object(E.jsx)(j.a,{color:_.a.neutral[500],children:'After making your choice, upload your data. Afterwards, click on "Create Project" and wait for the processing to finish.'})]}),Object(E.jsx)(p.a,{sx:{width:{xs:"100%",sm:"50%",md:"50%",lg:"50%",xl:"50%"},backgroundColor:"white",borderRadius:"20px"},children:Object(E.jsx)("img",{style:{width:"100%"},src:at,alt:"Processing"})})]}),Object(E.jsxs)(p.a,{sx:{position:"relative",gap:"1em",display:"flex",flexDirection:{xs:"column",sm:"row",md:"row",lg:"row",xl:"row"},justifyContent:"space-between",alignItems:"center",width:"90%",margin:"auto",padding:"5% 10% 10% 10%"},children:[Object(E.jsx)(p.a,{sx:{position:"absolute",top:"0%",left:"7px",width:"2px",height:"calc(95% - 8px)",bgcolor:_.a.neutral[700]}}),Object(E.jsx)(p.a,{sx:{zIndex:"1",width:"16px",height:"16px",position:"absolute",top:"95%",left:"0%",transform:"translate(-0%, -100%)",bgcolor:_.a.primary[800]},children:Object(E.jsx)(y.a,{sx:{width:"16px",height:"16px",color:_.a.secondary1[400]}})}),Object(E.jsx)(p.a,{sx:{zIndex:"1",width:"30px",height:"30px",position:"absolute",top:"50%",left:"0%",transform:"translate(-7px, -15px)",bgcolor:_.a.primary[800]},children:Object(E.jsx)(O.a,{sx:{width:"20px",height:"20px",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"}})}),Object(E.jsxs)(p.a,{sx:{width:{xs:"100%",sm:"50%",md:"50%",lg:"50%",xl:"50%"}},children:[Object(E.jsx)(j.a,{fontSize:"1.2em",fontWeight:"bold",paddingBottom:"2%",children:"Step 3: View Results"}),Object(E.jsx)(j.a,{color:_.a.neutral[500],children:"After processing, your result will be ready. This may take some time. Don't worry! You can close the tab and come back later to see the results.  "})]}),Object(E.jsx)(p.a,{sx:{width:{xs:"100%",sm:"50%",md:"50%",lg:"50%",xl:"50%"},backgroundColor:"white",borderRadius:"20px"},children:Object(E.jsx)("img",{style:{width:"100%"},src:rt,alt:"Check Results"})})]}),Object(E.jsx)(p.a,{sx:{position:"relative",gap:"1em",display:"flex",flexDirection:{xs:"column",sm:"row",md:"row",lg:"row",xl:"row"},justifyContent:"space-between",alignItems:"center",width:"90%",margin:"auto",padding:"5% 10% 0% 10%"},children:Object(E.jsx)(p.a,{sx:{width:"100%"},children:Object(E.jsxs)(j.a,{sx:{fontSize:"1.2em",textAlign:"center",fontWeight:"bold",paddingBottom:"2%"},children:["Ready? ",Object(E.jsx)(p.a,{sx:Object(h.a)({cursor:"pointer",display:"inline",color:_.a.primary[400],":hover":{color:_.a.primary[500]}},"display","inline"),onClick:function(){t.push("/genemapper"),window.scrollTo(0,0)},children:"Start Mapping!"})]})})})]}),Object(E.jsxs)(p.a,{ref:g,sx:(e={position:"relative",margin:"4em auto"},Object(h.a)(e,"position","relative"),Object(h.a)(e,"width","100%"),e),children:[Object(E.jsx)(j.a,{sx:{textAlign:"center"},fontSize:"2em",fontWeight:"bold",children:"Contact Us"}),Object(E.jsx)(j.a,{marginTop:"1em",sx:{textAlign:"center"},fontSize:"1em",children:"Please message us in case you have any questions, feedback or collaboration-related inquiries concerning archmap.bio."}),Object(E.jsx)(lt,{})]})]}),Object(E.jsx)(De,{})]})},ut=(n(540),n(327)),ht=n.n(ut);n(541),n(542),n(536),n(537),n(538),n(539);function pt(){var e=Object(a.useState)(!1),t=Object(c.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(!1),s=Object(c.a)(i,2),o=s[0],l=s[1],d=Object(u.useHistory)(),h=F(),b=Object(c.a)(h,2),f=b[0],m=(b[1],Object(a.useCallback)((function(){console.log("login"),l(!1),r(!0)}),[r])),x=Object(a.useCallback)((function(){console.log("register"),r(!1),l(!0)}),[l]),g=Object(a.useCallback)((function(){r(!1)}),[r]),O=Object(a.useCallback)((function(){l(!1)}),[l]),v=o&&Object(E.jsx)(tt,{visible:o,onClose:O});return Object(E.jsxs)(p.a,{sx:{height:"100vh"},children:[n&&Object(E.jsx)(Ye,{visible:n,onClose:g}),v,Object(E.jsx)(p.a,{children:Object(E.jsx)(Ae,{position:"relative",onLoginClicked:m,onSignUpClicked:x,executeScroll:function(){return f?d.push({pathname:"/sequencer/help"}):d.push({pathname:"/",state:{contact_us:!0}})}})}),Object(E.jsx)(p.a,{sx:{margin:"3em auto",display:"flex",flexDirection:"column",alignItems:"center",width:{xs:"90%",sm:"90%",md:"70%",lg:"70%",xl:"70%"}},children:Object(E.jsx)(j.a,{fontWeight:"bold",fontSize:"1.4em",children:"Legal Notice"})}),Object(E.jsx)(p.a,{sx:{margin:"3em auto",display:"flex",flexDirection:"column",alignItems:"center",width:{xs:"90%",sm:"90%",md:"70%",lg:"70%",xl:"70%"}},children:Object(E.jsxs)(j.a,{fontSize:"1em",children:["Helmholtz Zentrum M\xfcnchen",Object(E.jsx)("br",{}),"Deutsches Forschungszentrum f\xfcr Gesundheit und Umwelt (GmbH)",Object(E.jsx)("br",{}),"Ingolst\xe4dter Landstra\xdfe 1,",Object(E.jsx)("br",{}),"D-85764 Neuherberg, Germany",Object(E.jsx)("br",{}),Object(E.jsx)("br",{}),"Phone: +49 (0) 89 3187-0",Object(E.jsx)("br",{}),"email: info(at)helmholtz-muenchen.de",Object(E.jsx)("br",{}),Object(E.jsx)("br",{}),Object(E.jsx)("b",{children:"Representatives"}),Object(E.jsx)("br",{}),"Board of Representatives: Prof. Dr. Matthias H. Tsch\xf6p, Kerstin G\xfcnther, Daniela Sommer (acting)",Object(E.jsx)("br",{}),Object(E.jsx)("br",{}),Object(E.jsx)("b",{children:"Chairwoman of Supervisory Board:"}),Object(E.jsx)("br",{}),"MinDir\u2019in Prof. Dr. Veronika von Messling",Object(E.jsx)("br",{}),Object(E.jsx)("br",{}),Object(E.jsx)("b",{children:"Register of Societies:"}),Object(E.jsx)("br",{}),"Amtsgericht M\xfcnchen HRB 6466",Object(E.jsx)("br",{}),Object(E.jsx)("br",{}),Object(E.jsx)("b",{children:"VAT ID number in accordance with \xa7 27 a Umsatzsteuergesetz (German Turnover-Tax Law):"}),Object(E.jsx)("br",{}),"DE 129521671",Object(E.jsx)("br",{}),Object(E.jsx)("br",{}),Object(E.jsx)("br",{})]})}),Object(E.jsx)("div",{style:{height:"calc(100vh - 485px)"}}),Object(E.jsx)(De,{})]})}function jt(){var e=Object(a.useState)(!1),t=Object(c.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(!1),s=Object(c.a)(i,2),o=s[0],l=s[1],d=Object(u.useHistory)(),h=F(),b=Object(c.a)(h,2),f=b[0],m=(b[1],Object(a.useCallback)((function(){console.log("login"),l(!1),r(!0)}),[r])),x=Object(a.useCallback)((function(){console.log("register"),r(!1),l(!0)}),[l]),g=Object(a.useCallback)((function(){r(!1)}),[r]),O=Object(a.useCallback)((function(){l(!1)}),[l]),v=o&&Object(E.jsx)(tt,{visible:o,onClose:O});return Object(E.jsxs)(p.a,{sx:{height:"100vh"},children:[n&&Object(E.jsx)(Ye,{visible:n,onClose:g}),v,Object(E.jsx)(p.a,{children:Object(E.jsx)(Ae,{position:"relative",onLoginClicked:m,onSignUpClicked:x,executeScroll:function(){return f?d.push({pathname:"/sequencer/help"}):d.push({pathname:"/",state:{contact_us:!0}})}})}),Object(E.jsx)(p.a,{sx:{margin:"3em auto",display:"flex",flexDirection:"column",alignItems:"center",width:{xs:"90%",sm:"90%",md:"70%",lg:"70%",xl:"70%"}},children:Object(E.jsx)(j.a,{fontWeight:"bold",fontSize:"1.4em",children:"Privacy Policy"})}),Object(E.jsx)(p.a,{sx:{margin:"3em auto",display:"flex",flexDirection:"column",alignItems:"center",width:{xs:"90%",sm:"90%",md:"70%",lg:"70%",xl:"70%"}},children:Object(E.jsx)(j.a,{fontSize:"1em",children:Object(E.jsx)("div",{dangerouslySetInnerHTML:{__html:'<h4>Privacy Policy</h4>\n\n              <p>We are very delighted that you have shown interest in our platform. Data protection is of a particularly high priority for the management of the Helmholtz Zentrum M\xfcnchen. The use of the Internet pages of the Helmholtz Zentrum M\xfcnchen is possible without any indication of personal data; however, if a data subject wants to use special platform services via our website, processing of personal data could become necessary. If the processing of personal data is necessary and there is no statutory basis for such processing, we generally obtain consent from the data subject.</p>\n              \n              <p>The processing of personal data, such as the name, address, e-mail address, or telephone number of a data subject shall always be in line with the General Data Protection Regulation (GDPR), and in accordance with the country-specific data protection regulations applicable to the Helmholtz Zentrum M\xfcnchen. By means of this data protection declaration, our platform would like to inform the general public of the nature, scope, and purpose of the personal data we collect, use and process. Furthermore, data subjects are informed, by means of this data protection declaration, of the rights to which they are entitled.</p>\n              \n              <p>As the controller, the Helmholtz Zentrum M\xfcnchen has implemented numerous technical and organizational measures to ensure the most complete protection of personal data processed through this website. However, Internet-based data transmissions may in principle have security gaps, so absolute protection may not be guaranteed. For this reason, every data subject is free to transfer personal data to us via alternative means, e.g. by telephone. </p>\n              \n              <h4>1. Definitions</h4>\n              <p>The data protection declaration of the Helmholtz Zentrum M\xfcnchen is based on the terms used by the European legislator for the adoption of the General Data Protection Regulation (GDPR). Our data protection declaration should be legible and understandable for the general public, as well as our customers and business partners. To ensure this, we would like to first explain the terminology used.</p>\n              \n              <p>In this data protection declaration, we use, inter alia, the following terms:</p>\n              \n              <ul>\n              <li><h4>a)    Personal data</h4>\n              <p>Personal data means any information relating to an identified or identifiable natural person (\u201cdata subject\u201d). An identifiable natural person is one who can be identified, directly or indirectly, in particular by reference to an identifier such as a name, an identification number, location data, an online identifier or to one or more factors specific to the physical, physiological, genetic, mental, economic, cultural or social identity of that natural person.</p>\n              </li>\n              <li><h4>b) Data subject</h4>\n              <p>Data subject is any identified or identifiable natural person, whose personal data is processed by the controller responsible for the processing.</p>\n              </li>\n              <li><h4>c)    Processing</h4>\n              <p>Processing is any operation or set of operations which is performed on personal data or on sets of personal data, whether or not by automated means, such as collection, recording, organisation, structuring, storage, adaptation or alteration, retrieval, consultation, use, disclosure by transmission, dissemination or otherwise making available, alignment or combination, restriction, erasure or destruction. </p>\n              </li>\n              <li><h4>d)    Restriction of processing</h4>\n              <p>Restriction of processing is the marking of stored personal data with the aim of limiting their processing in the future. </p>\n              </li>\n              <li><h4>e)    Profiling</h4>\n              <p>Profiling means any form of automated processing of personal data consisting of the use of personal data to evaluate certain personal aspects relating to a natural person, in particular to analyse or predict aspects concerning that natural person\'s performance at work, economic situation, health, personal preferences, interests, reliability, behaviour, location or movements. </p>\n              </li>\n              <li><h4>f)     Pseudonymisation</h4>\n              <p>Pseudonymisation is the processing of personal data in such a manner that the personal data can no longer be attributed to a specific data subject without the use of additional information, provided that such additional information is kept separately and is subject to technical and organisational measures to ensure that the personal data are not attributed to an identified or identifiable natural person. </p>\n              </li>\n              <li><h4>g)    Controller or controller responsible for the processing</h4>\n              <p>Controller or controller responsible for the processing is the natural or legal person, public authority, agency or other body which, alone or jointly with others, determines the purposes and means of the processing of personal data; where the purposes and means of such processing are determined by Union or Member State law, the controller or the specific criteria for its nomination may be provided for by Union or Member State law. </p>\n              </li>\n              <li><h4>h)    Processor</h4>\n              <p>Processor is a natural or legal person, public authority, agency or other body which processes personal data on behalf of the controller. </p>\n              </li>\n              <li><h4>i)      Recipient</h4>\n              <p>Recipient is a natural or legal person, public authority, agency or another body, to which the personal data are disclosed, whether a third party or not. However, public authorities which may receive personal data in the framework of a particular inquiry in accordance with Union or Member State law shall not be regarded as recipients; the processing of those data by those public authorities shall be in compliance with the applicable data protection rules according to the purposes of the processing. </p>\n              </li>\n              <li><h4>j)      Third party</h4>\n              <p>Third party is a natural or legal person, public authority, agency or body other than the data subject, controller, processor and persons who, under the direct authority of the controller or processor, are authorised to process personal data.</p>\n              </li>\n              <li><h4>k)    Consent</h4>\n              <p>Consent of the data subject is any freely given, specific, informed and unambiguous indication of the data subject\'s wishes by which he or she, by a statement or by a clear affirmative action, signifies agreement to the processing of personal data relating to him or her. </p>\n              </li>\n              </ul>\n              \n              <h4>2. Name and Address of the controller</h4>\n              <p>Controller for the purposes of the General Data Protection Regulation (GDPR), other data protection laws applicable in Member states of the European Union and other provisions related to data protection is:\n              \n              </p>\n              \n              <p>Helmholtz Zentrum M\xfcnchen \u2013 Deutsches Forschungszentrum f\xfcr Gesundheit und Umwelt GmbH</p>\n              <p>Ingolst\xe4dter Landstra\xdfe 1</p>\n              <p>85764 Neuherberg</p>\n              <p>Deutschland</p>\n              <p>Phone: +498931870</p>\n              <p>Email: info@helmholtz-muenchen.de</p>\n              <p>Website: www.helmholtz-muenchen.de</p>\n              \n              <h4>3. Name and Address of the Data Protection Officer</h4>\n              <p>The Data Protection Officer of the controller is:</p>\n              Werner Bergheim\n              <p>Helmholtz Zentrum M\xfcnchen</p>\n              <p>Ingolst\xe4dter Landstra\xdfe 1</p>\n              <p>85764 Neuherberg</p>\n              <p>Deutschland</p>\n              <p>Email: datenschutz@helmholtz-muenchen.de</p>\n              \n              <p>Any data subject may, at any time, contact our Data Protection Officer directly with all questions and suggestions concerning data protection.</p>\n              \n              <h4>4. Collection of general data and information</h4>\n              <p>The website of the Helmholtz Zentrum M\xfcnchen collects a series of general data and information when a data subject or automated system calls up the website. This general data and information are stored in the server log files. Collected may be (1) the browser types and versions used, (2) the operating system used by the accessing system, (3) the website from which an accessing system reaches our website (so-called referrers), (4) the sub-websites, (5) the date and time of access to the Internet site, (6) an Internet protocol address (IP address), (7) the Internet service provider of the accessing system, and (8) any other similar data and information that may be used in the event of attacks on our information technology systems.</p>\n              \n              <p>When using these general data and information, the Helmholtz Zentrum M\xfcnchen does not draw any conclusions about the data subject. Rather, this information is needed to (1) deliver the content of our website correctly, (2) optimize the content of our website as well as its advertisement, (3) ensure the long-term viability of our information technology systems and website technology, and (4) provide law enforcement authorities with the information necessary for criminal prosecution in case of a cyber-attack. Therefore, the Helmholtz Zentrum M\xfcnchen analyzes anonymously collected data and information statistically, with the aim of increasing the data protection and data security of our platform, and to ensure an optimal level of protection for the personal data we process. The anonymous data of the server log files are stored separately from all personal data provided by a data subject.</p>\n              \n              <h4>5. Registration on our website</h4>\n              <p>The data subject has the possibility to register on the website of the controller with the indication of personal data. Which personal data are transmitted to the controller is determined by the respective input mask used for the registration. The personal data entered by the data subject are collected and stored exclusively for internal use by the controller, and for his own purposes. The controller may request transfer to one or more processors (e.g. a parcel service) that also uses personal data for an internal purpose which is attributable to the controller.</p>\n              \n              <p>By registering on the website of the controller, the IP address\u2014assigned by the Internet service provider (ISP) and used by the data subject\u2014date, and time of the registration are also stored. The storage of this data takes place against the background that this is the only way to prevent the misuse of our services, and, if necessary, to make it possible to investigate committed offenses. Insofar, the storage of this data is necessary to secure the controller. This data is not passed on to third parties unless there is a statutory obligation to pass on the data, or if the transfer serves the aim of criminal prosecution.\n              \n              </p>\n              \n              <p>The registration of the data subject, with the voluntary indication of personal data, is intended to enable the controller to offer the data subject contents or services that may only be offered to registered users due to the nature of the matter in question. Registered persons are free to change the personal data specified during the registration at any time, or to have them completely deleted from the data stock of the controller.</p>\n              \n              <p>The data controller shall, at any time, provide information upon request to each data subject as to what personal data are stored about the data subject. In addition, the data controller shall correct or erase personal data at the request or indication of the data subject, insofar as there are no statutory storage obligations. The entirety of the controller\u2019s employees are available to the data subject in this respect as contact persons.</p>\n              \n              <h4>6. Contact possibility via the website </h4>\n              <p>This platform contains information that enables a quick electronic contact to our platform, as well as direct communication with us, which also includes a general address of the so-called electronic mail (e-mail address). All contact forms are sent to the employees at Helmholtz Zentrum M\xfcnchen responsible for the platform.\n              If a data subject contacts the controller by e-mail or via a contact form, the personal data transmitted by the data subject are automatically stored. Such personal data transmitted on a voluntary basis by a data subject to the data controller are stored for the purpose of processing or contacting the data subject. There is no transfer of this personal data to third parties.</p>\n              \n              <h4>7. Processing of user files with ScArches</h4>\n              <p>\n              1. Scope of the processing of uploaded files<br/><br/>\n              Our platform offers a user the ability to process their uploaded files using the package ScArches. As a rule, our users\' personal data are processed only with the consent of the user. An exception applies in those cases in which it is not possible to obtain prior consent due to factual reasons and statutory provisions permit the processing of the data.</p>\n              \n              <p>\n              2. Legal basis of the data processing<br/><br/>\n              If the user has consented, the legal basis for the processing of the uploaded user data is Article 6(1)(f) GDPR.\n              </p>\n\n              <p>\n              3. Purpose of The data processing<br/><br/>\n              The purpose of the data processing is in order to output the ScArches result based on the user\'s inputted data.\n              </p>\n              4. Storage period<br/><br/>\n              The user\'s data is deleted as soon as it is no longer necessary to achieve the purpose for which they were collected.\n              This means that the data is stored throughout the processing step, however, once a result is generated, it is deleted. \n              Only the outputted result is stored permanently. \n              <p>5. Possibility of withdrawal, objection or disposal<br/><br/>\n              The users have the option at all times to delete the results of the processing.\n              This is offered on the platform as a feature. Users also have the option at all times to contact us by email or by the Contact us form. \n              </p>\n              <h4>8. Routine erasure and blocking of personal data</h4>\n              <p>The data controller shall process and store the personal data of the data subject only for the period necessary to achieve the purpose of storage, or as far as this is granted by the European legislator or other legislators in laws or regulations to which the controller is subject to.</p>\n              \n              <p>If the storage purpose is not applicable, or if a storage period prescribed by the European legislator or another competent legislator expires, the personal data are routinely blocked or erased in accordance with legal requirements.</p>\n              \n              <h4>9. Rights of the data subject</h4>\n              <ul>\n              <li><h4>a) Right of confirmation</h4>\n              <p>Each data subject shall have the right granted by the European legislator to obtain from the controller the confirmation as to whether or not personal data concerning him or her are being processed. If a data subject wishes to avail himself of this right of confirmation, he or she may, at any time, contact any employee of the controller.</p>\n              </li>\n              <li><h4>b) Right of access</h4>\n              <p>Each data subject shall have the right granted by the European legislator to obtain from the controller free information about his or her personal data stored at any time and a copy of this information. Furthermore, the European directives and regulations grant the data subject access to the following information:</p>\n              \n              <ul>\n              <li>the purposes of the processing;</li>\n              <li>the categories of personal data concerned;</li>\n              <li>the recipients or categories of recipients to whom the personal data have been or will be disclosed, in particular recipients in third countries or international organisations;</li>\n              <li>where possible, the envisaged period for which the personal data will be stored, or, if not possible, the criteria used to determine that period;</li>\n              <li>the existence of the right to request from the controller rectification or erasure of personal data, or restriction of processing of personal data concerning the data subject, or to object to such processing;</li>\n              <li>the existence of the right to lodge a complaint with a supervisory authority;</li>\n              <li>where the personal data are not collected from the data subject, any available information as to their source;</li>\n              <li>the existence of automated decision-making, including profiling, referred to in Article 22(1) and (4) of the GDPR and, at least in those cases, meaningful information about the logic involved, as well as the significance and envisaged consequences of such processing for the data subject.</li>\n              \n              </ul>\n              <p>Furthermore, the data subject shall have a right to obtain information as to whether personal data are transferred to a third country or to an international organisation. Where this is the case, the data subject shall have the right to be informed of the appropriate safeguards relating to the transfer.</p>\n              \n              <p>If a data subject wishes to avail himself of this right of access, he or she may, at any time, contact any employee of the controller.</p>\n              </li>\n              <li><h4>c) Right to rectification </h4>\n              <p>Each data subject shall have the right granted by the European legislator to obtain from the controller without undue delay the rectification of inaccurate personal data concerning him or her. Taking into account the purposes of the processing, the data subject shall have the right to have incomplete personal data completed, including by means of providing a supplementary statement.</p>\n              \n              <p>If a data subject wishes to exercise this right to rectification, he or she may, at any time, contact any employee of the controller.</p></li>\n              <li>\n              <h4>d) Right to erasure (Right to be forgotten) </h4>\n              <p>Each data subject shall have the right granted by the European legislator to obtain from the controller the erasure of personal data concerning him or her without undue delay, and the controller shall have the obligation to erase personal data without undue delay where one of the following grounds applies, as long as the processing is not necessary: </p>\n              \n              <ul>\n              <li>The personal data are no longer necessary in relation to the purposes for which they were collected or otherwise processed.</li>\n              <li>The data subject withdraws consent to which the processing is based according to point (a) of Article 6(1) of the GDPR, or point (a) of Article 9(2) of the GDPR, and where there is no other legal ground for the processing.</li>\n              <li>The data subject objects to the processing pursuant to Article 21(1) of the GDPR and there are no overriding legitimate grounds for the processing, or the data subject objects to the processing pursuant to Article 21(2) of the GDPR. </li>\n              <li>The personal data have been unlawfully processed.</li>\n              <li>The personal data must be erased for compliance with a legal obligation in Union or Member State law to which the controller is subject.</li>\n              <li>The personal data have been collected in relation to the offer of information society services referred to in Article 8(1) of the GDPR.</li>\n              \n              </ul>\n              <p>If one of the aforementioned reasons applies, and a data subject wishes to request the erasure of personal data stored by the Helmholtz Zentrum M\xfcnchen, he or she may, at any time, contact any employee of the controller. An employee of Helmholtz Zentrum M\xfcnchen shall promptly ensure that the erasure request is complied with immediately.</p>\n              \n              <p>Where the controller has made personal data public and is obliged pursuant to Article 17(1) to erase the personal data, the controller, taking account of available technology and the cost of implementation, shall take reasonable steps, including technical measures, to inform other controllers processing the personal data that the data subject has requested erasure by such controllers of any links to, or copy or replication of, those personal data, as far as processing is not required. An employees of the Helmholtz Zentrum M\xfcnchen will arrange the necessary measures in individual cases.</p>\n              </li>\n              <li><h4>e) Right of restriction of processing</h4>\n              <p>Each data subject shall have the right granted by the European legislator to obtain from the controller restriction of processing where one of the following applies:</p>\n              \n              <ul>\n              <li>The accuracy of the personal data is contested by the data subject, for a period enabling the controller to verify the accuracy of the personal data. </li>\n              <li>The processing is unlawful and the data subject opposes the erasure of the personal data and requests instead the restriction of their use instead.</li>\n              <li>The controller no longer needs the personal data for the purposes of the processing, but they are required by the data subject for the establishment, exercise or defence of legal claims.</li>\n              <li>The data subject has objected to processing pursuant to Article 21(1) of the GDPR pending the verification whether the legitimate grounds of the controller override those of the data subject.</li>\n              \n              </ul>\n              <p>If one of the aforementioned conditions is met, and a data subject wishes to request the restriction of the processing of personal data stored by the Helmholtz Zentrum M\xfcnchen, he or she may at any time contact any employee of the controller. The employee of the Helmholtz Zentrum M\xfcnchen will arrange the restriction of the processing. </p>\n              </li>\n              <li><h4>f) Right to data portability</h4>\n              <p>Each data subject shall have the right granted by the European legislator, to receive the personal data concerning him or her, which was provided to a controller, in a structured, commonly used and machine-readable format. He or she shall have the right to transmit those data to another controller without hindrance from the controller to which the personal data have been provided, as long as the processing is based on consent pursuant to point (a) of Article 6(1) of the GDPR or point (a) of Article 9(2) of the GDPR, or on a contract pursuant to point (b) of Article 6(1) of the GDPR, and the processing is carried out by automated means, as long as the processing is not necessary for the performance of a task carried out in the public interest or in the exercise of official authority vested in the controller.</p>\n              \n              <p>Furthermore, in exercising his or her right to data portability pursuant to Article 20(1) of the GDPR, the data subject shall have the right to have personal data transmitted directly from one controller to another, where technically feasible and when doing so does not adversely affect the rights and freedoms of others.</p>\n              \n              <p>In order to assert the right to data portability, the data subject may at any time contact any of the following employees of the Helmholtz Zentrum M\xfcnchen:</p>\n              <ul>\n                <li>Mohammad Lotfollahi: mohammad (dot) lotfollahi (at) helmholtz-muenchen.de</li>\n                <li>Ronald Skorobogat: ronald (dot) skorobogat (at) helmholtz-muenchen.de</li>\n                <li>Amin Ben-Saad: amin (dot) bensaad (at) helmholtz-muenchen.de</li>\n              </ul>\n              \n              </li>\n              <li>\n              <h4>g) Right to object</h4>\n              <p>Each data subject shall have the right granted by the European legislator to object, on grounds relating to his or her particular situation, at any time, to processing of personal data concerning him or her, which is based on point (e) or (f) of Article 6(1) of the GDPR. This also applies to profiling based on these provisions.</p>\n              \n              <p>The Helmholtz Zentrum M\xfcnchen shall no longer process the personal data in the event of the objection, unless we can demonstrate compelling legitimate grounds for the processing which override the interests, rights and freedoms of the data subject, or for the establishment, exercise or defence of legal claims.</p>\n              \n              <p>If the Helmholtz Zentrum M\xfcnchen processes personal data for direct marketing purposes, the data subject shall have the right to object at any time to processing of personal data concerning him or her for such marketing. This applies to profiling to the extent that it is related to such direct marketing. If the data subject objects to the Helmholtz Zentrum M\xfcnchen to the processing for direct marketing purposes, the Helmholtz Zentrum M\xfcnchen will no longer process the personal data for these purposes.</p>\n              \n              <p>In addition, the data subject has the right, on grounds relating to his or her particular situation, to object to processing of personal data concerning him or her by the Helmholtz Zentrum M\xfcnchen for scientific or historical research purposes, or for statistical purposes pursuant to Article 89(1) of the GDPR, unless the processing is necessary for the performance of a task carried out for reasons of public interest.</p>\n              \n              <p>In order to exercise the right to object, the data subject may contact any employee of the Helmholtz Zentrum M\xfcnchen. In addition, the data subject is free in the context of the use of information society services, and notwithstanding Directive 2002/58/EC, to use his or her right to object by automated means using technical specifications.</p>\n              </li>\n              <li><h4>h) Automated individual decision-making, including profiling</h4>\n              <p>Each data subject shall have the right granted by the European legislator not to be subject to a decision based solely on automated processing, including profiling, which produces legal effects concerning him or her, or similarly significantly affects him or her, as long as the decision (1) is not is necessary for entering into, or the performance of, a contract between the data subject and a data controller, or (2) is not authorised by Union or Member State law to which the controller is subject and which also lays down suitable measures to safeguard the data subject\'s rights and freedoms and legitimate interests, or (3) is not based on the data subject\'s explicit consent.</p>\n              \n              <p>If the decision (1) is necessary for entering into, or the performance of, a contract between the data subject and a data controller, or (2) it is based on the data subject\'s explicit consent, the Helmholtz Zentrum M\xfcnchen shall implement suitable measures to safeguard the data subject\'s rights and freedoms and legitimate interests, at least the right to obtain human intervention on the part of the controller, to express his or her point of view and contest the decision.</p>\n              \n              <p>If the data subject wishes to exercise the rights concerning automated individual decision-making, he or she may, at any time, contact any employee of the Helmholtz Zentrum M\xfcnchen.</p>\n              \n              </li>\n              <li><h4>i) Right to withdraw data protection consent </h4>\n              <p>Each data subject shall have the right granted by the European legislator to withdraw his or her consent to processing of his or her personal data at any time. </p>\n              \n              <p>If the data subject wishes to exercise the right to withdraw the consent, he or she may, at any time, contact any employee of the Helmholtz Zentrum M\xfcnchen.</p>\n              \n              </li>\n              </ul>\n              <h4>10. Legal basis for the processing </h4>\n              <p>Art. 6(1) lit. a GDPR serves as the legal basis for processing operations for which we obtain consent for a specific processing purpose. If the processing of personal data is necessary for the performance of a contract to which the data subject is party, as is the case, for example, when processing operations are necessary for the supply of goods or to provide any other service, the processing is based on Article 6(1) lit. b GDPR. The same applies to such processing operations which are necessary for carrying out pre-contractual measures, for example in the case of inquiries concerning our products or services. Is our company subject to a legal obligation by which processing of personal data is required, such as for the fulfillment of tax obligations, the processing is based on Art. 6(1) lit. c GDPR.\n              In rare cases, the processing of personal data may be necessary to protect the vital interests of the data subject or of another natural person. This would be the case, for example, if a visitor were injured in our company and his name, age, health insurance data or other vital information would have to be passed on to a doctor, hospital or other third party. Then the processing would be based on Art. 6(1) lit. d GDPR.\n              Finally, processing operations could be based on Article 6(1) lit. f GDPR. This legal basis is used for processing operations which are not covered by any of the abovementioned legal grounds, if processing is necessary for the purposes of the legitimate interests pursued by our company or by a third party, except where such interests are overridden by the interests or fundamental rights and freedoms of the data subject which require protection of personal data. Such processing operations are particularly permissible because they have been specifically mentioned by the European legislator. He considered that a legitimate interest could be assumed if the data subject is a client of the controller (Recital 47 Sentence 2 GDPR).\n              </p>\n              \n              <h4>11. Disclosure of information for certain purposes to to third-parties</h4>\n              <p>The website uses third-party services such as Google Cloud. The information that we potentially disclose to third parties is as described below:\n              <br/>\n              <br/>\n              \u2022 Information on the browser type and the version in use\n              <br/>\n              \u2022 The user\'s operating system\n              <br/>\n              \u2022 The user\'s internet service provider\n              <br/>\n              \u2022 The user\'s pseudonymized IP address\n              <br/>\n              \u2022 Date and time of day of the access\n              <br/>\n              \u2022 Websites from which the user\'s system reaches our website\n              <br/>\n              \u2022 Websites that the user\'s system accesses through our website     \n              <br/> \n              <h4>12. Period for which the personal data will be stored</h4>\n              <p>The criteria used to determine the period of storage of personal data is the respective statutory retention period [PLACEHOLDER].</p>\n              \n              <h4>13. Provision of personal data as statutory or contractual requirement; Requirement necessary to enter into a contract; Obligation of the data subject to provide the personal data; possible consequences of failure to provide such data </h4>\n              <p>We clarify that the provision of personal data is partly required by law (e.g. tax regulations) or can also result from contractual provisions (e.g. information on the contractual partner).\n              \n              Sometimes it may be necessary to conclude a contract that the data subject provides us with personal data, which must subsequently be processed by us. The data subject is, for example, obliged to provide us with personal data when our company signs a contract with him or her. The non-provision of the personal data would have the consequence that the contract with the data subject could not be concluded.\n              \n              Before personal data is provided by the data subject, the data subject must contact any employee. The employee clarifies to the data subject whether the provision of the personal data is required by law or contract or is necessary for the conclusion of the contract, whether there is an obligation to provide the personal data and the consequences of non-provision of the personal data.\n              </p>\n              \n              <h4>14. Existence of automated decision-making</h4>\n              <p>As a responsible company, we do not use automatic decision-making or profiling.</p>\n              \n              <p>Developed by the specialists for <a href="https://willing-able.com/" target="_blank" rel="noopener noreferrer">LegalTech</a> at Willing & Able that also developed the system for <a href="https://abletotrain.com/" target="_blank" rel="noopener noreferrer">data protection officer training</a>. The legal texts contained in our privacy policy generator have been provided and published by <a href="https://dg-datenschutz.de/" target="_blank" rel="noopener noreferrer">Prof. Dr. h.c. Heiko Jonny Maniero</a> from the German Association for Data Protection and <a href="https://www.wbs-law.de/"  target="_blank" rel="noopener noreferrer nofollow">Christian Solmecke</a> from WBS law.</p>\n              \n              <style>ul { display: block; list-style: auto; }</style>\n              '},style:{maxWidth:"100vw",padding:"32px"}})})}),Object(E.jsx)("div",{style:{height:"calc(100vh - 485px)"}}),Object(E.jsx)(De,{})]})}var bt=n(454),ft=n(45),mt=n.n(ft),xt=n(475),gt=n(444),Ot=n(173),vt=n.n(Ot),yt=function(){var e=Object(a.useState)(!1),t=Object(c.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(!1),s=Object(c.a)(i,2),o=s[0],l=s[1],u=Object(a.useCallback)((function(){l(!1),r(!0)}),[r]),h=Object(a.useCallback)((function(){r(!1),l(!0)}),[l]),b=Object(a.useCallback)((function(){r(!1)}),[r]),f=Object(a.useCallback)((function(){l(!1)}),[l]);return Object(E.jsxs)("div",{children:[Object(E.jsx)("div",{className:vt.a.appbar,children:Object(E.jsxs)(xt.a,{children:[Object(E.jsx)(d.b,{to:"/",children:Object(E.jsx)(C.a,{color:"success","aria-label":"open drawer",children:Object(E.jsx)("img",{alt:"logo",src:A})})}),Object(E.jsx)(j.a,{sx:{fontSize:"24px",fontWeight:"500"},children:"genomics.ai"}),Object(E.jsx)(p.a,{sx:{flexGrow:1},children:Object(E.jsx)(j.a,{variant:"h6",sx:{flexGrow:1},children:Object(E.jsxs)("ul",{children:[Object(E.jsx)(p.a,{children:Object(E.jsx)("li",{children:Object(E.jsx)(d.b,{to:"/",className:vt.a.navbarcontent,children:"Home"})})}),Object(E.jsx)("li",{children:Object(E.jsx)(d.b,{to:"about",className:vt.a.navbarcontent,children:"Team"})}),Object(E.jsx)("li",{children:Object(E.jsx)(d.b,{to:"docs",className:vt.a.navbarcontent,children:"Docs"})}),Object(E.jsx)("li",{children:Object(E.jsx)(d.b,{to:"contact",className:vt.a.navbarcontent,children:"Contact"})})]})})}),Object(E.jsxs)(p.a,{className:vt.a.buttonContainer,children:[Object(E.jsx)(gt.a,{variant:"text",color:"inherit",sx:{m:2},onClick:h,children:Object(E.jsx)(j.a,{sx:{color:"black",fontWeight:"500"},children:"Sign up"})}),Object(E.jsx)(gt.a,{variant:"outlined",color:"info",onClick:u,children:Object(E.jsx)(j.a,{sx:{color:"#4F83CC",fontWeight:"500"},children:"Login"})})]})]})}),Object(E.jsxs)("div",{children:[Object(E.jsx)(Ye,{visible:n,onClose:b}),Object(E.jsx)(tt,{visible:o,onClose:f,onSuccessfulRegistration:u})]})]})},wt=n.p+"static/media/visualisation.af229bc1.png",Ct=n.p+"static/media/zoomVisualisation.982e0091.png",kt=n.p+"static/media/allClusterLabels.06044daf.png",St=n.p+"static/media/clusterDetails.3b8b8559.png",It=n.p+"static/media/clusterLabel.30c9dce8.png",At=n.p+"static/media/csvformat.fb7de25a.png",_t=function(e){return Object(E.jsxs)("div",{children:[Object(E.jsx)(yt,{}),Object(E.jsx)("div",{className:mt.a.container,children:Object(E.jsxs)(ot.a,{spacing:"30px",children:[Object(E.jsx)(j.a,{sx:{fontWeight:"bold",fontSize:"30px"},children:"Documentation"}),Object(E.jsx)("div",{className:mt.a.textContainer,children:Object(E.jsx)(j.a,{sx:{fontSize:"25px",paddingInline:"350px",maxWidth:"1700px"},align:"center",children:"This Documentationn provides you with a basic understanding of our implemented solution."})}),Object(E.jsx)(bt.a,{variant:"middle",textAlign:"center",sx:{paddingTop:"100px",paddingBottom:"40px"},children:Object(E.jsx)(j.a,{sx:{width:"400px",fontWeight:"bold",fontSize:"30px"},children:"1. Machine Learning Model"})}),Object(E.jsx)("div",{className:mt.a.textContainer,children:Object(E.jsx)(j.a,{sx:{fontSize:"20px",paddingInline:"350px",maxWidth:"1700px"},align:"center",children:"We are working hard on providing you with a documentation for our machine learning model in the near future. If you experience problems or have any questions feel free to get in touch with us."})}),Object(E.jsx)(bt.a,{variant:"middle",textAlign:"center",sx:{paddingTop:"100px",paddingBottom:"40px"},children:Object(E.jsx)(j.a,{sx:{width:"250px",fontWeight:"bold",fontSize:"30px"},children:"2. Visualisation"})}),Object(E.jsx)("div",{className:mt.a.textContainer,children:Object(E.jsx)(j.a,{sx:{fontSize:"20px",paddingInline:"350px",maxWidth:"1700px"},align:"center",children:"Based on your input data set we will provide you with a visualisation containing the calculated classifications for your cells. (An example can be seen below)"})}),Object(E.jsx)("img",{className:mt.a.mainIllustration,src:wt,alt:"visualisation"}),Object(E.jsx)(bt.a,{variant:"middle",textAlign:"center",sx:{paddingTop:"100px",paddingBottom:"40px"},children:Object(E.jsx)(j.a,{sx:{width:"150px",fontWeight:"bold",fontSize:"30px"},children:"Input Data"})}),Object(E.jsx)("div",{className:mt.a.textContainer,children:Object(E.jsx)(j.a,{sx:{fontSize:"20px",paddingInline:"350px",maxWidth:"1700px"},align:"center",children:"After processing the raw data provided by the user, the machine learning model returns a .csv file. This .csv file is needed as input for the visualisation in the following format"})}),Object(E.jsx)("div",{className:mt.a.textContainer,children:Object(E.jsx)(j.a,{sx:{fontSize:"20px",paddingInline:"350px",maxWidth:"1700px",fontWeight:"bold"},align:"center",children:"(x,y denote the UMAP coordinates of a sample)"})}),Object(E.jsx)("img",{className:mt.a.csvImage,src:At,alt:"visualisation"}),Object(E.jsx)(bt.a,{variant:"middle",textAlign:"center",sx:{paddingTop:"100px",paddingBottom:"40px"},children:Object(E.jsx)(j.a,{sx:{fontWeight:"bold",fontSize:"30px"},children:"Features"})}),Object(E.jsxs)(ot.a,{direction:"column",spacing:25,children:[Object(E.jsxs)("div",{className:mt.a.infoContainer,children:[Object(E.jsx)("img",{className:mt.a.verticalIllustration,src:Ct,alt:"science-guy"}),Object(E.jsxs)("div",{className:mt.a.explanationLeft,children:[Object(E.jsx)(j.a,{className:mt.a.explanationTitle,sx:{fontSize:"25px",fontWeight:"bold"},children:"Zoom in/out"}),Object(E.jsx)(j.a,{sx:{fontSize:"20px"},children:"The buttons in the top right corner of the visualisation allow you to zoom in on the generated sample points."}),Object(E.jsx)("br",{}),Object(E.jsx)(j.a,{sx:{fontSize:"20px"},children:"At the highest zoom level, the sample IDs are also displayed when hovering. Panning is only possible from the first zoom level."}),Object(E.jsx)("br",{}),Object(E.jsx)("br",{}),Object(E.jsx)(j.a,{className:mt.a.explanationTitle,sx:{fontSize:"25px",fontWeight:"bold"},children:"Resetting the Zoom Level"}),Object(E.jsx)(j.a,{sx:{fontSize:"20px"},children:"By clicking the 'Reset' button in the upper right corner you can reset the zoom level to the original value."})]})]}),Object(E.jsxs)(ot.a,{direction:"column",children:[Object(E.jsxs)("div",{className:mt.a.infoContainer,children:[Object(E.jsx)("img",{className:mt.a.horizontalIllustration,src:It,alt:"cluster label"}),Object(E.jsxs)("div",{className:mt.a.explanationLeft,children:[Object(E.jsx)(j.a,{className:mt.a.explanationTitle,sx:{fontSize:"25px",fontWeight:"bold"},children:"Single Cluster Labels"}),Object(E.jsxs)(j.a,{sx:{fontSize:"20px"},children:[" ","The visualization temporarily displays a cluster\u2019s name when hovering over it."]})]})]}),Object(E.jsxs)("div",{className:mt.a.infoContainer,children:[Object(E.jsx)("img",{className:mt.a.horizontalIllustration,src:kt,alt:"all cluster labels"}),Object(E.jsxs)("div",{className:mt.a.explanationLeft,children:[Object(E.jsx)(j.a,{className:mt.a.explanationTitle,sx:{fontSize:"25px",fontWeight:"bold"},children:"All Cluster Labels"}),Object(E.jsxs)(j.a,{sx:{fontSize:"20px"},children:[" ","To permanently display all cluster labels you need to press the 'Labels' button in the right upper corner."]})]})]})]}),Object(E.jsxs)("div",{className:mt.a.infoContainer,children:[Object(E.jsx)("img",{className:mt.a.horizontalIllustration,src:St,alt:"cluster Details"}),Object(E.jsxs)("div",{className:mt.a.explanationLeft,children:[Object(E.jsx)(j.a,{className:mt.a.explanationTitle,sx:{fontSize:"25px",fontWeight:"bold"},children:"Cluster Details"}),Object(E.jsx)(j.a,{sx:{fontSize:"20px"},children:"When clicking on a cluster you\u2019ll be presented with more detailed information about it."}),Object(E.jsx)("br",{}),Object(E.jsx)("br",{}),Object(E.jsx)(j.a,{className:mt.a.explanationTitle,sx:{fontSize:"25px",fontWeight:"bold"},children:"Portrayed Cluster Attributes:"}),Object(E.jsx)(j.a,{sx:{fontSize:"20px"},children:"- percentage share of all samples"}),Object(E.jsx)(j.a,{sx:{fontSize:"20px"},children:"- number of samples"}),Object(E.jsx)(j.a,{sx:{fontSize:"20px"},children:"- average L2 distance of the samples to the mean."})]})]})]})]})}),Object(E.jsx)(De,{})]})},Et=n(153),Dt=n(347),Rt=n.n(Dt),Ft=Object(Et.b)({palette:{primary:{main:"#0075FF"},secondary:{main:"#FFFFFF"}}}),Tt=function(){var e=Object(a.useState)({email:"",firstname:"",lastname:"",message:""}),t=Object(c.a)(e,2),n=t[0],r=t[1],i=Object(a.useCallback)((function(e){r((function(t){return Object(w.a)(Object(w.a)({},t),{},Object(h.a)({},e.target.id,e.target.value))}))}),[r]),s=function(){var e=Object(P.a)(B.a.mark((function e(t){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),{firstname:n.firstname,lastname:n.lastname,email:n.email,message:n.message};try{r({email:"",firstname:"",lastname:"",message:"...sending"})}catch(a){console.log(a)}case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(E.jsx)(l.a,{theme:Ft,children:Object(E.jsxs)("div",{children:[Object(E.jsx)(yt,{}),Object(E.jsxs)("div",{className:Rt.a.headerContainer,children:[Object(E.jsxs)(ot.a,{spacing:"30px",children:[Object(E.jsx)(j.a,{sx:{fontWeight:"bold",fontSize:"30px"},children:"Contact Us"}),Object(E.jsx)("div",{className:Rt.a.textContainer,children:Object(E.jsx)(j.a,{sx:{fontSize:"25px",paddingInline:"350px",maxWidth:"1700px"},align:"center",children:"Please message us in case you have any questions, feedback or collaboration-related inquiries concerning Archmap.bio."})})]}),Object(E.jsx)(p.a,{component:"span",margin:"auto",className:Rt.a.formContainer,sx:{width:"1000px",height:"500px",maxWidth:"100%",justifyContent:"center",alignItems:"center"},children:Object(E.jsxs)(Re.a,{container:!0,spacing:1,direction:"column",justifyContent:"center",sx:{align:"center",display:"flex"},children:[Object(E.jsx)(Re.a,{item:!0,children:Object(E.jsx)(Ge.a,{id:"email",label:"Email",placeholder:"Enter your email address",variant:"filled",value:n.email,onChange:i,required:!0,fullWidth:!0,type:"email"})}),Object(E.jsx)(Re.a,{item:!0,children:Object(E.jsxs)(Re.a,{container:!0,spacing:1,direction:"row",sx:{align:"center",display:"flex"},children:[Object(E.jsx)(Re.a,{item:!0,xs:6,children:Object(E.jsx)(Ge.a,{id:"firstname",label:"Firstname",placeholder:"Enter your firstname",variant:"filled",rowsMax:1,value:n.firstname,onChange:i,required:!0,fullWidth:!0,type:"text"})}),Object(E.jsx)(Re.a,{item:!0,xs:6,children:Object(E.jsx)(Ge.a,{id:"lastname",label:"Lastname",placeholder:"Enter your lastname",variant:"filled",rowsMax:1,value:n.lastname,onChange:i,fullWidth:!0,required:!0,type:"text"})})]})}),Object(E.jsx)(Re.a,{item:!0,children:Object(E.jsx)(Ge.a,{id:"message",label:"Message",placeholder:"Enter your message",variant:"filled",multiline:!0,rows:8,rowsMax:20,value:n.message,onChange:i,fullWidth:!0,required:!0,type:"text"})}),Object(E.jsx)(Re.a,{item:!0,children:Object(E.jsx)(gt.a,{variant:"contained",style:{height:"60px",width:"180px",borderRadius:"10px",fontWeight:"bold"},size:"large",onClick:s,color:"primary",children:"Send"})})]})}),Object(E.jsx)(De,{})]})]})})},Bt=n(546),Pt=n.n(Bt),Nt=n(544),Lt=n.n(Nt),Mt=n(543),zt=n.n(Mt),Ut=n(390),Wt=n.n(Ut),Gt=n(469),qt=n(464),Ht=n(545),Qt=n.n(Ht),Vt=n(377),Yt=n.n(Vt),Kt=n(547),Jt=n.n(Kt),Zt="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMQAAAGvCAYAAAAE4npGAAAgAElEQVR4Ae1d23HjOLOGvAk4BIfgEByBzK2zFrXzMs5gJ4ORRe3z+G1rSG3JGXgy0P+2VSOqNBkoBIbgUwAJkaJ4F0B0A+0qFymKIolGf+x7g7Eef97icOstdg/TIH59DOL3x2V8fAzij9N/+nn7uNpvvOXPZ2/x312Py9OpRIF2CnibW/YUPt/4681kFh0mfnic+NFH/i8+b2/89Sv7v7XXfsEBZxRAkJyYvwiE5v0tB8eA29JPiAI5Bf6IHiZ+tM0ZvwiCxv2Eg4fNN9e/nPkbXkiCZobPJUTTeav90QtiPYjNyUZ7tlFgOBAKUiMFzFXA8IL4r8cgHiIRGgEyXe6/2TZnNB4NFPA2tzd+9G2ARLgAQukaCfO/f+n1xJxpB6hGjUA4ux6XFmRf9JoTp06e/3M3mYW/Sozcxui9vr+ZRV870VQ7GKRaRaDoNB/OncTBcGEoN9oIvYBQBJlQoZoI7AX7r2dvcsm8+rYH7rlqeib6zi0KjAUGCYxaScEN3pHBIFQssincYvim0WqyGVolCJtHDxfPdRFT0CcVLmwNL9hdPtDFE9IBqynwFN7Lt/b42/DIeHxD/vE4gQnpULjnVj4Lbd2kwMAYQ+vbvyu42CxanChvUjpIUJCUOE2HeztprEEZc3cFQem8RBCeR6ElU5rcTl/iV/c4gUbMKXAzj95KzGkEHMKW8F5EXtKFXj86OFbxkdjDTQqM7VmqAx97Wr8yL4i3ozN/jcFOLlgHAeFtbusY1MDxA9ORnjEUYN7i572DLOH2kGHYD5mKtj5yQJhXl7JnIMPaQWyAAkT0AQwQlA3rHCQIEPUSieomnIMDY/Pw2YCtUOvFgiUhqJDIPUSAA0S5DNSgTeEtd/3y1N1jH/tG7Edf4EgIblQDAgQF5+zj99YR+etXWIAI4gMUT5O32m9aCUgnWEWBiR/9gAII5q+3bLra/YACiMcgPlg12zSYVgpMZusDKEB4L/EbIECkCVatZKQTbKEAFDDw52C8O4f3slsAAsQH1VrbwuodxmG0BuKyLFWkgAOohTiLlFMsogMj2XIKNJfr07/PzPv75z0kCUGeJlu4vX0cUNK+pdqWpn8vDreQAEGGdTsj2XIGJINa2BCyjBRSxisHJ6WB28LyDeMQ7WYu9Xj5tjawzR06kGoiBCAohaOBkyz5Cpr9wGMQ8g9M1VyeNpI/nHxI2lpFAdNNBcoSSFTLSQpD8zRxFY7UJjk7Fm7hqUsf7M/veSPurMv3mfvTtKFN7lcLgSCHBExdEgZ1uV0+pCS/DIykNkkGsmwLzbvEmxxckBhYCoeQVqrVJijdHcr6K302620SKRtlRAC0Iz6mL7u8m1r5gYd8notVaGqrpYgxzTKmKfrzqr0LduJvY9N2Q8X9lRvX0LwbppiA7puDv3a5LWjxCA4Q5VLik8mmuvkkEEOCoUV9yQG0zFchMVb7S4PnQr71PDCLFsSQYBjSqArL/Ki+bJn3RapQW4y7Y5W7YEW3uPJyrsQgLr4k2FPY3BwPoPv141GHlCAD2+ibGQb4KtytZWUDpNrEE/50dOQAVeBOEmpskJytCVEGgvwMrT6ioMIp9zjxVWMmswhMTe/YDOH6/Wq9SxIMcgvR26TF48QHnObVJK4zh2vjFx02JMO3bbl6UngzGzeqC8+SaKm5BtUsi1SnMcBZGYyrA0YWpEsKjAgJFHpynMiecMjILi2yWAeE4nGANRInUOpqm0/2hBvSqTJ3qcj8VftQYxJCaq32R9WJf4IGwp6g+MQYKovJe3Q2psvAgGpcc1BoW/A9Te0gI9u3U1r0MqYvAQEzci1tG12qE7Q1C0y+TW27t2g1U2b0Pp8hSwkewdaiOnECzSnfyTYwVBYC9QEDPxdinYSUEJk9oa9jOIHCKs9TL1drE1BA5jflHTr0pHVkBIHWXc6+t/ZYtkqHvKUmEBS/Ay8lRJeO/+6Kz6xyn4qKxmJaffdRJh0kY4G2Jbi00GlPUM4TctVJoXTIAQHb46TdniBQoAWFcumQgyLenhm0BT0eynEtaeInAmxuqXOHPrVGj32kQTqc+AFoRV0ZjNriE5wQFM1GJSm0SYccFKCW4DrlN5VAoScrVhKBg4LqKMADY1DOkpzjrtus7SXUTNgcIDqNbE4ssimAAyI8Ds5Z6goGeR7UMtOSlODg0JMqfiIEVdzp0fuvt1O0q0qSB+QWerDuBI4R1r6m4N31DKwWWBoNaQmA8hZ0enjJ+zUN9l/Lz6/8MxUYgVGhRlOVykzkBfHr6U1cYkJox0cBBeU+GQcFT8os8+lon0Wp6TI+QmP+uuf5fRV/1k4cAoVBUBhQlcoMhUl14kAZBRSztTfxIyoyGrnIyJiqdAkKPKoTB4XWwJ0kDl/ila9Kg/T/Zv4dVf9bo6qSnHO5xaY6iTXs/v7Z3NNTDs7B7W+z9We1Xh/dXigAqlKZT7CpTgSK8gymn/GBIfoAoyqVSYrJ65QZ3glv3Vkeh6ufcYLBoFepC6OAr5u4dA8TKBhjKMHgh+9deNLoOWhynUrAGMX7ZHRm6m+OEQyiYUB5Kd36IZr9BqE9IZICXQTFjR/+hcuATg109qlloROzELi8uxfsFnUBMsjHR4loX5LLyJGbWfQVJRhMRqOvmSmE9oSQFC6AAi0Y/LW+tkPXMHuX3yKMT5zqKWwGxY0ffcMoGYTdwAOemP+wGtlCrVvtN9o6A5qYVF7U5EdbtGDAYkS3za233D9Dthtanu2gZZGWNqKp/l6UvYa/cIKBB9+iB9UkMXo9rEZ2JimOqEGBvDECqDwllShCGMk+2RSiERrGqPYf0QPmzFtrwSCBhdXzJNUqrX2fJJEUbbHGGKRaxzBEoq+dK8yeJwkKDB4ovJ4kmRk7YB24a5nT1O+F5wlRpZ0EQmm7BWlXCHsBqyepAAZbPEpdQSZAEcTw+zuVcp7OQCF6P+nrOt6VlqfzxHJg2NfIG7Gf0olwQHZ46jWvSzhjsiYGhPldAsGuyOwF7GWrCdjahrEw4wWxhxwQ5tM97Fh4PkGXsKcLJMgDd+eu2YUhFQp5tw82W3u6+Avlda0CRRCbmdz5P3fMj35ItyWW7ehtJ7EgBHU0u2TfGHXNzsNnLOtYEBha0GkTKNJlvkypUP/csXn0BllKEBhawCC/tgoUfEHI5c9nObbRt0ClBYGhJydYBgq+KOTGWCBPNE2DsxA9gaEnGOTpFoLiOErXQEnA8hZA1iuBoTwpPT9b430qGN1GDW5O/9RFO3oQj8DQk/nrTrcRFEYNbgGKUY3uxLoCnzpmHeu4JWkeeRAvkxjmpYV2Fy1FoHWBRIACf5bsBShSaWGwpSYP6Glx0TqcqKcLBOXrWpI6fgkKLjFMeqI4ocW6FqqyZQkMZd7V9tlyUByNxi34rF2bFzULfzmftaqN+2suLCrvgvhgQ6Zs5RhMS4uBLlrmr7d8De+aaaPDuimAunFBwRVbCQoR5d590U3DxuunqeWdXLTMX782Xou+HIcC1gXwykAxXZnXwei2vjvGOKys7i7eavel5i1bbcCWmQ7BZ6Au2oQCbur4WOmVrHXLFsHKpUWwM9fFjtsWs+iQZtGGR6pyU8rC6i9mtQfqHBjmkgX5tP0ZfSFPknr+1XJF7oHygvjddhVKBPRMppZrmT26qDYKWG9sS4lh2kWrbQbpwsopwINcFrS66eIYSIwb3cpnjy6ohQLO2BVcYph20WqZQbqocgpkdsWb9XZFpkZxacHHrJyQdEG7KOCMXSGlBRnddjGwjtE4Ea+QBncKDLMuWh2TSNdUSwFuVzjhmpXA4LYFSQu1TGTj1ZxSoVJwwGzjbyNzYR2TU16oTGKQixYrt4703JkK5YwXSnjbyEU7Enchvo0I5NlYty1tiYotSQvEDDvGo2cxi1dXYhbZOO1Yj3sMBnH1Hs7ZFuSJcpXV+43bNU8UqVD9+MPJs4W0sLmpQdm2IIPbST7vPWinjG4OClOrIfWeGfqBMQq45qIlFcoYq+G6sVPSIojf+YsA1wzR045OAaekBdkVo/MX2hs6lEELYqF6tIxi5MENtlJ0xUVLdoURzu55U29ze+OvNxM/SthTaGyhQ+GidSP9452q8nry6GiniwZa4a/iMrQ3fvTNZOPdrJtgYnUKCNkVo7F49xt9Cu/rFyrn6xRExjrdOWF0c1D8bXDBl+6cYv+Zv83Wn7mKVJQMVftclTLZac4FF623NNyp3H52bx7hzSz6WsX89cfCo2nbwgtiq2suyNhu5llt33L7oJ7xo4+m74xLi2D38Gix0T1d7r9pm3i6cIkCuSepkembAJF9lzD/u9HFSCx30W7JA1XiXeUfKzxJHRi/BThmFwe02kVLHijlEMgvOHDNs66A4fZIfrPx96yVFgQKDcykGQw5aITRfa9hBJ0umblot9bFLQgUnea/20mNMYZm4zln9H7niYDefGMss9PS5cESilV0Y/n6swQY2mMMQxm/+XfmXbQWeqIIFPXc3vKNUTDkEgWAi3ZhmQqV/L6KP7fMPn19RoHZ2usSfW5+w+dMff15JC1Ug5JAccbx9R+yVIwWV6lKZu91ra3R9I9gZ5W0IFDU40B8AxwMJ5CadNHyon+bbAsCRR0o/ogerldter3tTww+7L7mAnq2ZdASKMqgAGJADwGGyZoLm4J51O5GggIxGHIAhUc2W3tySGNuLUr9IJcsExFoU3EGdeoV88N3o5V56UL1NqSVOwyK0dIx1DF+LhHyazI/MpoxW5RGVkS4nUzzsAIMZktTi0Ao7luhQjkFCm9zW1//nL95q97GUI4xf200HlEEQNW+FUmCAhQOrLM98aMtFMYe8hzMX79WMSHEYxZ4oQ4Q6arsma4p+xzCvIp/k0CyF7pOimhuEMR4W+Gs9puuY0V1Xv+GAJDUp/DIPoXG6iSunWjsdoV9jQvSZL0rI8OGADILf5nMX7oWDPL3AhSIF3yxJ5qNONbA5tGbyfiCZGaVWy+IsS4maUGMArF7lc2jhUpGhHQttMY2dncsVo+SzWCQwEQcxMPpeUJqRCdsbq5ruGTWsbZiTQuEHih8jdDm4bNil+cYBnmC2ZM0FERYPVB4+siitBvM1TYMZWSVv0MKioQ/t0o6aLkWvrQMt8EgmQClWxZ6egc+u4HAIAHBt7wX6yOyWAVcewJd8I3AUASD3McICnjVdujsBgKDBEDddoprHQtY9sTNPHrD41UiMNSBoHwcGSi25ec38xmZi5XxpbVm0QL//zg13F4Qv6tuUqbreuZdsehUJUMJgr6e+47RHwqZTWFWdcKlKulhStOqomiDo1k3QAYKQ6oTMlXJNONqvv9Wd1auAAWSdfGMeJ3wBeDslBA50PQ7C9BEtMcO2OELwNkOBjm+kUCBICFwvICdMKTlBNA2f0NDoYX+ZcGyLNkPXd4iVdcdJdeJDGkojN/4HAl70lsD7i33z6oYV+N1NBvY6Dp0NzLNGCnlRu/BZmutK/VgqLzzgt2DNiccGdL4AKYfFOADd5oq7MjNavRtf42tohMUGNyxvDeVcilB0gGfdCiCSC8o/rt7hOx5Uu6GJemAVjqMBorV7otG4/hqj9b0ZaeuiwpJB9zSoQAKrd4n4NmxCVfvrledSDpYIR3GAAV0e0JJNixJB2ukQwHY+iLa3M0JVnVa7Y/XSQh0ZaE2Mq+uMekEBdx2mVfFJbB23iuoB4W3oi7GQnzdWaTFRw9cdRoYvaacJSfApKueArLqNEhKUM4S4jd/zwo95n/XsnCkB7RRwfQl7rkKlFgHDv9yuaQ6dQc1m0fKc36E6gQzYNfTBUuuVifUpfMXhh4j23vZLSB6nXq5YMmY7v5mPWcq9L8baHDWOzMBG9gdx0rGtIPSIQeyDnsiW/jx6vQL1ZLGW/zssG6gH32x7K3nNIMPmUsdxUVeEG9VM/S11+uU3zSZrQ9DiEi/yd+y6GmhIT4B0g27ilsi16QukTTJXLais2G9aTDom0eAbWyaYxLkXSJA5DGMRPVyxNyzc62ao/r3jWoTeZcsUntyxr4G5B09Md0EBtC4RM0Y02DcNcSj36phQlB0VB2wgxiX4EC9hDR11ADFiIAM85o36CULdTkCsadTdc21v34FNAnEnICkjXIpAcwFW5nbBM5+mIX/E2s58PUc6N8wDSKlyX/gjOsL9ytA+0G1h6OLOKdzxqFAZlyDilyf2xHw7ActhSvjTDfdpQsFoEWuz1voA0vXYE/rnvnqXaaAzoFEAWhq01n268SPfkAyqFUbcZAYgZ4lpQA0b5O33P04zQ20/KXTg9GO1RQA1e2vaFiDkg7+Wqnf22qOQj646Wr3Q3UqxjXXSw3rp/AeFCDIfkDO5t0fH5wdIeojgHmY2J/fve4kpTMxU4B7dq55o6v+beppApbhqqM4BTPT2Pzs0OIRqadpFi1AqUw2cwCN7YICkAzrNIVjFr0BAkRyQTE6YDUFHoP4oFr1GXo9b7XfMEg5TIw8TFYzf9XggHmatgSIqlmiY6NRwHuJ34a+0TX87sAgBeVEVutoU0E3gkABUAVDPDg3mYdHKDYE5TBBYNFxn4EA0VD4oqPTw7jTS3frSwFoTcxgSYhZpG5hvL4zQ+cboQABgiSEEcaDelMCRBMgKI8JKt9qey5QNkQQf8BSmXjtNP05RQECRJOE8MO8SMMptnB3sN4LoAUaobldJ76eRQDdZTf4IwcVqRaA8KMtlDjExF+3dGOGP8H0hP0oAKzZwIGnbsCqp+5HTzobOQWAdQTfMgYr2/WDeZs75HNMj9+DAhrykQb3e0obDUCrh3j697kHPelUxBSA1nkjrYcAVzFHPZkQ83ivR4cWlMsq5tYeHKNarM9AXTd6sRXek0G5XIP4I6up/ucOGCCoag4vj/d6ckjVctyWOa1KOvGjBBIoqHNfL75CeTK0BgMcECdCQioS4sCkNPDT1Fi7A60FDZdWObGBuV55nXf+cLRnIwWmAajS0Y+z3q4MWPdvISW8TcW6XzayhptjAhaQ++BJhvlMzKMHSDaEAISvdtWafLC0Z5oC3mL3ACkgJwzqYPeQ0wXgCkKkNuXTY9seNHUp9TCVViKF1J9JSqsbf72hf/M0UA1IaOrSuUEtR0urkNLKpxW1Kmyuts4dWnRaSAfese/iD6AdISUFbUUE3wBgw6PqxS+BpXuLRMA0Ql1GRGpHgArQERBMASG9L5uHShMtvcV/d9CM6Ur7QWIDoh1BoDAFilB5sRZEY/oxiBtiXgDjEQQIM4BQripBlQ7LXcOi9DDdrwZ0ZzNMCAX8qg1proEAlQ55Qp9Uk8pbUpvcBsPEV68qQbUdHlf7DmohqU1OSyTVqhJk6ZBWyJVFQvkzqU3OAkKHqgRWOoj6h/+61e+T2uSg2jQLf5XfjSo+Q7UdqqPTdSMGVmcNxdi09znUB+A4a3kLWMvuFmMgPGJex/6XxylI55TapKtCEWDO0qlFDVflLhm/6Qiw9jT2vp3Nqmc67AbOVl6w/1p8I0PaF6uNNvF+5XdP4T0xoVlm1U1/5utp+QPZkE5TNX7eV/J820Eyri0GBDeiNVUl8nQISBKh9CwNqRptiKAMWEttCT1GNGcnyKqSkA69jOkKgJCUsE1KaAQD0Hylk4ToFJmuAMHZIZISNkmJhH0Kh+nPZ0xR/QGyV0mJdJDD5vktug08ur5+SaS6vkHyB99CV5W65S0VR9S0T4E69FJCKxiWP59PakkQn3z9kI71C8Q1gSH7bjKLDvQW1/8W10FjXbEGzhrCxbqMj5CY/+JZlNgOZZCQLYFSSugFw+EWut3AwaFcOkhskMcJl4TQCQbOE9Pl/tvF2xiayqRFOkhEkJRAIyV0gwG8EZ0BU5t0kJiY+OG7Dj2XrqlO+ugHA9ws1qLEGpazJDm963YuFlihdjUVTb0ggFqnN4mzSJanlBQZD+p+/4zWriAon0eZsBBVp2QUMED3KGWq0jQodvMuM7Dqz6JegoJ1ECRC9gxaI9CcfVC4V6VBv9of+QpFqtm++XpkYAOREuFRZzpGCobD7XQZ/4KqGpWfS7shXYsMapBsGBT6EvWKcw48nfssMj6OIV2kTnGfSk2NAYL54buueobiFD+u9pvyGxjsZ6Eq9S0NLY5Wxf4M3DrXbUyaiEUdZ9EC7fbP7w3tF1VManoNVGDQGZHuTVJkqhNfhKX3GB37AZbAm5RWZlWlMnMg9DoRKMqTmH/GBgae2j1ezCGnU/MeQq8TgeJyStGBAZSqVKYnMtWJ+/AJFPkkYrMZuLo0DeLXfAQA9zBmxBIoGMMIBrVVcLrAhDbXaRw3pi6yD70uj+iiBEMQJ/DshrpZwOeKTV21s+gwhm+/jmxjH+dgwBSBlh4lvjUXjR46S/NoASjXpy02Ufh+nOjvULKq+h1/u2IFw7iJe6oozhjDaE+kILYbFKgS9WTCnsxiXcZa2vYrZPuGSyGMT+RSLTyyJ309jBqopvUr7++f9xjqoIvq0WkfZLyh73ShNbJFBVvCZuvPfYcM9fzfV/HnxyBGUdxzAkFBQuAxots4AKuRnVXF3cyir21DhP69F8R/VTEZlmPeqmn5XOjUr3o+tEZ2Wut840ffqoaF4RiK7hgFSVAGKVojupU5EEayc5si+uDN2nSs0tlKt4EniBgD7Nb0Z7UMZSDwz+Aj0QPn5vQz/F07cHigMHuSJDC4W/jEONbucM8T/raYCXsKeyzaN+5seovdA2bjWQDCCo9S13kXnif8TQogGtsYs1WlRDhtnQKDBI0loODBRwh2BeKcpHM7wkkwWAcKs3aFDfZCJh0SHjiU7OHm9pNY7RR5J0AOiOjBxARiD7ad1CSeveo8GCQHIQaFWNpW02qekjxV2zRTFUH37Yb4QgEMH14Qe1XjdPcYMlAwf73V3SCsjhm4ioQ1U7UIArmPL5W7bmZUH8cBioT50ShtYKrIm6VgoM1HkiCQWwJD1SwXjwEGhZAK881d8XHH2rfGi1RQoQgMXbkHHii0d9ZuIo0ItCHpui3f/G1bAkPTjFd9BwQUjDc1M2A0S5JgT8yrAEZCYJCz23drFBTmXKmcTLYZzhkwyLXaFwMX5xuIaJtypcqx22Y4ExjkzKrajgWKWfjLVICNk0pEnJGna1eoSB8wW02qYk5T19ELCqOuVAGGtKLNGnfqCRhO5ybpBgsHheLUcZOuVAEEXvRvo1TgxT3L+BeXerrZwu3re5vbm3n0dlbJNmxFUKNSQaReBPuvpzdpwT9vwzEviLd8jG4z65ijv6JGe6zVd+rIYWNcoQjiaRC/1Y2djuukQG9QmHal8taR9iTkFUEg9+1tCKCTkVVeO21x05o+DsCV6qEv62xR6+xrFaOSUce8VqMHyrRU+O/OVqNZSgUOdC/YGakHGZPNcN2rAhQApAJvDmafK7UoKcitChgnPOco7f3EW1AaKzixNsBWBAJvSU+eJMBgKD6aoWQ8212pBRXJ/gZiRX6i/f4UsN2VWgADZav2Zw93fiGkguWu1BMYuL1AjQDcYe6+I+WF8WjXWijZAyemrzlO9kJf7nDo/Mxofm9jIlu+p2CbQ8zdd6iW1iqcd8/LpQTFF/oyiCvnu+JKlVKNMlVd4ewB45ymWal2B9hyqUAu1QE84sRPHHKlSpUpoQ56TrB2v0E65UrNJEPqRaJinn6c4sDZDkoFUpEc4OveQ+RS4XG130ij0oktD7RRlmpvXrH+By5KBS/YLayfWBpgfwpgX7+5ryQjW6E/jzjxC6EiWdrtogYkCVW0OcHa/QfpmopEUqE/jzjzC6dUJGE008o8zjB3n4G65kWaBvErH3MfGtG5jlBA5CFZtr5CjZ2Q9lElV6ojnD1gmBat0inTK2q33JVKUmEAk7jyE8/iVpFFCUFGsyscPXCcmUvVhQIecqUO5BFnfuaKvWBaKtzMoq/M0AKUzjDztQPlBfAO1DibTdEWDeGibdp9PTyyp/D+2nmj32uggAvxBeOu1Jo+usz/bmzdbg2shP+S1hvPprNSvc3txA/fm9bkECoUflbCPwLbU7ZNu1Jv/PCviR+1dlfnYLnxo2/4OQrpCDJP0rbofrRpXxjNJpuCndkK0UeTdCh9tzW5rjdSdr7usS33JBl3pXL1p6tUKIEhAw5fgmBDa8tdx+bdfm0zGEy7Utkf0cNkFv6qZvJeUuJj4hMounH0FWdZ7FY160rlC1n60Tc1QCgCh0BxBbs3/1TUMFi4+IgXxO9G84+4VPDDo3ownICRUKyimbd7f5sl6NUmtSE1po1LhTZXqkKQGF3ApjfDQf6BjWAwLRX6uFIVguKDzdafIfMa+GezMPps1oM03JXax+3aeC6BYiDsbIs+m/YgmZIKVRKGUj16gsI6MKx25nJ9lLpST4ZyoxSoAkH5GKV6dASFVWAwmYOkzZWqDhQkKVpAYRMYjBrO+l2pV0sIKTHIpqgBhUUGtDnDmUuFefQmmQ3LlkBRAoU1rlWuIhlKyINkNA8BIoEiA4VYybOweg3SINuHSRUpA4MyNWYIQyv4DUW0RW6SBekYIFbpnEcLBUxpGlTugkJkreIHA6xVOkWJp9a8pBEA42BCoA0p3GBX6RTRaAJFyUyF+9EKMATxm9EM1bbp7VADDV69mkUHJyrv+JsVq+HMnxuEvdAGCPk9frtiK4di5Xa63H9DDIbEW/58RjcxfvQFvDTw66Pf1jYuQB2FNhhfUALAT+G95iIgrca2dSkeqGMNHAwLC9ZvRm5ss3n0oOTlYPoimN2rqSfJokVHOChm0QGpCpWg7+SB2aM0DeI30y8TXffHmO+Ugjg8ovY8PSJd5ROVJ2koatB6oML3oUM2+jusRrQTYJCcgRQU6IxsrEa0U2DADgosRjZWuwFljEEy9bXbefiMz9BGkvOEMRLtNBgkmFCCIoIdycZoNxAYJCIYYwhBAdaeyGobUHXXIzAUwCB3MYIC2rJeYq0GZAujE4UBfzEAAAV2SURBVBgkAiq26EABLD7Bg1iYkvZGAYO3uWXe5g7rf7ZGhNYcJZWGPJgkQM5cBIbSWxZ5Mp1KRh3zWsbznbC5WL0ROuj9Nlt/vm71nfpU6DGZC+e9DKtOmFSlMYJu2NQMnEzf/MIwpjp5i5/3WFQlAkMzE9kGDCOq0yMSrxJf7Lyk4Sv/qGc5KreYWDEoxw3YYQnA8ai5cu4vXfDGX28UTyYazw7kcY8WsENT8KO70k10toi2kJnC8Wcbp6AIhSE9BhiULV9LqpFG4OpVnTLpAD49wwt2+upvuWQgMKBR67Qa2I9BfIDuWdLqUSIwoAFCQeocSmafmo8YItJaPUoEBoxgEM+sRUqAd7MKu0FfhwxSk1DbOmptCQTSIeH2jRpZeHkVcq2iBoN6KQFdOujMUaKgG34wZPaEGikBXTp4q/3m8p2u5gjlJlkDBnVSArR00BhvIDDYBQYlUgJ6Oxlt8QaxEo+VDIHWU1Rwo141hqs8Th7gznvaXKyiKXCUqJoAug64F8swWwJ0VFqXixV5h2wCXzfwsSFNCSDnLHFDX43ZfH4VijV0YyjswGNP634lAaKLBtAVQnV5lciIdgMMGZiTXl3EIbtatQTg0LVdcYp5rzKi66QZ86Mv5/pBwyeoxrSWxD0yorUwXB0jAjrezbgGa0yv9scGDA/+CvPaa4CYCyWoRM+sNs7xXuJXiCneOgxpshvcVr3YLFq04YGBjEzrkA6pqoTyzUaSQRWQ181aB9SGxTqkA6lKqpgK93UaI9fey24BTl3SIB1IVcLNxColZKPaBLFEVLl0IFWJ1ET/7IVQ7W0C6V3SIB0mPrWOUfmGteFalUE6iME45VFpCsCRdDiXDoIe7Onfy1QgiLlLqqPSZEifqQoEjgwczF9fFpkBdLdW63atjmM6AToF4KmtJfcrRPtBuTENnUtcej4/+gLN9jiLWkOsjOMZty7xiFNjTfviglLZzuwIaOka3nL3wykGcXCw0NSmsxoJaNmtpC45gBB4alNusz4CKwZS7V1ygL3wDRGe2pQIImbVcZA6eutpTouPZax/4sk8PEIyrkWAzlvsHiDlL01f9C+BZT2nYRmgv34FBQjefABahJp7vLDMJz3nlRQAljkgPE3QMlz56qZXkpl+joUCwBItRear9xK/AVKZUsMGy4TSc15NAUiL3IsUDmAu19z1dTWp6QIYKDCZrQ9Q7Ajmhz8YJEBQQA4DCyt+xln0BgUQEz86gKqh5vaMYnLT5aBTAJSnaX2EBYjlrnvzKOgTTc/XjQKgItYcEEEMJihHKRvdeMiqs6C5XgkQVrEXvsEQIOolkrYFUPCxiTtPDGxxGlgqU7B7cIcTaKSCAn9ED4C8TB+wjGoChHsoeQrvAQEi4RLiAMWOoCo59/DAM0yhAIL56y0DUy2noQeTg+yFcshQ0sBF1Rw3ZCFICOU9mFCyhqMPDSQ4d+rzCqFijrJcHQUDH/YcgmEd5p3AAaSAU1Kfw3jgQzfddIDNw7x7nygjXcZHU6oT1VA7jgbjUqIgHeRUmLIltC3ALgdGWzwUMGRLsNm6ukrTC0ZeH4I8S3iYdYwn5S7YWTRqfQSbtyyrNVrT49X+SKrSGFyG7B6irHScbhzM77iAu25JMV3GvwgMyBh1zMcdARStkqE8Xm+1+6LDHcttBopIl6lNnyspoMemSHot2l58MP4W9wI1TQh4qSplsxapS/udKCBiFGpUKOaH72y+uet036aTCsBI+rpmCQhNlKXvOlOAxwn89XZA3lMibIV5pCeTmjcS87jaE8Tbi0VWlvHRC+IDT8Pg1W+kGnWebjqxKwXm/9yJIBo3iHkynr8utsPkzH9k/vr9BAJv02tZhf8HtbTa79j7iC4AAAAASUVORK5CYII=",Xt=n(77),$t=n.n(Xt);function en(e){switch(e){case 0:return Object(E.jsx)("img",{alt:"gene-icon",src:Zt,className:$t.a.geneIcon});case 1:return Object(E.jsx)(zt.a,{className:$t.a.coloredIcon});case 2:return Object(E.jsx)(Wt.a,{className:$t.a.coloredIcon});case 3:return Object(E.jsx)(Lt.a,{className:$t.a.coloredIcon});case 5:return Object(E.jsx)(Yt.a,{className:$t.a.coloredIcon});case 6:return Object(E.jsx)(Qt.a,{className:$t.a.coloredIcon});default:return Object(E.jsx)(Pt.a,{className:$t.a.coloredIcon})}}function tn(e){var t=e.user,n=e.setUser,r=t&&!0===t.isAdministrator,i=t&&!0===t.hasPermission,s=r?["Upload","Admin"]:[],o=i&&!r?["Upload"]:[],l=[].concat(["genemapper","community","search/atlases","documentation","help"],r?["upload","admin"]:[],i&&!r?["upload"]:[]),h=[].concat(["Gene Mapper","Community","Search","Documentation","Help"],s,o),j=Object(u.useRouteMatch)().url,b=Object(u.useLocation)().pathname,f=Object(a.useState)("/"),m=Object(c.a)(f,2),x=m[0],g=m[1],O=new RegExp(".*/sequencer/(\\w+)(?=/|)","g");return Object(a.useEffect)((function(){var e=O.exec(b);e&&g(e[1])}),[b]),Object(E.jsx)(p.a,{children:Object(E.jsx)(p.a,{className:$t.a.sidebarNav,children:Object(E.jsx)(p.a,{className:$t.a.sidebarWrap,children:Object(E.jsxs)(p.a,{sx:{display:"flex",flexDirection:"column",justifyContent:"space-between",height:"97vh",marginTop:"2vh"},children:[Object(E.jsx)(p.a,{className:$t.a.iconList,children:l.map((function(e,t){return Object(E.jsx)(d.b,{className:$t.a.navlink,to:"documentation"!==e?"".concat(j,"/").concat(e):b,onClick:"documentation"===e?function(){return window.open("https://archmap-docu.readthedocs.io/")}:function(){},children:Object(E.jsx)(Gt.a,{title:h[t],placement:"right",componentsProps:{tooltip:{sx:{bgcolor:"#5676E4"}}},children:Object(E.jsx)(p.a,{className:$t.a.navbarItemContainer,sx:{background:x===e?"#5676E5":"#184060"},children:Object(E.jsx)(qt.a,{className:$t.a.listItemIcon,children:en(t)})})})},e.toString())}))}),Object(E.jsx)(p.a,{children:Object(E.jsx)(d.b,{to:"/",onClick:function(){n(null),me.clearProfileCache(),localStorage.removeItem("user"),localStorage.removeItem("jwt")},className:$t.a.navlinkIcon,style:{marginBottom:"1em"},children:Object(E.jsx)(Gt.a,{title:"Logout",placement:"right",componentsProps:{tooltip:{sx:{bgcolor:"#5676E4"}}},children:Object(E.jsx)(p.a,{sx:{display:"flex",justifyContent:"center",alignItems:"center",marginBottom:"1em"},children:Object(E.jsx)(qt.a,{sx:{justifyContent:"center"},children:Object(E.jsx)(Jt.a,{sx:{color:"white"}})})})})})})]})})})})}var nn=n(348),an=n.n(nn);var rn=function(e){var t=e.title,n=e.rightOfTitle,a=e.replaceRight,r=e.loggedIn,i=void 0===r||r;return Object(E.jsxs)("header",{className:an.a.header,children:[Object(E.jsxs)("div",{className:an.a.titleRow,children:[Object(E.jsx)("h1",{className:an.a.title,children:t}),n]}),i&&Object(E.jsxs)(ot.a,{direction:"row",spacing:4,alignItems:"flex-end",children:[a,Object(E.jsx)(d.b,{to:"/sequencer/settings",children:Object(E.jsx)(xe,{sizePixels:42})})]})]})},sn=n(548),on=n.n(sn);var cn=function(e){var t=e.title,n=e.rightOfTitle,r=e.replaceHeaderRight,i=e.children,s=e.loggedIn,o=void 0===s||s,c=Object(a.useRef)();Object(a.useEffect)((function(){console.log(c)}),[]);var l=null,d=null,h=null,j=null;return o||(j=Object(a.useContext)(He),l=function(){j.switchRegister(!1),j.switchLogin(!0)},d=function(){j.switchLogin(!1),j.switchRegister(!0)},h=Object(u.useHistory)()),Object(E.jsxs)(p.a,{ref:c,sx:{width:"100%",height:"100vh",overflowY:"auto"},children:[!o&&Object(E.jsx)(Ae,{onLoginClicked:l,onSignUpClicked:d,executeScroll:function(){return h.push({pathname:"/",state:{contact_us:!0}})}}),j&&j.loginVisible&&Object(E.jsx)(Ye,{}),j&&j.registerVisible&&Object(E.jsx)(tt,{}),j&&j.forgetVisible&&Object(E.jsx)(Ve,{}),Object(E.jsx)(p.a,{sx:{minHeight:"calc(100vh - 40px)",padding:"12px 60px 0 60px",boxSizing:"border-box",display:"flex"},children:Object(E.jsxs)(ot.a,{direction:"column",sx:{width:"100%",paddingLeft:"80px",flexGrow:1},children:[Object(E.jsx)("div",{style:{paddingLeft:"60px",paddingRight:"60px"},children:Object(E.jsx)(rn,{title:t,rightOfTitle:n,replaceRight:r,loggedIn:o})}),Object(E.jsx)(ot.a,{ref:c,className:"flexContainer",direction:"row",sx:{flexGrow:1},children:Object(E.jsx)("div",{className:on.a.content,children:i})})]})}),Object(E.jsx)(De,{})]})},ln=n(549),dn=n.n(ln),un=n(27),hn=n(550),pn=n.n(hn);function jn(e){var t=e.onClick;return Object(E.jsx)(C.a,{sx:{p:0},style:{backgroundColor:"#5676E4",minHeight:38,minWidth:38},"aria-label":"plus icon",onClick:t,children:Object(E.jsx)(pn.a,{sx:{fontSize:30,color:"white"}})})}var bn=n(328),fn=n.n(bn),mn=n(453);function xn(e){return Object(w.a)(Object(w.a)({},e),{},{id:e._id})}var gn={getTeamMembers:function(e){return Object(P.a)(B.a.mark((function t(){var n,a;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,axiosInstance.get("/teams/".concat(e,"/members"));case 2:return n=t.sent,a=n.data,t.abrupt("return",xn(a));case 5:case"end":return t.stop()}}),t)})))()}},On=[{id:"1",name:"Biotechnology Team",description:"The Biotechnology Team works in integration of natural sciences and engineering sciences in order to achieve the application of organisms, cells, parts thereof and molecular analogues for products and services.",adminIds:[6,7],invitedMemberIds:[],memberIds:["626bdb1ed76c8b968a50f833",2,3,4,5],projects:[],visibility:"PUBLIC",institutionId:"1"},{id:"2",name:"Genomics Team",description:"The Genomics Team works in field of biology focusing on the structure, function, evolution, mapping, and editing of genomes.",adminIds:["626bdb1ed76c8b968a50f833"],invitedMemberIds:[],memberIds:[2,3,4,5],projects:[],visibility:"PUBLIC",institutionId:"3"},{id:"3",name:"Heinig Lab",description:"Heinig Lab bla bla",adminIds:["626bdb1ed76c8b968a50f833"],invitedMemberIds:[],memberIds:[3,4,5],projects:[],visibility:"PRIVATE",institutionId:"3"}],vn=2,yn={leaveTeam:function(e){return Object(P.a)(B.a.mark((function t(){return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:On=On.filter((function(t){return t.id!==e.id}));case 1:case"end":return t.stop()}}),t)})))()},createTeam:function(e,t,n){return Object(P.a)(B.a.mark((function a(){var r,i;return B.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,new Promise((function(e){return setTimeout(e,1e3)}));case 2:return vn+=1,a.next=5,me.getProfile();case 5:return r=a.sent,i={id:vn.toString(),name:e,country:null,description:t,backgroundPictureURL:null,adminIds:[r.id],memberIds:[],invitedMemberIds:[],visibility:"private",institutionId:n},On=[].concat(Object(un.a)(On),[i]),a.abrupt("return",i);case 9:case"end":return a.stop()}}),a)})))()},removeMemberFromTeam:function(e,t){return Object(P.a)(B.a.mark((function n(){var a;return B.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=On.find((function(t){return t.id===e}))){n.next=3;break}throw new Error("Team not found");case 3:a.memberIds=a.memberIds.filter((function(e){return e!==t}));case 4:case"end":return n.stop()}}),n)})))()},getTeam:function(e){return Object(P.a)(B.a.mark((function t(){var n;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(null!=(n=On.find((function(t){return t.id===e})))){t.next=3;break}throw new Error("Could not find team with id ".concat(e));case 3:return t.abrupt("return",n);case 4:case"end":return t.stop()}}),t)})))()},getInstitutionTeams:function(e){return Object(P.a)(B.a.mark((function t(){return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",On.filter((function(t){return t.institutionId===e})));case 1:case"end":return t.stop()}}),t)})))()},getMembers:function(e){return Object(P.a)(B.a.mark((function t(){var n;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,yn.getTeam(e);case 2:return n=t.sent,t.abrupt("return",Promise.all([].concat(Object(un.a)(n.adminIds),Object(un.a)(n.memberIds)).map(gn.getMember)));case 4:case"end":return t.stop()}}),t)})))()},getMyTeams:function(){return Object(P.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",On);case 1:case"end":return e.stop()}}),e)})))()},getMyAdminTeams:function(){return Object(P.a)(B.a.mark((function e(){var t,n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,yn.getMyTeams();case 2:return t=e.sent,e.next=5,me.getProfile();case 5:return n=e.sent,e.abrupt("return",t.filter((function(e){return e.adminIds.includes(n.id)})));case 7:case"end":return e.stop()}}),e)})))()},getTeams:function(){var e=Object(P.a)(B.a.mark((function e(t){var n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=On.map((function(e){return Object(w.a)(Object(w.a)({},e),{},{title:e.name})})),t.keyword&&(n=n.filter((function(e){return e.name.toLowerCase().includes(t.keyword.toLowerCase())}))),t.visibility&&(n=n.filter((function(e){return e.visibility.toUpperCase().includes(t.visibility)}))),t.sortBy&&"name"!==t.sortBy||(n=n.sort((function(e,t){return"".concat(e.name).localeCompare(t.name)}))),e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},wn="teams";function Cn(e){return Object(w.a)(Object(w.a)({},e),{},{id:e._id,name:e.title})}var kn={leaveTeam:function(e){return Object(P.a)(B.a.mark((function t(){return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fe.default.delete("/teams/".concat(e,"/join"));case 3:t.next=8;break;case 5:throw t.prev=5,t.t0=t.catch(0),Error(t.t0.response.data);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))()},createTeam:function(e,t,n){return Object(P.a)(B.a.mark((function a(){var r,i;return B.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,fe.default.post("/teams",{title:e,description:t,institutionId:n,visibility:"PRIVATE"});case 2:return r=a.sent,i=r.data,a.abrupt("return",Cn(i));case 5:case"end":return a.stop()}}),a)})))()},joinTeam:function(e){return Object(P.a)(B.a.mark((function t(){var n,a,r;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,me.getProfile();case 2:return n=t.sent,t.next=5,fe.default.put("/".concat(wn,"/").concat(e,"/join"),{userId:n.id});case 5:return a=t.sent,r=a.data,t.abrupt("return",r);case 8:case"end":return t.stop()}}),t)})))()},inviteMemberByEmail:function(e,t){return Object(P.a)(B.a.mark((function n(){return B.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fe.default.put("/teams/".concat(e,"/invite"),{email:t});case 3:n.next=8;break;case 5:throw n.prev=5,n.t0=n.catch(0),Error(n.t0.response.data);case 8:case"end":return n.stop()}}),n,null,[[0,5]])})))()},removeMemberFromTeam:function(e,t){return Object(P.a)(B.a.mark((function n(){return B.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fe.default.delete("/teams/".concat(e,"/members/").concat(t));case 3:n.next=8;break;case 5:throw n.prev=5,n.t0=n.catch(0),Error(n.t0.response.data);case 8:case"end":return n.stop()}}),n,null,[[0,5]])})))()},makeTeamAdmin:function(e,t){return Object(P.a)(B.a.mark((function n(){return B.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fe.default.put("/teams/".concat(e,"/admin"),{userId:t});case 3:n.next=8;break;case 5:throw n.prev=5,n.t0=n.catch(0),Error(n.t0.response.data);case 8:case"end":return n.stop()}}),n,null,[[0,5]])})))()},removeTeamAdmin:function(e,t){return Object(P.a)(B.a.mark((function n(){return B.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fe.default.delete("/teams/".concat(e,"/admins/").concat(t));case 3:n.next=8;break;case 5:throw n.prev=5,n.t0=n.catch(0),Error(n.t0.response.data);case 8:case"end":return n.stop()}}),n,null,[[0,5]])})))()},removeProjectFromTeam:function(e,t){return Object(P.a)(B.a.mark((function n(){return B.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fe.default.delete("/teams/".concat(e,"/projects/").concat(t));case 3:n.next=8;break;case 5:throw n.prev=5,n.t0=n.catch(0),Error(n.t0.response.data);case 8:case"end":return n.stop()}}),n,null,[[0,5]])})))()},getTeam:function(e){return Object(P.a)(B.a.mark((function t(){var n,a;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fe.default.get("/teams/".concat(e));case 2:return n=t.sent,a=n.data,t.abrupt("return",Cn(a));case 5:case"end":return t.stop()}}),t)})))()},changeTeamDescription:function(e,t){return Object(P.a)(B.a.mark((function n(){var a,r;return B.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fe.default.put("/teams/".concat(e),{description:t});case 2:return a=n.sent,r=a.data,n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)})))()},changeTeamVisibility:function(e,t){return Object(P.a)(B.a.mark((function n(){var a,r;return B.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fe.default.put("/teams/".concat(e),{visibility:t});case 2:return a=n.sent,r=a.data,n.abrupt("return",r);case 5:case"end":return n.stop()}}),n)})))()},getInstitutionTeams:function(e){return Object(P.a)(B.a.mark((function t(){var n,a;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fe.default.get("/institutions/".concat(e,"/teams"));case 2:return n=t.sent,a=n.data,t.abrupt("return",a.map(Cn));case 5:case"end":return t.stop()}}),t)})))()},getMembers:function(e){return Object(P.a)(B.a.mark((function t(){var n,a;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fe.default.get("/teams/".concat(e,"/members"));case 2:return n=t.sent,a=n.data,t.abrupt("return",a.map(Cn));case 5:case"end":return t.stop()}}),t)})))()},getMyTeams:function(){return Object(P.a)(B.a.mark((function e(){var t,n,a;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.getProfile();case 2:return t=e.sent,e.next=5,fe.default.get("/users/".concat(t.id,"/teams"));case 5:return n=e.sent,a=(a=n.data).map(Cn),e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})))()},getTeams:function(){var e=Object(P.a)(B.a.mark((function e(t){var n,a,r;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Object(w.a)({},t)).sortBy&&"name"!==n.sortBy||(n.sortBy="title"),e.next=4,fe.default.get("/".concat(wn),{params:n});case 4:return a=e.sent,r=a.data,e.abrupt("return",r.map(Cn));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),addProject:function(){var e=Object(P.a)(B.a.mark((function e(t,n){var a,r;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe.default.put("/".concat(wn,"/").concat(t,"/add_project"),{projectId:n});case 2:return a=e.sent,r=a.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},Sn=kn;var In=function(e){var t=e.team,n=e.onLeft,r=Object(a.useState)(!1),i=Object(c.a)(r,2),s=i[0],o=i[1],l=Object(a.useState)(""),d=Object(c.a)(l,2),u=d[0],h=d[1],p=F(),j=Object(c.a)(p,1)[0],b=function(){return o(!1)},f=1===t.adminIds.length&&t.adminIds[0]===j._id;function m(){return(m=Object(P.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(""),e.prev=1,e.next=4,Sn.leaveTeam(t.id);case 4:b(),n(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),h(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(Gt.a,{title:f?"You are the only admin of this team.":"",children:Object(E.jsx)("div",{children:Object(E.jsx)(q.default,{type:"critical",onClick:function(){return o(!0)},disabled:f,children:"Leave"})})}),Object(E.jsxs)(K,{isOpen:s,setOpen:function(e){return!e&&b()},children:[Object(E.jsx)(J,{children:"Leave"}),Object(E.jsxs)(X.a,{children:[Object(E.jsxs)(mn.a,{children:['Do you really want to leave the team "',t.name,'"?']}),u&&Object(E.jsx)(mn.a,{id:"alert-dialog-description",color:"error",children:u})]}),Object(E.jsxs)(Z.a,{children:[Object(E.jsx)(q.default,{onClick:b,type:"tertiary",children:"Cancel"}),Object(E.jsx)(q.default,{onClick:function(){return function(){return m.apply(this,arguments)}()},type:"critical",autoFocus:!0,children:"Leave"})]})]})]})},An=n(551),_n=n.n(An);var En=function(e){var t=e.team,n=e.onLeft,a=F(),r=Object(c.a)(a,1)[0],i=Object(u.useHistory)(),s=function(){return i.push("/sequencer/teams/".concat(t.id))},o=function(e){e.stopPropagation()},l=t.name,d=t.description,h=t.adminIds,p=t.memberIds;return Object(E.jsx)(W,{title:l,description:d,nextToTitle:Object(E.jsx)("span",{className:_n.a.accessRightIndicator,children:-1!==h.indexOf(r._id)?"admin":"member"}),trailing:[-1!==h.indexOf(r._id)?Object(E.jsx)(q.default,{endIcon:Object(E.jsx)(fn.a,{}),variant:"outlined",sx:{marginRight:"6px"},onClick:s,children:"Settings"},"settings"):Object(E.jsx)("div",{},"nothing"),(null===p||void 0===p?void 0:p.includes(r._id))&&Object(E.jsx)("div",{onClick:o,onKeyPress:o,role:"button",tabIndex:0,children:Object(E.jsx)(In,{team:t,onLeft:n})},"leave")],onClick:s})},Dn=n(552),Rn=n.n(Dn),Fn=n(442),Tn=n(449);var Bn=function(){return Object(E.jsx)("div",{style:{height:"16px"}})};var Pn=function(e){var t,n=e.isLoading,a=e.elements,r=e.cardBuilder,i=e.noElementsMessage;return t=a.length?a.map((function(e){return Object(E.jsxs)("div",{children:[r(e),Object(E.jsx)(Bn,{})]},e.id||e._id)})):Object(E.jsx)("span",{children:i}),n?Object(E.jsx)(Tn.a,{}):t},Nn=n.p+"static/media/helmholtz-logo.afeb6aa4.jpg",Ln=[],Mn=3,zn=[{id:"1",name:"Helmholtz Institute",country:"Germany",description:"The primary objective of Helmholtz Zentrum M\xfcnchen in its role as German Center for Environmental Health is to improve the health of each individual, but also the health of society as a whole (public health). \n\nTo achieve this goal, the Center conducts research on the interaction of genetics, environmental factors and lifestyle and applies the insights gained from this research to develop individualized strategies for the diagnosis, treatment and prevention of serious common diseases such as diabetes mellitus, allergies and lung diseases.",backgroundPictureURL:"https://upload.wikimedia.org/wikipedia/commons/thumb/2/22/Helmholtz_Zentrum_M%C3%BCnchen.jpg/2560px-Helmholtz_Zentrum_M%C3%BCnchen.jpg",adminIds:["626bdb1ed76c8b968a50f833"],memberIds:[2],profilePictureURL:Nn},{id:"2",name:"Technische Universit\xe4t M\xfcnchen",country:"Germany",description:"The Technical University of Munich (TUM) is one of Europe\u2019s top universities. It is committed to excellence in research and teaching, interdisciplinary education and the active promotion of promising young scientists. The university also forges strong links with companies and scientific institutions across the world. \nTUM was one of the first universities in Germany to be named a University of Excellence. Moreover, TUM regularly ranks among the best European universities in international rankings.",backgroundPictureURL:"https://www.in.tum.de/fileadmin/_processed_/5/5/csm_2006_1015Bild0136_9dc504e910.jpg",profilePictureURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAA4QAAAH0BAMAAACX3f7gAAAAMFBMVEVjk8X4+v2Xt9l5o85ZjMLZ5fGqxODP3u3L2+yCqNFRh7+yyuO/0+ihvt0wcLP///+uRon8AAAEaUlEQVR4XuzRQREAMAgAoDVZXQv71gIW0IMKvFqOe4UKUYhCFCpEIQpRqBCFKEShQhSiEIUKUYhCFCpEIQpRmHHWHwqbPTomAhCGAQDoAA1cjOAAS/UKeyb2YiGZuHL/Fj5XcMyWJ39rKFyJQoUKFSpUqFChQoUKFSpUqFChQoUKFSpUqFChQoUKFSpUqFChQoUKFSpUqFChQoUKFSpUqFChQoUKFSpUqFChQoUKFSpUqFChQoUKFSpUqFChQoUKFSpUqFChQoUKFSpUqFChQoUKFSpUqFChQoUKFSpUqFChQoUKFSpUqFChQoUKFSpUqFChQoUKFSpUqFChQoUKFSpUqFChQoUKFUbVlkV3VH1fGD1nFl3RstcLX/bo2ASAEAiAYMeWZG+mmptq+uEd8ggyW8Am8yFMV6KEI7y8TthXrhodt9x3vkmIECFChAgRIkSIECFChAgRIkSIECFChAgRIkSIECFChAgRIkSIECFChAgRIkSIECFChAgRIkSIECFChAgRIkSIECFChAgRIkSIECFChAgRIkSIECFChAgRIkSIECFChAgRIkSIECFChAgRIkSIECFChAgRIkSIECFChAgRIkSIECFChAgRIkSIECFChAgRIkSIECFChAgRIkSIECFChAgRIkSIECFChAgRIkSIECFChAgRIkSIECFChAgRIkSIECFChAgRIkSIECFChAgRIkSIECFChAgRIkSIECFChAgRIkSIECFChAgRIkSIECFChAgRIkSIECFChAgRIkSIECFChAgRIkSIECFChAgRIkSIECFChAgRIkSIECFChAgRIkSIECFChAgRIkSIECFChAgRIkSIECFChAgRIkSIECFChAgRIkSIECFChAgRIkSIECFChAgRIkSIECFChAgRIkSIECFChAgRIkSIECFChAgRIkSIECFChAgRIkSIECFChAgRIkSIECFChAgRIkSIECFChAgRIkSIECFChAgRIkSIECFChAgRIkSIECFChAgRIkSIECFChAgRIkSIECFChAgRIkSIECFChAgRIkSIECFChAgRIkSIECFChAgRIkSIECFChAgRIkSIECFChAgRIkSIECFChAgRIkSIECFChAgRIkSIECFChAgRIkSIECFChAgRIkSIECFChAgRIkSIECFChAgRIkSIECFChAjPQ4gQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEi/DuECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIgQIUKECBEiRIhwt0fHJgACMQAAA9/Y/Yiu6gg/kBBbywQLEe9WuCeFRxRtWRVvG9mzomhmyxlV+63wm/h5oUIUohCFClGIQhQqRCEKUagQhShEoUIUohCFClGIQi7zFYd6tLsECgAAAABJRU5ErkJggg==",adminIds:["626bdb1ed76c8b968a50f833"],memberIds:[1,2,3,4,5]},{id:"3",name:"Rostlab",country:"Germany",description:"The lab's research is driven by a conviction that protein and DNA sequences encode a significant core of information about the ultimate structure and function of genetic material and its gene products. \nResearch goals of the lab involve using protein and DNA sequences along with evolutionary information to predict a protein's: overall function, interaction partners, secondary structure, disordered regions, subcellular localization, membrane spanning protein structure, intra-chain residue contacts, cell cycle control, and domain boundaries. \nAnother significant research focus is to improve the effectiveness and efficiency of structural genomics projects' ability to determine the structures of proteins on a large scale.",profilePictureURL:"https://avatars.githubusercontent.com/u/4093405?s=200&v=4",adminIds:[1],memberIds:["626bdb1ed76c8b968a50f833",2,3,4,5]}],Un={createInstitution:function(e,t){return Object(P.a)(B.a.mark((function n(){var a,r;return B.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,new Promise((function(e){return setTimeout(e,1e3)}));case 2:return n.next=4,me.getProfile();case 4:return a=n.sent,r={id:(Mn+=1).toString(),name:e,country:t,description:"",avatarUrl:null,backgroundPictureURL:null,adminIds:[a.id],memberIds:[]},zn=[].concat(Object(un.a)(zn),[r]),n.abrupt("return",r);case 9:case"end":return n.stop()}}),n)})))()},leaveInstitution:function(e){return Object(P.a)(B.a.mark((function t(){return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:Ln.push(e);case 1:case"end":return t.stop()}}),t)})))()},getMyInstitutions:function(){return Object(P.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",zn.filter((function(e){return!Ln.includes(e.id)})));case 1:case"end":return e.stop()}}),e)})))()},getMyAdminInstitutions:function(){return Object(P.a)(B.a.mark((function e(){var t,n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Un.getMyInstitutions();case 2:return t=e.sent,e.next=5,me.getProfile();case 5:return n=e.sent,e.abrupt("return",t.filter((function(e){return e.adminIds.includes(n.id)})));case 7:case"end":return e.stop()}}),e)})))()},getInstitution:function(e){return Object(P.a)(B.a.mark((function t(){return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",zn.find((function(t){return t.id===e})));case 1:case"end":return t.stop()}}),t)})))()},getMembers:function(e){return Object(P.a)(B.a.mark((function t(){var n;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Un.getInstitution(e);case 2:return n=t.sent,t.abrupt("return",Promise.all([].concat(Object(un.a)(n.adminIds),Object(un.a)(n.memberIds)).map(gn.getMember)));case 4:case"end":return t.stop()}}),t)})))()},removeMemberFromInstitution:function(e,t){return Object(P.a)(B.a.mark((function n(){var a;return B.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(a=zn.find((function(t){return t.id===e}))){n.next=3;break}throw new Error("Institution not found");case 3:a.memberIds=a.memberIds.filter((function(e){return e!==t}));case 4:case"end":return n.stop()}}),n)})))()},getInstitutionById:function(){var e=Object(P.a)(B.a.mark((function e(t){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Un.getInstitution("".concat(t)));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getInstitutions:function(){var e=Object(P.a)(B.a.mark((function e(t){var n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=zn.map((function(e){return Object(w.a)(Object(w.a)({},e),{},{profilePictureURL:e.avatarUrl})})),t.keyword&&(n=n.filter((function(e){return e.name.toLowerCase().includes(t.keyword.toLowerCase())}))),t.sortBy&&"name"!==t.sortBy||(n=n.sort((function(e,t){return"".concat(e.name).localeCompare(t.name)}))),e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getTeamsOfInstitutionById:function(){var e=Object(P.a)(B.a.mark((function e(t){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Sn.getInstitutionTeams(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Wn="institutions";function Gn(e){return Object(w.a)(Object(w.a)({},e),{},{id:e._id})}var qn={createInstitution:function(e,t){return Object(P.a)(B.a.mark((function n(){var a,r;return B.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fe.default.post("/institutions",{name:e,country:t});case 2:return a=n.sent,r=a.data,n.abrupt("return",Gn(r));case 5:case"end":return n.stop()}}),n)})))()},getMyInstitutions:function(){return Object(P.a)(B.a.mark((function e(){var t,n,a;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,me.getProfile();case 2:return t=e.sent,e.next=5,fe.default.get("/users/".concat(t.id,"/institutions"));case 5:return n=e.sent,a=(a=n.data).map(Gn),e.abrupt("return",a);case 9:case"end":return e.stop()}}),e)})))()},getMyAdminInstitutions:function(){return Object(P.a)(B.a.mark((function e(){var t,n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,qn.getMyInstitutions();case 2:return t=e.sent,e.next=5,me.getProfile();case 5:return n=e.sent,e.abrupt("return",t.filter((function(e){return e.adminIds.includes(n.id)})));case 7:case"end":return e.stop()}}),e)})))()},getInstitution:function(e){return Object(P.a)(B.a.mark((function t(){var n,a;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fe.default.get("/institutions/".concat(e));case 2:return n=t.sent,a=n.data,t.abrupt("return",Gn(a));case 5:case"end":return t.stop()}}),t)})))()},leaveInstitution:function(e){return Object(P.a)(B.a.mark((function t(){return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fe.default.delete("/institutions/".concat(e,"/join"));case 3:t.next=8;break;case 5:throw t.prev=5,t.t0=t.catch(0),Error(t.t0.response.data);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))()},getMembers:function(e){return Object(P.a)(B.a.mark((function t(){var n,a;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fe.default.get("/institutions/".concat(e,"/members"));case 2:return n=t.sent,a=n.data,t.abrupt("return",a.map(xn));case 5:case"end":return t.stop()}}),t)})))()},getInstitutions:function(){var e=Object(P.a)(B.a.mark((function e(t){var n,a,r;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Object(w.a)({},t)).sortBy||(n.sortBy="name"),e.next=4,fe.default.get("/".concat(Wn),{params:n});case 4:return a=e.sent,r=a.data,e.abrupt("return",r.map(Gn));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getInstitutionById:function(){var e=Object(P.a)(B.a.mark((function e(t){var n,a;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe.default.get("/".concat(Wn,"/").concat(t));case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getTeamsOfInstitutionById:function(){var e=Object(P.a)(B.a.mark((function e(t){var n,a;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe.default.get("/".concat(Wn,"/").concat(t,"/teams"));case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),updateDetails:function(e,t){return Object(P.a)(B.a.mark((function n(){return B.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fe.default.put("/institutions/".concat(e),{description:t});case 2:case"end":return n.stop()}}),n)})))()},inviteMember:function(e,t){return Object(P.a)(B.a.mark((function n(){return B.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fe.default.put("/institutions/".concat(e,"/invite"),{email:t});case 2:case"end":return n.stop()}}),n)})))()},removeMemberFromInstitution:function(e,t){return Object(P.a)(B.a.mark((function n(){return B.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,fe.default.delete("/institutions/".concat(e,"/members/").concat(t));case 3:n.next=8;break;case 5:throw n.prev=5,n.t0=n.catch(0),Error(n.t0.response.data);case 8:case"end":return n.stop()}}),n,null,[[0,5]])})))()},makeInstitutionAdmin:function(e,t){return Object(P.a)(B.a.mark((function n(){return B.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fe.default.put("/institutions/".concat(e,"/admin"),{userId:t});case 2:case"end":return n.stop()}}),n)})))()},removeInstitutionAdmin:function(e,t){return Object(P.a)(B.a.mark((function n(){return B.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,fe.default.delete("/institutions/".concat(e,"/admins/").concat(t));case 2:case"end":return n.stop()}}),n)})))()}},Hn=qn;var Qn=function(e){var t=e.institution,n=e.onLeft,r=Object(a.useState)(!1),i=Object(c.a)(r,2),s=i[0],o=i[1],l=Object(a.useState)(""),d=Object(c.a)(l,2),u=d[0],h=d[1],p=F(),j=Object(c.a)(p,1)[0],b=function(){return o(!1)},f=1===t.adminIds.length&&t.adminIds[0]===j._id;function m(){return(m=Object(P.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(""),e.prev=1,e.next=4,Hn.leaveInstitution(t.id);case 4:b(),n(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),h(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(Gt.a,{title:f?"You are the only admin of this institution.":"",children:Object(E.jsx)("div",{children:Object(E.jsx)(q.default,{type:"critical",onClick:function(){return o(!0)},disabled:f,children:"Leave"})})}),Object(E.jsxs)(K,{isOpen:s,setOpen:function(e){return!e&&b()},children:[Object(E.jsx)(J,{children:"Leave institution"}),Object(E.jsxs)(X.a,{children:[Object(E.jsxs)(mn.a,{children:['Do you really want to leave the institution "',t.name,'"?']}),u&&Object(E.jsx)(mn.a,{id:"alert-dialog-description",color:"error",children:u})]}),Object(E.jsxs)(Z.a,{children:[Object(E.jsx)(q.default,{onClick:b,children:"Cancel"}),Object(E.jsx)(q.default,{onClick:function(){return function(){return m.apply(this,arguments)}()},type:"critical",autoFocus:!0,children:"Leave"})]})]})]})},Vn=n(553),Yn=n.n(Vn);var Kn=function(e){var t=e.institution,n=e.onLeft,a=e.replaceTrailing,r=e.disableLink,i=F(),s=Object(c.a)(i,1)[0],o=Object(u.useHistory)(),l=function(){r||o.push("/sequencer/institutions/".concat(t.id))},d=t.name,h=t.profilePictureURL,p=t.adminIds,j=t.memberIds;return Object(E.jsx)(W,{title:d,imageURL:h,enforceImage:!0,nextToTitle:Object(E.jsx)("span",{className:Yn.a.accessRightIndicator,children:-1!==p.indexOf(s._id)?"admin":"member"}),trailing:a?a(t):[-1!==p.indexOf(s._id)?Object(E.jsx)(q.default,{endIcon:Object(E.jsx)(fn.a,{}),variant:"outlined",sx:{marginRight:"6px"},onClick:l,children:"Settings"},"settings"):Object(E.jsx)("div",{},"nothing"),(null===j||void 0===j?void 0:j.includes(s._id))&&Object(E.jsx)(Qn,{institution:t,onLeft:n},"leave")],onClick:l,sx:{pointer:"cursor"}})};var Jn=function(e){var t=e.isLoading,n=e.institutions,a=e.disableLinks,r=e.replaceTrailing,i=e.onLeft;return Object(E.jsx)(Pn,{isLoading:t,elements:n,cardBuilder:function(e){return Object(E.jsx)(Kn,{institution:e,replaceTrailing:r,disableLink:a,onLeft:i})},noElementsMessage:"No institutions."})},Zn=r.a.createContext();function Xn(e){var t=Object(a.useState)([]),n=Object(c.a)(t,2),r=n[0],i=n[1],s=Object(a.useState)(!1),o=Object(c.a)(s,2),l=o[0],d=o[1];Object(a.useEffect)((function(){d(!0),Hn.getMyInstitutions().then((function(e){i(e),d(!1)})).finally((function(){return d(!1)}))}),[]);var u={isLoading:l,institutions:r,setInstitutions:i};return Object(E.jsx)(Zn.Provider,Object(w.a)({value:u},e))}function $n(){var e=r.a.useContext(Zn);if(void 0===e)throw new Error("useInstitutions must be used within a InstitutionContext");return e}Zn.displayName="Institution Context";var ea=function(e){var t=e.onChoiceChange,n=$n().institutions,r=Object(a.useState)(n[0]),i=Object(c.a)(r,2),s=i[0],o=i[1];return Object(E.jsx)(Jn,{institutions:n,disableLinks:!0,replaceTrailing:function(e){return Object(E.jsx)(q.default,{onClick:function(){o(e.id),t(e.id)},type:e.id===s?"primary":"tertiary",children:e.id===s?"Chosen":"Choose"})}})};function ta(e){var t=e.open,n=e.handleClose,r=e.onCreated,i=Object(a.useState)(""),s=Object(c.a)(i,2),o=s[0],l=s[1],d=Object(a.useState)(""),u=Object(c.a)(d,2),h=u[0],p=u[1],j=Object(a.useState)(!1),b=Object(c.a)(j,2),f=b[0],m=b[1],x=Object(a.useState)(""),g=Object(c.a)(x,2),O=g[0],v=g[1],y=Object(a.useState)(""),w=Object(c.a)(y,2),C=w[0],k=w[1],S=Object(a.useState)(null),I=Object(c.a)(S,2),A=I[0],_=I[1],D=Object(a.useState)(""),R=Object(c.a)(D,2),F=R[0],T=R[1],N=$n().institutions;function L(){return(L=Object(P.a)(B.a.mark((function e(){var t;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o||v("Please enter a name."),h||k("Please enter a description."),o&&h){e.next=4;break}return e.abrupt("return");case 4:return m(!0),e.prev=5,e.next=8,Sn.createTeam(o,h,A);case 8:t=e.sent,r(t),n(),l(""),p(""),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),T(e.t0.response.data);case 18:return e.prev=18,m(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[5,15,18,21]])})))).apply(this,arguments)}return Object(E.jsxs)(K,{isOpen:t,setOpen:function(e){return!e&&n()},children:[Object(E.jsx)(J,{children:"Create a Team"}),Object(E.jsxs)(X.a,{children:[N.length>0&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(Ge.a,{autoFocus:!0,margin:"dense",id:"name",label:"Name",type:"text",variant:"standard",required:!0,error:!!O,helperText:O,onChange:function(e){l(e.target.value),v("")}}),Object(E.jsx)(Ge.a,{margin:"dense",id:"description",label:"Description",type:"text",fullWidth:!0,multiline:!0,maxRows:3,variant:"standard",required:!0,error:!!C,helperText:C,onChange:function(e){p(e.target.value),k("")}}),Object(E.jsx)("br",{}),Object(E.jsx)("br",{})]}),0===N.length?Object(E.jsxs)(Ne.a,{severity:"warning",sx:{width:"100%"},children:[Object(E.jsx)(Fn.a,{children:"You are not an admin of any institution."}),"To create a team, you need to be the admin of an institution. That is because you can only create teams within institutions directly."]}):Object(E.jsx)(ea,{onChoiceChange:_}),F&&Object(E.jsx)(Ne.a,{severity:"error",sx:{marginTop:"12px"},children:F})]}),Object(E.jsxs)(Z.a,{children:[Object(E.jsx)(q.default,{onClick:n,type:"tertiary",children:"Cancel"}),f?Object(E.jsx)(Tn.a,{}):Object(E.jsx)(q.default,{onClick:function(){return function(){return L.apply(this,arguments)}()},disabled:!o||!A,children:"Create"})]})]})}var na=function(){var e=Object(a.useState)([]),t=Object(c.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(!1),s=Object(c.a)(i,2),o=s[0],l=s[1];Object(a.useEffect)((function(){l(!0),Sn.getMyTeams().then(r).finally((function(){return l(!1)}))}),[]);var d=Object(a.useState)(!1),u=Object(c.a)(d,2),h=u[0],p=u[1];return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(ot.a,{direction:"row",className:"stack",alignItems:"Center",children:[Object(E.jsx)(j.a,{variant:"h5",sx:{pr:1},children:"Your Teams"}),Object(E.jsx)(jn,{onClick:function(){return p(!0)}})]}),Object(E.jsx)("br",{}),o||0!==n.length?"":Object(E.jsx)(Ne.a,{severity:"info",children:"You have not created any teams yet. Create one by clicking the Plus-Icon."}),n.map((function(e){return Object(E.jsxs)("div",{children:[Object(E.jsx)(En,{team:e,onLeft:function(e){return function(e){r(n.filter((function(t){return t.id!==e.id})))}(e)}}),Object(E.jsx)("div",{className:Rn.a.cardSpacing})]},e.id)})),h&&Object(E.jsx)(ta,{open:h,handleClose:function(){return p(!1)},onCreated:function(e){return r([].concat(Object(un.a)(n),[e]))}})]})};function aa(e){var t=e.open,n=e.handleClose,r=e.onCreated,i=Object(a.useState)(""),s=Object(c.a)(i,2),o=s[0],l=s[1],d=Object(a.useState)(""),u=Object(c.a)(d,2),h=u[0],p=u[1],j=Object(a.useState)(!1),b=Object(c.a)(j,2),f=b[0],m=b[1],x=Object(a.useState)(""),g=Object(c.a)(x,2),O=g[0],v=g[1],y=Object(a.useState)(""),w=Object(c.a)(y,2),C=w[0],k=w[1],S=Object(a.useState)(""),I=Object(c.a)(S,2),A=I[0],_=I[1];function D(){return(D=Object(P.a)(B.a.mark((function e(){var t;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o||v("Please enter a name."),h||k("Please enter a description."),o&&h){e.next=4;break}return e.abrupt("return");case 4:return m(!0),e.prev=5,e.next=8,Hn.createInstitution(o,h);case 8:t=e.sent,r(t),n(),l(""),p(""),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),_(e.t0.response.data);case 18:return e.prev=18,m(!1),e.finish(18);case 21:case"end":return e.stop()}}),e,null,[[5,15,18,21]])})))).apply(this,arguments)}return Object(E.jsxs)(K,{isOpen:t,setOpen:function(e){return!e&&n()},children:[Object(E.jsx)(J,{children:"Create an Institution"}),Object(E.jsxs)(X.a,{children:[Object(E.jsx)(Ge.a,{autoFocus:!0,label:"Name",type:"text",variant:"standard",required:!0,error:!!O,helperText:O,onChange:function(e){l(e.target.value),v("")}}),Object(E.jsx)(Ge.a,{label:"Country",type:"text",fullWidth:!0,multiline:!0,variant:"standard",required:!0,error:!!C,helperText:C,onChange:function(e){p(e.target.value),k("")}}),A&&Object(E.jsx)(Ne.a,{severity:"error",sx:{marginTop:"12px"},children:A})]}),Object(E.jsxs)(Z.a,{children:[Object(E.jsx)(q.default,{type:"tertiary",onClick:n,children:"Cancel"}),f?Object(E.jsx)(Tn.a,{}):Object(E.jsx)(q.default,{type:"primary",disabled:!o||!h,onClick:function(){return function(){return D.apply(this,arguments)}()},children:"Create"})]})]})}var ra=function(){var e=$n(),t=e.institutions,n=e.isLoading,r=e.setInstitutions,i=Object(a.useState)(!1),s=Object(c.a)(i,2),o=s[0],l=s[1];return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(ot.a,{direction:"row",className:"stack",alignItems:"Center",children:[Object(E.jsx)(j.a,{variant:"h5",sx:{pr:1},children:"Your Institutions"}),Object(E.jsx)(jn,{onClick:function(){return l(!0)}})]}),Object(E.jsx)("br",{}),Object(E.jsx)(Jn,{isLoading:n,institutions:t,onLeft:function(e){return n=e,void r(t.filter((function(e){return e.id!==n.id})));var n}}),Object(E.jsx)(aa,{open:o,handleClose:function(){return l(!1)},onCreated:function(e){return r([].concat(Object(un.a)(t),[e]))}})]})};var ia=function(e){var t=e.sidebarShown;return Object(E.jsx)(cn,{sidebarShown:t,title:"Community",children:Object(E.jsxs)("div",{className:dn.a.content,children:[Object(E.jsx)(na,{}),Object(E.jsx)("br",{}),Object(E.jsx)(bt.a,{}),Object(E.jsx)("br",{}),Object(E.jsx)(ra,{})]})})},sa=n(450),oa=n(472),ca=n(470),la=n(471),da={getModels:function(){var e=Object(P.a)(B.a.mark((function e(){var t,n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe.default.get("/".concat("models"));case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getModelById:function(){var e=Object(P.a)(B.a.mark((function e(t){var n,a;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe.default.get("".concat("model","/").concat(t));case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},ua=da,ha=function(e){var t=e.onClick,n=e.id,r=e.isMap,i=void 0!==r&&r,s=e.isSearchPage,o=void 0!==s&&s,l=Object(a.useState)(null),d=Object(c.a)(l,2),u=d[0],h=d[1],b=Object(et.useHistory)();return Object(a.useEffect)((function(){n&&ua.getModelById(n).then((function(e){return h(e)})).catch((function(e){return console.log(e)}))}),[n]),Object(E.jsxs)(p.a,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between"},children:[o&&Object(E.jsx)(j.a,{onClick:b.goBack,sx:{cursor:"pointer",fontSize:"18px",fontWeight:500,color:_.a.neutral[800],":hover":{color:_.a.primary[500]}},children:"Go Back"}),Object(E.jsx)(p.a,{sx:{display:"flex",flexDirection:"row",width:"100%",justifyContent:"space-between"},children:Object(E.jsx)(j.a,{sx:{fontSize:"36px",fontWeigth:700},children:null===u||void 0===u?void 0:u.name})}),Object(E.jsx)(p.a,{children:Object(E.jsx)(j.a,{sx:{fontSize:"20px",fontWeight:600,borderBottom:"1px solid black"},children:"Overview"})}),Object(E.jsxs)(j.a,{sx:{width:"100%",maxWidth:"800px"},children:["Description: ",null===u||void 0===u?void 0:u.description]}),i&&!o&&Object(E.jsx)(q.default,{sx:{marginTop:"1em",padding:"0.5em 2em 0.5em 2em"},type:"primary",onClick:function(){return t(u)},children:"Select"})]})};function pa(e){var t=e.handleSelect,n=Object(u.useParams)().id,a=Object(et.useLocation)();return Object(E.jsx)(p.a,{sx:{display:"flex",flexDirection:"column",justifyContent:"center"},children:Object(E.jsx)(p.a,{sx:{marginTop:"12px",width:"80%",height:"80vh"},children:Object(E.jsx)(ha,{id:n,isMap:!0,onClick:t,isSearchPage:a.pathname.includes("search")})})})}var ja=function(e){var t=e.id,n=e.open,a=e.setOpen;return Object(E.jsx)(K,{isOpen:n,setOpen:a,children:Object(E.jsx)(sa.a,{children:Object(E.jsx)(ha,{id:t})})})},ba=n(467),fa=function(e){var t=e.width,n=e.height,a=e.sx;return Object(E.jsx)(ba.a,{variant:"rectangular",width:t,height:n,sx:a})},ma=function(e){var t=e.content,n=e.onSelect,a=e.disabled,r=void 0!==a&&a;return Object(E.jsx)(gt.a,{variant:"outlined",disableRipple:!0,onClick:n,sx:{color:r?_.a.neutral[800]:_.a.primary[100],borderWidth:"2px",borderColor:r?_.a.neutral[800]:_.a.primary[100],borderRadius:"1.2rem",justifyContent:"center",textAlign:"center",":hover":{borderColor:r?_.a.neutral[600]:"#01579B",borderWidth:"2px",backgroundColor:r?_.a.neutral[100]:_.a.primary[100],color:r?_.a.neutral[600]:"#01579B",transition:"0.5s"}},children:t})},xa=function(e){var t=e.width,n=void 0===t?"100%":t,r=e.height,i=void 0===r?"100%":r,s=e.title,o=e.description,l=e.onSelect,d=e.selected,u=(e.learnMoreLink,e.modelObject),h=void 0===u?{}:u,b=e.disabled,f=void 0!==b&&b,m=e.isLoading,x=void 0===m||m,g=Object(a.useState)(!1),O=Object(c.a)(g,2),v=O[0],y=O[1],w=Object(a.useRef)(),C=Object(a.useState)("column"),k=Object(c.a)(C,2),S=(k[0],k[1]),I=Object(a.useState)(!1),A=Object(c.a)(I,2),D=A[0],R=A[1];return Object(a.useEffect)((function(){!x&&w.current.clientWidth>w.current.clientHeight&&S("row")}),[]),x?Object(E.jsx)(fa,{width:n,height:i,sx:{borderRadius:"1.2rem"}}):Object(E.jsxs)(p.a,{sx:{width:n,height:i},children:[Object(E.jsxs)(p.a,{ref:w,sx:{width:"100%",height:"100%",position:"relative",cursor:f?"pointer":"initial",display:"flex",flexDirection:"column",justifyContent:"center"},onMouseEnter:function(){return y(!0)},onMouseLeave:function(){return y(!1)},children:[(v||f)&&Object(E.jsxs)(p.a,{style:{background:f?"linear-gradient(#e7e7e7, #d0d0d0)":"linear-gradient(#4F83CC, #01579B)"},sx:{position:"absolute",width:"100%",height:"100%",borderRadius:"1.2rem",p:"1rem",opacity:.9},children:[f&&Object(E.jsx)(j.a,{sx:{position:"absolute",fontSize:"12px",fontWeight:"bold",color:_.a.neutral[900],textAlign:"center",left:"30%",top:"7%"},children:"Not Compatible"}),Object(E.jsxs)(p.a,{sx:{display:"flex",flexDirection:"column",gap:"1rem",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:[!f&&Object(E.jsx)(ma,{content:"Select",onSelect:function(){return l(h)}}),v&&Object(E.jsx)(ma,{content:"Learn More",onSelect:function(){return R(!0)},disabled:f})]})]}),Object(E.jsxs)(p.a,{sx:{width:"100%",height:"100%",display:"flex",flexDirection:"column",p:"1.2rem",boxShadow:v?"none":"0px 0px 10px rgba(0, 0, 0, 0.15)",borderRadius:"1.2rem",borderStyle:"solid",borderColor:d?"#008BF5":"transparent",borderWidth:"4px"},children:[Object(E.jsx)(j.a,{sx:{fontSize:"1.4rem",fontWeight:"bold",color:"#000000"},children:s}),Object(E.jsx)(j.a,{className:"modelDescription",sx:{paddingTop:"10px",fontSize:"1rem",color:_.a.neutral[800],display:"-webkit-box",overflow:"hidden",WebkitBoxOrient:"vertical",WebkitLineClamp:2},children:o})]})]}),Object(E.jsx)(ja,{id:h._id,open:D,setOpen:R})]})},ga={getAtlases:function(){var e=Object(P.a)(B.a.mark((function e(){var t,n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe.default.get("/".concat("atlases"));case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getAtlasById:function(){var e=Object(P.a)(B.a.mark((function e(t){var n,a;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe.default.get("/".concat("atlas","/").concat(t));case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Oa=ga,va=n(554),ya=n.n(va),wa=n(20),Ca=wa.Dialog,ka=wa.DialogTitle,Sa=wa.DialogContent,Ia=wa.TextField,Aa=wa.DialogActions,_a=wa.Button,Ea=function(e){var t=Object(et.useHistory)(),n=e.isEditModalOpen,r=e.setIsEditModalOpen,i=e.atlasDetailsForm,s=e.setAtlasDetailsForm,o=Object(a.useState)(Object(w.a)({},i)),l=Object(c.a)(o,2),d=l[0],u=l[1],h=function(){fe.default.put("/api/atlases/".concat(i._id),d).then((function(){r(!1),t.goBack(),window.location.reload(),s(d)})).catch((function(e){console.error(e)}))};return Object(a.useEffect)((function(){u(Object(w.a)({},i))}),[i]),Object(E.jsxs)(Ca,{open:n,onClose:function(){return r(!1)},"aria-labelledby":"edit-dialog-title","aria-describedby":"edit-dialog-description",maxWidth:"md",fullWidth:!0,children:[Object(E.jsx)(ka,{id:"edit-dialog-title",children:"Edit Atlas"}),Object(E.jsx)(Sa,{dividers:!0,children:Object(E.jsxs)("form",{onSubmit:h,children:[Object(E.jsx)(Ia,{label:"Name",value:(null===d||void 0===d?void 0:d.name)||"",onChange:function(e){return u((function(t){return Object(w.a)(Object(w.a)({},t),{},{name:e.target.value})}))},fullWidth:!0,margin:"normal"}),Object(E.jsx)(Ia,{label:"Preview Picture URL",value:(null===d||void 0===d?void 0:d.previewPictureURL)||"",onChange:function(e){return u((function(t){return Object(w.a)(Object(w.a)({},t),{},{previewPictureURL:e.target.value})}))},fullWidth:!0,margin:"normal"}),Object(E.jsx)(Ia,{label:"Modalities",value:(null===d||void 0===d?void 0:d.modalities)||"",onChange:function(e){return u((function(t){return Object(w.a)(Object(w.a)({},t),{},{modalities:e.target.value})}))},fullWidth:!0,margin:"normal"}),Object(E.jsx)(Ia,{label:"Number of Cells",value:(null===d||void 0===d?void 0:d.numberOfCells)||"",onChange:function(e){return u((function(t){return Object(w.a)(Object(w.a)({},t),{},{numberOfCells:e.target.value})}))},fullWidth:!0,margin:"normal"}),Object(E.jsx)(Ia,{label:"Species",value:(null===d||void 0===d?void 0:d.species)||"",onChange:function(e){return u((function(t){return Object(w.a)(Object(w.a)({},t),{},{species:e.target.value})}))},fullWidth:!0,margin:"normal"}),Object(E.jsx)(Ia,{label:"Compatible Models",value:(null===d||void 0===d?void 0:d.compatibleModels)||"",onChange:function(e){return u((function(t){return Object(w.a)(Object(w.a)({},t),{},{compatibleModels:e.target.value})}))},fullWidth:!0,margin:"normal"})]})}),Object(E.jsxs)(Aa,{children:[Object(E.jsx)(_a,{onClick:function(){return r(!1)},children:"Cancel"}),Object(E.jsx)(_a,{type:"submit",variant:"contained",color:"primary",onClick:h,children:"Save"})]})]})},Da=function(e){var t=e.onClick,n=e.id,r=e.isMap,i=void 0!==r&&r,s=e.isSearchPage,o=void 0!==s&&s,l=Object(a.useState)(!1),d=Object(c.a)(l,2),h=d[0],b=d[1],f=Object(a.useState)(null),m=Object(c.a)(f,2),x=m[0],g=m[1],O=Object(u.useHistory)(),v=Object(a.useState)(!1),y=Object(c.a)(v,2),w=y[0],C=y[1],k=Object(a.useState)(!1),S=Object(c.a)(k,2),I=S[0],A=S[1],D=(Object(u.useLocation)().pathname,F()),R=Object(c.a)(D,2),T=R[0];R[1];return Object(a.useEffect)((function(){n&&Oa.getAtlasById(n).then((function(e){return g(e)})).catch((function(e){return console.log(e)}))}),[n]),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(p.a,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between"},children:[o&&Object(E.jsx)(j.a,{onClick:O.goBack,sx:{cursor:"pointer",fontSize:"18px",fontWeight:500,color:_.a.neutral[800],":hover":{color:_.a.primary[500]}},children:"Go Back"}),Object(E.jsx)(p.a,{sx:{display:"flex",flexDirection:"row",width:"100%",justifyContent:"space-between"},children:Object(E.jsx)(Gt.a,{title:"atlas rating, 3 stars highest",placement:"bottom-end",children:Object(E.jsxs)(j.a,{sx:{fontSize:"36px",fontWeight:700},children:[null===x||void 0===x?void 0:x.name," ",(null===x||void 0===x?void 0:x.rating)&&Object(un.a)(Array(null===x||void 0===x?void 0:x.rating)).map((function(e,t){return Object(E.jsx)(ya.a,{sx:{color:"gold"}})}))]})})}),Object(E.jsx)(p.a,{children:Object(E.jsx)(j.a,{sx:{fontSize:"20px",fontWeight:600,borderBottom:"1px solid black"},children:"Overview"})}),Object(E.jsxs)(p.a,{sx:{display:"flex",flexDirection:"row",paddingTop:"16px"},children:[Object(E.jsx)(j.a,{sx:{fontSize:"16px",fontWeight:500},children:"Species: \xa0"}),Object(E.jsx)(j.a,{sx:{fontSize:"16px",fontWeight:300},children:(null===x||void 0===x?void 0:x.species)?x.species:"Not available"})]}),Object(E.jsxs)(p.a,{sx:{display:"flex",flexDirection:"row"},children:[Object(E.jsx)(j.a,{sx:{fontSize:"16px",fontWeight:500},children:"Number of samples/individuals: \xa0"}),Object(E.jsx)(j.a,{sx:{fontSize:"16px",fontWeight:300},children:(null===x||void 0===x?void 0:x.samples)?x.samples:"Not available"})]}),Object(E.jsxs)(p.a,{sx:{display:"flex",flexDirection:"row"},children:[Object(E.jsx)(j.a,{sx:{fontSize:"16px",fontWeight:500},children:"Number of Studies: \xa0"}),Object(E.jsx)(j.a,{sx:{fontSize:"16px",fontWeight:300},children:(null===x||void 0===x?void 0:x.studies)?x.studies:"Not available"})]}),Object(E.jsxs)(p.a,{sx:{display:"flex",flexDirection:"row"},children:[Object(E.jsx)(j.a,{sx:{fontSize:"16px",fontWeight:500},children:"Cells in Reference: \xa0"}),Object(E.jsx)(j.a,{sx:{fontSize:"16px",fontWeight:300},children:(null===x||void 0===x?void 0:x.numberOfCells)?x.numberOfCells:"Not available"})]}),Object(E.jsxs)(p.a,{sx:{display:"flex",flexDirection:"row"},children:[Object(E.jsx)(j.a,{sx:{fontSize:"16px",fontWeight:500},children:"Modalities: \xa0"}),Object(E.jsx)(j.a,{sx:{fontSize:"16px",fontWeight:300},children:(null===x||void 0===x?void 0:x.modalities)?x.modalities:"Not available"})]}),Object(E.jsxs)(p.a,{sx:{display:"flex",flexDirection:"row"},children:[Object(E.jsx)(j.a,{sx:{fontSize:"16px",fontWeight:500},children:"DOI: \xa0"}),Object(E.jsx)(j.a,{sx:{fontSize:"16px",fontWeight:300},children:(null===x||void 0===x?void 0:x.doi)?Object(E.jsx)(Be.a,{href:x.doi,sx:{textDecoration:"none"},target:"_blank",rel:"noopener",children:x.doi}):"Not available"})]}),Object(E.jsxs)(p.a,{sx:{display:"flex",flexDirection:"row"},children:[Object(E.jsx)(j.a,{sx:{fontSize:"16px",fontWeight:500},children:"URL: \xa0"}),Object(E.jsx)(j.a,{sx:{fontSize:"16px",fontWeight:300},children:(null===x||void 0===x?void 0:x.url)?Object(E.jsx)(Be.a,{href:x.url,sx:{textDecoration:"none"},target:"_blank",rel:"noopener",children:x.url}):"Not available"})]}),Object(E.jsxs)(p.a,{sx:{display:"flex",flexDirection:"row"},children:[Object(E.jsx)(j.a,{sx:{fontSize:"16px",fontWeight:500},children:"Atlas cell type key: \xa0"}),Object(E.jsx)(j.a,{sx:{fontSize:"16px",fontWeight:300},children:(null===x||void 0===x?void 0:x.cell_type_key)?null===x||void 0===x?void 0:x.cell_type_key:"Not available"})]}),Object(E.jsxs)(p.a,{sx:{display:"flex",flexDirection:"row"},children:[Object(E.jsx)(j.a,{sx:{fontSize:"16px",fontWeight:500},children:"Atlas batch key: \xa0"}),Object(E.jsx)(j.a,{sx:{fontSize:"16px",fontWeight:300},children:(null===x||void 0===x?void 0:x.atlas_batch_key)?null===x||void 0===x?void 0:x.atlas_batch_key:"Not available"})]}),T&&T.isAdministrator&&Object(E.jsxs)(p.a,{sx:{display:"flex",flexDirection:"row"},children:[Object(E.jsx)(gt.a,{sx:{margin:"1em",padding:"1em 2em 0.5em 2em"},type:"primary",onClick:function(){return A(!0)},children:"Edit"}),Object(E.jsx)(gt.a,{sx:{margin:"1em",padding:"1em 2em 0.5em 2em"},type:"primary",onClick:function(){return C(!0)},children:"Delete"})]}),Object(E.jsx)(p.a,{sx:{display:"flex",flexDirection:"row"}}),i&&!o&&Object(E.jsx)(E.Fragment,{children:Object(E.jsx)(q.default,{sx:{marginTop:"1em",padding:"0.5em 2em 0.5em 2em"},type:"primary",onClick:function(){return t(x)},children:"Select"})})]}),Object(E.jsx)(Ea,{atlasDetailsForm:x,setAtlasDetailsForm:g,isEditModalOpen:I,setIsEditModalOpen:A}),Object(E.jsxs)(H.a,{open:w,onClose:function(){return C(!1)},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(E.jsx)(Q.a,{id:"alert-dialog-title",children:"Do you want to delete this atlas?"}),Object(E.jsx)(X.a,{children:h?Object(E.jsx)(CircularProgress,{}):Object(E.jsx)(mn.a,{id:"alert-dialog-description",children:"Are you sure you want to delete this atlas?"})}),Object(E.jsxs)(Z.a,{children:[Object(E.jsx)(gt.a,{onClick:function(){return C(!1)},children:"Cancel"}),Object(E.jsx)(gt.a,{onClick:function(){b(!0),fe.default.delete("/api/atlases/".concat(n)).then((function(){C(!1),b(!1),O.goBack(),alert("Atlas  deleted successfully")})).catch((function(e){console.error(e),b(!1)})),b(!1)},autoFocus:!0,children:"Yes, Delete it!"})]})]})]})};function Ra(e){var t=e.handleSelect,n=Object(u.useLocation)(),a=Object(u.useParams)().id;return Object(E.jsx)(p.a,{sx:{display:"flex",flexDirection:"column",justifyContent:"center"},children:Object(E.jsx)(p.a,{sx:{marginTop:"12px",width:"80%",height:"80vh"},children:Object(E.jsx)(Da,{id:a,isMap:!0,onClick:t,isSearchPage:n.pathname.includes("search")})})})}var Fa=function(e){var t=e.id,n=e.open,a=e.setOpen;return Object(E.jsx)(K,{isOpen:n,setOpen:a,children:Object(E.jsx)(sa.a,{children:Object(E.jsx)(Da,{id:t})})})};function Ta(e){var t=e.width,n=void 0===t?"100%":t,r=e.height,i=void 0===r?"100%":r,s=e.title,o=e.imgLink,l=e.modalities,d=e.cellsInReference,u=e.species,h=(e.mapLink,e.learnMoreLink,e.selected),b=void 0!==h&&h,f=e.onSelect,m=e.atlasObject,x=void 0===m?{}:m,g=e.isLoading,O=void 0===g||g,v=Object(a.useState)(!1),y=Object(c.a)(v,2),w=y[0],C=y[1],k=Object(a.useState)(!1),S=Object(c.a)(k,2),I=S[0],A=S[1],_=Object(a.useState)(!1),D=Object(c.a)(_,2),R=D[0],F=D[1],T=Object(a.useRef)(),B=(Object(et.useHistory)(),Object(a.useState)(!1)),P=Object(c.a)(B,2),N=P[0],L=P[1];return Object(a.useEffect)((function(){var e=new Image;e.src=o,e.onload=function(){L(!0)},e.onerror=function(){L(!0)}}),[o]),Object(a.useEffect)((function(){N&&T.current.clientWidth>T.current.clientHeight&&A(!0)}),[]),!N||O?Object(E.jsx)(fa,{width:n,height:i,sx:{borderRadius:"1.2rem"}}):Object(E.jsxs)(p.a,{sx:{width:n,height:i},children:[Object(E.jsxs)(p.a,{ref:T,onMouseEnter:function(){return C(!0)},onMouseLeave:function(){return C(!1)},sx:{width:"100%",height:"100%",position:"relative"},children:[w&&Object(E.jsx)(p.a,{style:{background:"linear-gradient(#4F83CC, #01579B)"},sx:{position:"absolute",width:"100%",height:"100%",borderRadius:"1.2rem",display:"flex",flexDirection:"column",justifyContent:"center",opacity:.95},children:Object(E.jsxs)(p.a,{sx:{margin:"auto",width:I?"70%":"60%",height:I?"auto":"40%",display:"flex",flexDirection:I?"row":"column",justifyContent:"space-evenly"},children:[Object(E.jsx)(ma,{content:"Select",onSelect:function(){return f(x)}}),Object(E.jsx)(ma,{content:"Learn More",onSelect:function(){return F(!0)}})]})}),Object(E.jsxs)(p.a,{sx:{width:"100%",height:"100%",padding:"1rem",display:"flex",flexDirection:"column",boxShadow:w?"none":"0px 4px 6px 0px rgba(33, 37, 41, .2), 0px 0px 1px 0px rgba(33, 37, 41, .32)",borderRadius:"1.2rem",justifyContent:"center",borderStyle:"solid",borderColor:b?"#008BF5":"transparent",borderWidth:"4px"},children:[Object(E.jsx)(j.a,{sx:{fontSize:"1.4rem",fontWeight:"bold"},children:s}),Object(E.jsx)(p.a,{component:"img",src:o,alt:"Atlas preview img",sx:{width:"80%",margin:"auto",objectFit:"cover"}}),Object(E.jsxs)(p.a,{sx:{display:"flex",flexDirection:"row"},children:[Object(E.jsx)(j.a,{sx:{fontSize:"1rem",fontWeight:"bold"},children:"Modalities:"}),"\xa0",Object(E.jsx)(j.a,{noWrap:!0,children:l})]}),Object(E.jsxs)(p.a,{sx:{display:"flex",flexDirection:"row"},children:[Object(E.jsx)(j.a,{sx:{fontSize:"1rem",fontWeight:"bold"},children:"Cells in Reference:"}),"\xa0",Object(E.jsx)(j.a,{children:d})]}),Object(E.jsxs)(p.a,{sx:{display:"flex",flexDirection:"row"},children:[Object(E.jsx)(j.a,{sx:{fontSize:"1rem",fontWeight:"bold"},children:"Species:"}),"\xa0",Object(E.jsx)(j.a,{children:u})]})]})]}),Object(E.jsx)(Fa,{id:x._id,open:R,setOpen:F})]})}var Ba=n(585),Pa=n(474),Na=n(515),La=["darkBackground","label","component","to"];function Ma(e){var t=e.darkBackground,n=e.label,a=e.component,r=e.to,i=Object(Ba.a)(e,La);return Object(E.jsx)(Pa.a,Object(w.a)(Object(w.a)({},i),{},{disableRipple:!0,label:n,component:a,to:r,sx:{textTransform:"none",fontWeight:"bold",color:t?"white":"black",opacity:1,"&.Mui-selected":{fontWeight:"bold",color:t?"white":"black",opacity:1}}}))}function za(e){var t=Object(u.useLocation)(),n=e.value,r=e.onValueChange,i=e.darkBackground,s=e.tabsInfo,o=e.width,l=void 0===o?"100%":o,h=e.height,j=void 0===h?"100%":h,b=Object(a.useRef)(),f=Object(a.useState)(0),m=Object(c.a)(f,2),x=m[0],g=m[1];return Object(a.useEffect)((function(){g(b.current.clientHeight)}),[]),Object(E.jsxs)(p.a,{sx:{width:l,height:j,position:"relative"},children:[Object(E.jsx)(p.a,{ref:b,children:Object(E.jsx)(Na.a,{value:n,onChange:function(e,t){return r(t)},sx:{"& .MuiTabs-indicator":{backgroundColor:i?"white":"black"}},children:s.map((function(e,n){return Object(E.jsx)(Ma,{value:n,label:e.label,component:d.b,to:e.path?e.path:t.pathname,darkBackground:i},e.label)}))})}),s[n].additionalContent&&Object(E.jsx)(p.a,{sx:{width:"100%",height:"calc(100% - ".concat(x,"px)"),overflowY:"scroll"},children:s[n].additionalContent})]})}var Ua=function(e){var t=e.style,n=e.width,a=e.height,r=e.data,i=e.handleOnClick,s=e.selected,o=e.minimal,c=e.isLoading;return void 0===c||c?Object(E.jsx)(fa,{width:n,height:a,sx:{borderRadius:"0.625rem",marginBottom:"0.67em"}}):Object(E.jsx)(p.a,{onClick:i,sx:Object(w.a)(Object(w.a)({},t),{},{width:{width:n},height:{height:a},backgroundColor:"white",borderRadius:"0.625rem",marginBottom:"0.67em",cursor:"pointer"}),children:Object(E.jsxs)(p.a,{sx:s?{boxShadow:"0px 0px 2px rgba(0,0,0, 0.15)",p:"0.5em",borderRadius:"0.625rem",borderColor:r.isAtlas?"#008BF5":"transparent",borderWidth:r.isAtlas?"2px":"0px",borderStyle:r.isAtlas?"solid":"none",backgroundColor:r.isAtlas?"none":_.a.primary[300],color:r.isAtlas?"":"white"}:{boxShadow:"0px 0px 2px rgba(0,0,0, 0.15)",p:"0.5em",borderRadius:"0.625rem",backgroundColor:"white",":hover":{color:_.a.primary,":hover":{background:r.isAtlas?"linear-gradient(#4F83CC, #01579B)":_.a.primary[300],transition:r.isAtlas?"0.0s":"0.4s",color:"white",opacity:r.isAtlas?.95:100,boxShadow:r.isAtlas?"none":"0px 4px 6px 0px rgba(33, 37, 41, .2), 0px 0px 1px 0px rgba(33, 37, 41, .32)"},":focus":{backgroundColor:_.a.primary[300],transition:"0.4s",color:"white"},":disabled":{backgroundColor:"#EBEFFF",transition:"0.4s",color:_.a.primary[600]}}},children:[Object(E.jsxs)(ot.a,{spacing:0,p:"0.1em",pl:"0.3em",alignItems:"center",justifyContent:"space-between",flexDirection:"row",children:[Object(E.jsxs)(j.a,{height:r.isAtlas?"5px":"auto",fontSize:o?"1em":"p",children:[" ","team"===(null===r||void 0===r?void 0:r.type)?r.title:r.text]}),"team"===(null===r||void 0===r?void 0:r.type)&&r.added&&Object(E.jsx)(j.a,{variant:"caption",fontWeight:"light",children:Object(E.jsx)("span",{sx:{":hover":{color:"white"}},children:"Already added"})})]}),Object(E.jsx)(j.a,{spacing:0,p:"0.1em",pl:"0.3em",variant:"caption",fontWeight:"",children:!o&&r.isDemo?"Demo dataset for ".concat(r.atlas," & ").concat(r.model):r.visibility})]})})},Wa=n(556),Ga=n.n(Wa),qa=n(555),Ha=n.n(qa),Qa=n.p+"static/media/scvi-logo.8588e44b.svg",Va=n(330),Ya=n.n(Va),Ka=n(557),Ja=n.n(Ka),Za=n(329),Xa=n.n(Za),$a={getClassifiers:function(){var e=Object(P.a)(B.a.mark((function e(){var t,n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe.default.get("/".concat("classifiers"));case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getClassifierById:function(){var e=Object(P.a)(B.a.mark((function e(t){var n,a;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe.default.get("/".concat("classifier","/").concat(t));case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},er=$a,tr=function(e){var t=e.onClick,n=e.id,r=e.isMap,i=void 0!==r&&r,s=e.isSearchPage,o=void 0!==s&&s,l=Object(a.useState)(null),d=Object(c.a)(l,2),u=d[0],h=d[1],b=Object(et.useHistory)();return Object(a.useEffect)((function(){n&&er.getClassifierById(n).then((function(e){return h(e)})).catch((function(e){return console.log(e)}))}),[n]),Object(E.jsxs)(p.a,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between"},children:[o&&Object(E.jsx)(j.a,{onClick:b.goBack,sx:{cursor:"pointer",fontSize:"18px",fontWeight:500,color:_.a.neutral[800],":hover":{color:_.a.primary[500]}},children:"Go Back"}),Object(E.jsx)(p.a,{sx:{display:"flex",flexDirection:"row",width:"100%",justifyContent:"space-between"},children:Object(E.jsx)(j.a,{sx:{fontSize:"36px",fontWeigth:700},children:null===u||void 0===u?void 0:u.name})}),Object(E.jsx)(p.a,{children:Object(E.jsx)(j.a,{sx:{fontSize:"20px",fontWeight:600,borderBottom:"1px solid black"},children:"Overview"})}),Object(E.jsxs)(j.a,{sx:{width:"100%",maxWidth:"800px"},children:["Description: ",null===u||void 0===u?void 0:u.description]}),i&&!o&&Object(E.jsx)(q.default,{sx:{marginTop:"1em",padding:"0.5em 2em 0.5em 2em"},type:"primary",onClick:function(){return t(u)},children:"Select"}),Object(E.jsxs)(p.a,{sx:{display:"flex",flexDirection:"row"},children:[Object(E.jsx)(j.a,{sx:{fontSize:"16px",fontWeight:500},children:"URL: \xa0"}),Object(E.jsx)(j.a,{sx:{fontSize:"16px",fontWeight:300},children:(null===u||void 0===u?void 0:u.url)?Object(E.jsx)(Be.a,{href:u.url,sx:{textDecoration:"none"},target:"_blank",rel:"noopener",children:u.url}):"Not available"})]})]})};var nr=function(e){var t=e.id,n=e.open,a=e.setOpen;return Object(E.jsx)(K,{isOpen:n,setOpen:a,children:Object(E.jsx)(sa.a,{children:Object(E.jsx)(tr,{id:t})})})},ar=function(e){var t=e.content,n=e.onSelect,a=e.disabled,r=void 0!==a&&a;return Object(E.jsx)(gt.a,{variant:"outlined",disableRipple:!0,onClick:n,sx:{color:r?_.a.neutral[800]:_.a.primary[100],borderWidth:"2px",borderColor:r?_.a.neutral[800]:_.a.primary[100],borderRadius:"1.2rem",justifyContent:"center",textAlign:"center",":hover":{borderColor:r?_.a.neutral[600]:"#01579B",borderWidth:"2px",backgroundColor:r?_.a.neutral[100]:_.a.primary[100],color:r?_.a.neutral[600]:"#01579B",transition:"0.5s"}},children:t})},rr=function(e){var t=e.width,n=void 0===t?"100%":t,r=e.height,i=void 0===r?"100%":r,s=e.title,o=e.description,l=e.onSelect,d=e.selected,u=(e.learnMoreLink,e.selectedClassifier),h=e.classifierObject,b=void 0===h?{}:h,f=e.disabled,m=void 0!==f&&f,x=e.isLoading,g=void 0===x||x,O=Object(a.useState)(!1),v=Object(c.a)(O,2),y=v[0],w=v[1],C=Object(a.useRef)(),k=Object(a.useState)("column"),S=Object(c.a)(k,2),I=(S[0],S[1]),A=Object(a.useState)(!1),D=Object(c.a)(A,2),R=D[0],F=D[1];return Object(a.useEffect)((function(){!g&&C.current.clientWidth>C.current.clientHeight&&I("row")}),[]),g?Object(E.jsx)(fa,{width:n,height:i,sx:{borderRadius:"1.2rem"}}):Object(E.jsxs)(p.a,{sx:{width:n,height:i},children:[Object(E.jsxs)(p.a,{ref:C,sx:{width:"100%",height:"100%",position:"relative",cursor:m?"pointer":"initial",display:"flex",flexDirection:"column",justifyContent:"center"},onMouseEnter:function(){return w(!0)},onMouseLeave:function(){return w(!1)},children:[(y||m)&&Object(E.jsxs)(p.a,{style:{background:m?"linear-gradient(#e7e7e7, #d0d0d0)":"linear-gradient(#4F83CC, #01579B)"},sx:{position:"absolute",width:"100%",height:"100%",borderRadius:"1.2rem",p:"1rem",opacity:.9},children:[m&&Object(E.jsx)(j.a,{sx:{position:"absolute",fontSize:"10px",fontWeight:"bold",color:_.a.neutral[900],textAlign:"center",left:"25%",top:"10%"},children:"Not Compatible"}),Object(E.jsxs)(p.a,{sx:{display:"flex",flexDirection:"column",gap:"1rem",position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:[!m&&Object(E.jsx)(ar,{content:d?"Deselect":"Select",onSelect:function(){return(null===u||void 0===u?void 0:u.name)===(null===b||void 0===b?void 0:b.name)?l(""):l(b)}}),y&&Object(E.jsx)(ar,{content:"Learn More",onSelect:function(){return F(!0)},disabled:m})]})]}),Object(E.jsxs)(p.a,{sx:{width:"100%",height:"100%",display:"flex",flexDirection:"column",p:"1.2rem",boxShadow:y?"none":"0px 0px 10px rgba(0, 0, 0, 0.15)",borderRadius:"1.2rem",borderStyle:"solid",borderColor:d?"#008BF5":"transparent",borderWidth:"4px"},children:[Object(E.jsx)(j.a,{sx:{fontSize:"1.4rem",fontWeight:"bold",color:"#000000"},children:s}),Object(E.jsx)(j.a,{className:"modelDescription",sx:{paddingTop:"10px",fontSize:"1rem",color:_.a.neutral[800],display:"-webkit-box",overflow:"hidden",WebkitBoxOrient:"vertical",WebkitLineClamp:2},children:o})]})]}),Object(E.jsx)(nr,{id:b._id,open:R,setOpen:F})]})};var ir=function(e){var t=e.setActiveStep,n=e.selectedAtlas,r=e.setSelectedAtlas,i=e.selectedModel,s=e.setSelectedModel,o=e.path,l=e.compatibleModels,d=e.atlases,h=e.models,b=e.scviHubAtlases,f=e.selectedClassifier,m=e.setSelectedClassifier,x=e.compatibleClassifiers,g=e.classifiers,O=Object(a.useState)(!1),v=Object(c.a)(O,2),y=v[0],w=v[1],C=Object(a.useState)(!1),k=Object(c.a)(C,2),S=k[0],I=k[1],A=Object(u.useHistory)(),_=Object(a.useState)(!0),D=Object(c.a)(_,2),R=D[0],F=D[1];return Object(a.useEffect)((function(){var e=function(){var e=Object(P.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,new Promise((function(e){return setTimeout(e,100)}));case 3:F(!1),e.next=10;break;case 6:e.prev=6,e.t0=e.catch(0),F(!1),setIsError(!0);case 10:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(E.jsxs)("div",{children:[y&&Object(E.jsx)(Ne.a,{severity:"error",children:"Select an Atlas and a fitting Model before continuing"}),Object(E.jsx)(ot.a,{direction:"column",divider:Object(E.jsx)(bt.a,{className:Xa.a.divider,orientation:"horizontal",flexItem:!0}),sx:{gap:"1.5rem"}}),Object(E.jsxs)(p.a,{children:[Object(E.jsx)(j.a,{variant:"h5",sx:{fontWeight:"bold",pb:"1em",mt:"1.0em"},children:"Pick an Atlas"}),Object(E.jsx)(j.a,{variant:"h6",sx:{mb:"1.5em"},children:"Archmap Core Atlases"}),Object(E.jsx)(Re.a,{container:!0,spacing:2,width:"100%",overflow:"auto",wrap:"nowrap",children:d&&d.map((function(e){return Object(E.jsx)(Re.a,{item:!0,height:"330px",children:Object(E.jsx)(Ta,{width:"225px",height:"97%",title:e.name.includes("atlas")?e.name.replace("atlas",""):e.name,modalities:e.modalities,cellsInReference:e.numberOfCells,species:e.species,imgLink:e.previewPictureURL,selected:n.name===e.name,onSelect:r,atlasObject:e,isLoading:R})})}))}),Object(E.jsxs)(p.a,{display:"flex",alignItems:"center",sx:{mt:"1.5em",mb:"0.5em"},children:[Object(E.jsx)(j.a,{variant:"h6",children:"scVI Hub Atlases"}),Object(E.jsx)(N.a,{src:Qa,sx:{width:36,height:36,marginLeft:"5px"}})]}),Object(E.jsx)(p.a,{display:"flex",sx:{mt:"1em"},children:(!b||0===b.length)&&Object(E.jsx)(Ne.a,{severity:"info",sx:{width:"33%"},children:"No existing datasets available. "})}),b&&b.length>0&&Object(E.jsxs)(p.a,{children:[S?Object(E.jsx)(p.a,{style:{display:"flex",flexWrap:"wrap",justifyContent:"center",alignItems:"center"},children:b&&b.map((function(e){return Object(E.jsx)(Ua,{style:{flex:"1 0 auto",maxWidth:"33.33%",minWidth:"33.33%",padding:"8px"},height:"50px",data:{text:e.name[0].toUpperCase()+e.name.substring(1),isAtlas:!0},isLoading:!1,handleOnClick:function(){return r(e)},selected:n&&n.name===e.name})}))}):Object(E.jsx)(p.a,{style:{display:"flex",flexWrap:"wrap",justifyContent:"center",alignItems:"center"},children:b.slice(0,3).map((function(e){return Object(E.jsx)(Ua,{style:{flex:"1 0 auto",maxWidth:"33.33%",minWidth:"33.33%",padding:"8px",color:"black"},height:"50px",data:{text:e.name[0].toUpperCase()+e.name.substring(1),isAtlas:!0},isLoading:!1,handleOnClick:function(){return r(e)},selected:n&&n.name===e.name},e.name)}))}),Object(E.jsx)(p.a,{sx:{display:"flex",justifyContent:"center",pt:"1em"},children:Object(E.jsxs)(gt.a,{style:{textTransform:"none",padding:"0px"},variant:"text",color:"primary",onClick:function(){I(!S)},disableRipple:!0,children:[Object(E.jsx)(j.a,{children:S?"Expand less":"Expand more"}),S?Object(E.jsx)(Ha.a,{}):Object(E.jsx)(Ga.a,{})]})})]}),Object(E.jsxs)(p.a,{width:"100%",display:"flex",marginTop:"10px",children:[Object(E.jsxs)(p.a,{id:"Grid",width:"50%",children:[Object(E.jsx)(j.a,{variant:"h5",sx:{fontWeight:"bold",pb:"1em"},marginTop:"32px",children:"Pick a Model"}),Object(E.jsx)(Re.a,{container:!0,spacing:2,direction:"row",wrap:"nowrap",children:h&&h.map((function(e){return Object(E.jsx)(Re.a,{item:!0,height:"200px",children:Object(E.jsx)(xa,{width:"170px",height:"97%",title:e.name,description:e.description,selected:i.name===e.name,onSelect:s,modelObject:e,disabled:!l||!l.map((function(e){return e.toLowerCase()})).includes(e.name.toLowerCase())||0===l.length,isLoading:R})})}))})]}),Object(E.jsxs)(p.a,{id:"Grid",width:"50%",marginLeft:"36px",children:[Object(E.jsx)(j.a,{variant:"h5",sx:{fontWeight:"bold",pb:"1em"},marginTop:"32px",children:"Pick a Classifier (Optional)"}),Object(E.jsx)(Re.a,{container:!0,spacing:2,direction:"row",wrap:"nowrap",children:g&&g.map((function(e){return Object(E.jsx)(Re.a,{item:!0,height:"200px",children:Object(E.jsx)(rr,{width:"170px",height:"97%",title:e.name,description:e.description,selected:f.name===e.name,selectedClassifier:f,onSelect:m,classifierObject:e,disabled:!x||!x.map((function(e){return e.toLowerCase()})).includes(e.name.toLowerCase())||0===x.length||(null===n||void 0===n?void 0:n.scviAtlas),isLoading:R})})}))})]})]})]}),Object(E.jsxs)(ot.a,{direction:"row",justifyContent:"space-between",sx:{marginTop:"50px",marginBottom:"3em",marginRight:"30px"},children:[Object(E.jsxs)(q.default,{type:"tertiary",onClick:function(){return A.push("".concat(o))},children:[Object(E.jsx)(Ya.a,{}),"\xa0 Cancel"]}),Object(E.jsx)(Gt.a,{title:n&&i?"":"Select an Atlas and a fitting Model before continuing",placement:"top",children:Object(E.jsx)(p.a,{onClick:n&&i?function(){}:function(){return w(!0)},children:Object(E.jsxs)(q.default,{type:"primary",disabled:!n||!i,onClick:function(){return t(1)},children:["Confirm\xa0",Object(E.jsx)(Ja.a,{})]})})})]})]})},sr=n(558),or=n.n(sr),cr=n(559),lr=n.n(cr),dr=n(504),ur=n(505),hr=n(584),pr=function(){return Object(E.jsxs)(p.a,{sx:Object(h.a)({display:"flex",flexDirection:"column",alignItems:"center",gap:"1em",color:_.a.primary[800],position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)"},"color","inherit"),children:[Object(E.jsx)(dr.a,{sx:{fontSize:80}}),Object(E.jsx)(j.a,{fontWeight:"bold",fontSize:"1.2em",sx:{textAlign:"center"},children:"Drag and drop or browse files"})]})},jr=function(){return Object(E.jsxs)(p.a,{sx:{display:"flex",flexDirection:"column",alignItems:"center",gap:"1em",color:_.a.primary[500],position:"absolute",left:"50%",top:"50%",transform:"translate(-50%, -50%)"},children:[Object(E.jsx)(ur.a,{style:{fontSize:80}}),Object(E.jsx)(j.a,{fontWeight:"bold",fontSize:"1.2em",sx:{textAlign:"center"},children:"Drop files here"})]})},br=function(e){var t=e.width,n=void 0===t?"100%":t,r=e.height,i=void 0===r?"100%":r,s=e.handleFileUpload,o=e.validator,c=e.rejectionHandler,l=Object(a.useCallback)((function(e){s(e)}),[]),d=Object(a.useCallback)((function(){c()}),[]),u=Object(hr.a)({onDropAccepted:l,onDropRejected:d,validator:o}),h=u.getRootProps,j=u.getInputProps,b=u.isDragActive;return Object(E.jsxs)(p.a,Object(w.a)(Object(w.a)({},h()),{},{sx:{width:n,height:i,boxShadow:"0px 4px 6px rgba(0, 0, 0, 0.25), 0px 0px 1px rgba(0, 0, 0, 0.32)",p:"3em",borderRadius:"20px",cursor:"pointer",position:"relative",backgroundColor:_.a.primary[100],"&:hover":{boxShadow:"inset 0px 8px 12px rgba(0, 0, 0, 0.25), 0px 0px 2px rgba(0, 0, 0, 0.32)",transition:"0.4s",backgroundColor:_.a.primary[300],color:"white"}},children:[Object(E.jsx)("input",Object(w.a)({},j())),b?Object(E.jsx)(jr,{}):Object(E.jsx)(pr,{})]}))},fr={getDemos:function(){var e=Object(P.a)(B.a.mark((function e(){var t,n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe.default.get("/".concat("demos"));case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},mr=fr,xr={postAnndataArgs:function(){var e=Object(P.a)(B.a.mark((function e(t){var n,a,r;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={scviHubId:t},e.next=3,fe.default.post("/".concat("model_setup_anndata_args"),n);case 3:return a=e.sent,r=a.data,e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},gr=xr,Or=r.a.createContext();Or.displayName="SubmissionProgressContext";var vr=function(e){return{status:oe.d.IDLE,uploadId:e,chunks:0,uploaded:0,remaining:[],uploadedParts:[]}};function yr(e){var t=Object(a.useState)({}),n=Object(c.a)(t,2),r=[n[0],n[1]];return Object(E.jsx)(Or.Provider,Object(w.a)({value:r},e))}function wr(){var e=r.a.useContext(Or);if(void 0===e)throw new Error("useSubmissionProgress must be used within a SubmissionProgressProvider");return e}var Cr=[{_id:"626f20715c2633c6573652d3",owner:"626bdb1ed76c8b968a50f833",name:"myproject",modelId:"626ea2361d7d1a27de465b5f",atlasId:"626ea3311d7d1a27de465b63",fileName:"pancreas_query.h5ad",fileSize:21892149,uploadDate:"2022-05-02T00:06:09.219Z",status:"DONE",resultSize:-1,__v:0,uploadId:"ABPnzm64TXY8lmYTzYiCOoX4J5S-VsKxK26LilPb3aex0I6LOtNXBVyU8XnT88ns76ZBY3cz",teamId:"626edd8b75993ffbfb5ae41d"},{_id:"626fc5d175993ffbfb5ae46c",owner:"626bdb1ed76c8b968a50f833",name:"This is Project",modelId:"626ea2361d7d1a27de465b5f",atlasId:"626ea3311d7d1a27de465b63",fileName:"pbmc_query.h5ad",fileSize:21892149,uploadDate:"2022-05-02T00:06:09.219Z",status:"PROCESSING_PENDING",resultSize:-1,__v:0,uploadId:"ABPnzm64TXY8lmYTzYiCOoX4J5S-VsKxK26LilPb3aex0I6LOtNXBVyU8XnT88ns76ZBY3cz",teamId:"626edd8b75993ffbfb5ae41d"}],kr={getProjects:function(){return Object(P.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Cr);case 1:case"end":return e.stop()}}),e)})))()},getTeamProjects:function(e){return Object(P.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Cr);case 1:case"end":return e.stop()}}),e)})))()},getOwnProjects:function(){var e=Object(P.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kr.getProjects());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getProject:function(e){return Object(P.a)(B.a.mark((function t(){var n;return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Cr.find((function(t){return String(t._id)===String(e)})),t.abrupt("return",null!==n&&void 0!==n?n:{_id:e,owner:"mock",uploadId:"12345-abcde",atlasId:"626ea3311d7d1a27de465b63",fileName:"test1.h5ad",location:"./testData/test_file".concat(e,".csv"),fileSize:1e7,modelId:"626ea2361d7d1a27de465b5e",name:"Test project ".concat(e),resultSize:"10000",status:"DONE",uploadDate:"2022-04-30T106:00:00.000Z"});case 2:case"end":return t.stop()}}),t)})))()}},Sr={getProjects:function(){var e=Object(P.a)(B.a.mark((function e(t){var n,a;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe.default.get("/".concat("projects"),{params:t});case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getOwnProjects:function(){var e=Object(P.a)(B.a.mark((function e(){var t,n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe.default.get("/ownprojects");case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getProject:function(){var e=Object(P.a)(B.a.mark((function e(t){var n,a;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe.default.get("/project/".concat(t));case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),createProject:function(){var e=Object(P.a)(B.a.mark((function e(t){var n,a,r,i,s,o,c,l,d,u,h,p,j;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.projectName,a=t.atlasId,r=t.modelId,i=t.fileName,s=t.classifierId,o=t.scviHubId,c=void 0===o?null:o,l=t.model_setup_anndata_args,d=void 0===l?null:l,!c||!d){e.next=7;break}return e.next=4,fe.default.post("/file_upload/start_upload",{projectName:n,atlasId:a,modelId:r,fileName:i,classifierId:s,scviHubId:c,model_setup_anndata_args:d});case 4:return u=e.sent,h=u.data,e.abrupt("return",h);case 7:return e.next=9,fe.default.post("/file_upload/start_upload",{projectName:n,atlasId:a,modelId:r,fileName:i,classifierId:s});case 9:return p=e.sent,j=p.data,e.abrupt("return",j);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),deleteProject:function(){var e=Object(P.a)(B.a.mark((function e(t){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe.default.delete("/project/".concat(t));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getDeletedProjects:function(){var e=Object(P.a)(B.a.mark((function e(){var t,n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe.default.get("/deletedprojects");case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),restoreProject:function(){var e=Object(P.a)(B.a.mark((function e(t){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe.default.post("/deletedprojects/".concat(t,"/restore"));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getTeamProjects:function(){var e=Object(P.a)(B.a.mark((function e(t){var n,a;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe.default.get("/teams/".concat(t,"/projects"));case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Ir=Sr;function Ar(e,t,n){if(e.status!==n)throw new Error('Invalid status for request "'.concat(t,'" (').concat(e.status,")"));return e}function _r(){return{auth:localStorage.getItem("jwt")}}function Er(){return{auth:localStorage.getItem("jwt"),"content-type":"application/json"}}function Dr(e,t,n,a,r,i,s){return Rr.apply(this,arguments)}function Rr(){return Rr=Object(P.a)(B.a.mark((function e(t,n,a,r,i,s,o){var c,l;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c=B.a.mark((function e(c){var l,d,u,h;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.includes(c)){e.next=3;break}return console.log("Skipping chunk ".concat(c)),e.abrupt("return","continue");case 3:return l=(c-1)*oe.j,d=c*oe.j,u=c<t?a.slice(l,d):a.slice(l),h=fetch("".concat(oe.a,"/file_upload/get_upload_url?").concat(new URLSearchParams({partNumber:c,uploadId:r})),{method:"GET",headers:_r()}).then((function(e){return Ar(e,"get_upload_url",200)})).then((function(e){return e.json()})).then(function(){var e=Object(P.a)(B.a.mark((function e(t){var n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.presignedUrl,e.abrupt("return",fetch(n,{body:u,method:"PUT",headers:{"Content-Type":a.type}}).then((function(e){if(200!==e.status)throw new Error("Invalid status code received for chunk upload (".concat(e.status,")"));var t=e.headers.get("ETag"),n=ce(i.remaining,c);return s((function(e){return Object(w.a)(Object(w.a)({},e),{},{uploaded:e.uploaded+1,newRemaining:n})})),{etag:t,index:c}})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),o.push(h),e.prev=8,e.next=11,h;case 11:e.next=15;break;case 13:e.prev=13,e.t0=e.catch(8);case 15:case"end":return e.stop()}}),e,null,[[8,13]])})),l=1;case 2:if(!(l<t+1)||localStorage.getItem("cancelUpload_".concat(r))){e.next=10;break}return e.delegateYield(c(l),"t0",4);case 4:if("continue"!==e.t0){e.next=7;break}return e.abrupt("continue",7);case 7:l+=1,e.next=2;break;case 10:case"end":return e.stop()}}),e)}))),Rr.apply(this,arguments)}function Fr(e,t,n,a,r,i,s,o){return Tr.apply(this,arguments)}function Tr(){return Tr=Object(P.a)(B.a.mark((function e(t,n,a,r,i,s,o,c){var l,d;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("promiseArray before push:",o,Array.isArray(o)),l=B.a.mark((function e(l){var d,u,h,p;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.includes(l)){e.next=3;break}return console.log("Skipping chunk ".concat(l)),e.abrupt("return","continue");case 3:return d=(l-1)*oe.j,u=l<t?d+oe.j:a.size,h=a.slice(d,u),p=fetch("".concat(oe.a,"/file_upload/get_upload_url"),{method:"POST",headers:Object(w.a)({"Content-Type":"application/json"},_r()),body:JSON.stringify({partNumber:l,uploadId:r,keyPath:i})}).then((function(e){return console.log("Response after get_upload_url:",e),Ar(e,"get_upload_url",200),e})).then((function(e){return console.log("Response after get_upload_url after:",e),e.json()})).then(function(){var e=Object(P.a)(B.a.mark((function e(t){var n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.presignedUrl,console.log("presignedUrl:",n),e.abrupt("return",fetch(n,{body:h,method:"PUT",headers:{"Content-Type":a.type}}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).then((function(e){if(console.log("chunkResponse:",e),200!==e.status)throw new Error("Invalid status code received for chunk upload (".concat(e.status,")"));var t=e.headers.get("ETag");console.log("etag:",t);var n=s({});if(console.log("uploadId:",r,"latestUploadProgress:",n),!n)throw new Error("Upload progress not found for uploadId: ".concat(r));var a=n.remaining;console.log("remaining:",a);var i=ce(a,l);return console.log("newRemaining:",i),n=s({uploaded:n.uploaded+1,remaining:i}),{etag:t,index:l,uploadFileType:c}})).catch((function(e){console.error("Error uploading chunk, selectedPath ".concat(l,", ").concat(i,":"),e)})),o.push(p),e.prev=8,e.next=11,p;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(8),console.error("Error uploading chunk for ".concat(l,":"),e.t0);case 16:case"end":return e.stop()}}),e,null,[[8,13]])})),d=1;case 3:if(!(d<=t)||localStorage.getItem("cancelUpload_".concat(r))){e.next=11;break}return e.delegateYield(l(d),"t0",5);case 5:if("continue"!==e.t0){e.next=8;break}return e.abrupt("continue",8);case 8:d++,e.next=3;break;case 11:case"end":return e.stop()}}),e)}))),Tr.apply(this,arguments)}function Br(e,t,n,a,r,i){if(!e||!t||!n||!a||!r||!i)throw console.error("Invalid arguments for finishAtlasUploads"),new Error("Invalid arguments for finishAtlasUploads");Promise.all(t.map((function(e){return e.catch((function(e){return e}))}))).then(function(){var e=Object(P.a)(B.a.mark((function e(t){var s;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("cancelUpload_".concat(r))){e.next=3;break}return localStorage.removeItem("cancelUpload_".concat(r)),e.abrupt("return");case 3:if(!(n.remaining.length>0)){e.next=6;break}return a(r,{status:oe.d.ERROR_PROGRESS}),e.abrupt("return");case 6:s=n.uploadedParts,t.forEach((function(e){var t=e.etag,n=e.index;s.push({ETag:t,PartNumber:n})})),a(r,{uploadedParts:s,status:oe.d.UPLOAD_FINISHING}),console.log("Sending complete upload for atlas"),console.log("data to be sent:",JSON.stringify({parts:s.sort((function(e,t){return e.PartNumber-t.PartNumber})),uploadId:r,uploadFileType:i})),fetch("".concat(oe.a,"/file_upload/complete_upload_for_atlas"),{method:"POST",headers:Er(),body:JSON.stringify({parts:s.sort((function(e,t){return e.PartNumber-t.PartNumber})),uploadId:r,uploadFileType:i})}).then((function(e){console.log("Response received from the backend for uploadId, uploadFileType :",e,r,i),Ar(e,"complete_upload",200)})).then((function(){console.log("Upload complete for uploadId, for uploadFileType:",r,i),a(r,{status:oe.d.COMPLETE})})).catch((function(e){console.log("Error in completing upload for uploadId, for uploadFileType:",r,i),console.log(e),a(r,{status:oe.d.ERROR_FINISH})}));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return console.log(e)}))}function Pr(e,t,n,a,r,i){Promise.all(t.map((function(e){return e.catch((function(e){return e}))}))).then(function(){var e=Object(P.a)(B.a.mark((function e(t){var r;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!localStorage.getItem("cancelUpload_".concat(i))){e.next=3;break}return localStorage.removeItem("cancelUpload_".concat(i)),e.abrupt("return");case 3:if(!(n.remaining.length>0)){e.next=6;break}return a((function(e){return Object(w.a)(Object(w.a)({},e),{},{status:oe.d.ERROR_PROGRESS})})),e.abrupt("return");case 6:r=n.uploadedParts,t.forEach((function(e){var t=e.etag,n=e.index;r.push({ETag:t,PartNumber:n})})),a((function(e){return Object(w.a)(Object(w.a)({},e),{},{uploadedParts:r,status:oe.d.UPLOAD_FINISHING})})),fetch("".concat(oe.a,"/file_upload/complete_upload"),{method:"POST",headers:Er(),body:JSON.stringify({parts:r.sort((function(e,t){return e.PartNumber-t.PartNumber})),uploadId:i})}).then((function(e){return Ar(e,"complete_upload",200)})).then((function(){return a((function(e){return Object(w.a)(Object(w.a)({},e),{},{status:"complete"})}))})).catch((function(){a((function(e){return Object(w.a)(Object(w.a)({},e),{},{status:"error_finish"})}))}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){return console.log(e)}))}function Nr(e,t,n,a,r,i){return Lr.apply(this,arguments)}function Lr(){return(Lr=Object(P.a)(B.a.mark((function e(t,n,a,r,i,s){var o,c,l,d;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(o=Math.floor(n.size/oe.j)+1,c=[],console.log("chunk count for ",a,o),r(t,{chunks:o,keyPath:a,uploadFileType:s,fileName:n.name}),!(l=i)[t]){e.next=21;break}if(l[t].status===oe.d.ERROR_FINISH){e.next=18;break}return d=l[t].remaining,console.log("remaining is ",d),d&&0!==d.length||(d=Array.from({length:o},(function(e,t){return t+1})),r(t,{remaining:d})),r(t,{status:oe.d.UPLOAD_PROGRESS}),e.next=13,Fr(o,d,n,t,a,(function(e){return r(t,e),i[t]}),c,s);case 13:r(t,{status:oe.d.UPLOAD_FINISHING}),console.log("latestUploadProgress before finishUploads for the upload id :",t,l,l[t]),Br(o,c,l[t],r,t,s),e.next=19;break;case 18:console.error("Progress state found for uploadId:",t,"but it is in error state");case 19:e.next=22;break;case 21:console.error("No progress state found for uploadId:",t);case 22:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mr(e,t,n,a){return zr.apply(this,arguments)}function zr(){return(zr=Object(P.a)(B.a.mark((function e(t,n,a,r){var i,s,o,c;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=Math.floor(n.size/oe.j)+1,s=[],r((function(e){return Object(w.a)(Object(w.a)({},e),{},{chunks:i})})),a.status===oe.d.ERROR_FINISH){e.next=9;break}if(0===(o=a.remaining).length){for(c=1;c<i+1;c+=1)o.push(c);r((function(e){return Object(w.a)(Object(w.a)({},e),{},{remaining:o})}))}return r((function(e){return Object(w.a)(Object(w.a)({},e),{},{status:oe.d.UPLOAD_PROGRESS})})),e.next=9,Dr(i,o,n,t,a,r,s);case 9:Pr(0,s,a,r,0,t);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ur=20,Wr=5,Gr=20,qr=40,Hr=47,Qr=20,Vr=80,Yr=12,Kr=11,Jr=.85,Zr="#000000",Xr=["#42e91f","#0a43c8"],$r=["#FF0000","#9ACD32","#00BFFF","#FF8C00","#FFD700","#BA55D3","#A0522D","#8B0000","#FF69B4","#FF4500","#4B0082","#006400","#191970","#696969","#008080","#1CE6FF","#FF34FF","#FF4A46","#008941","#006FA6","#A30059","#5B656C","#00B57F","#D25B88","#0000A6","#63FFAC","#B79762","#997D87","#92896B","#365D25","#866097","#6C5E46","#5A0007","#809693","#3B5DFF","#4A3B53","#674E60","#252F99","#00CCFF","#545C46","#61615A","#BA0900","#6B7900","#00C2A0","#FFAA92","#FF90C9","#B903AA","#D16100","#DDEFFF","#000035","#7B4F4B","#A1C299","#300018","#0AA6D8","#013349","#00846F","#372101","#FFB500","#C2FFED","#A079BF","#CC0744","#C0B9B2","#C2FF99","#001E09","#00489C","#6F0062","#0CBD66","#EEC3FF","#456D75","#B77B68","#7A87A1","#788D66","#885578","#FAD09F","#FF8A9A","#D157A0","#BEC459","#456648","#0086ED","#886F4C","#34362D","#B4A8BD","#00A6AA","#452C2C","#636375","#A3C8C9","#FF913F","#938A81","#575329","#00FECF","#B05B6F","#8CD0FF","#3B9700","#04F757","#C8A1A1","#1E6E00","#7900D7","#A77500","#6367A9","#A05837","#6B002C","#772600","#D790FF","#9B9700","#549E79","#FFF69F","#201625","#72418F","#BC23FF","#99ADC0","#3A2465","#922329","#5B4534","#FDE8DC","#404E55","#0089A3","#CB7E98","#A4E804","#324E72","#6A3A4C","#83AB58","#001C1E","#D1F7CE","#004B28","#C8D0F6","#A3A489","#806C66","#222800","#BF5650","#E83000","#66796D","#DA007C","#FF1A59","#8ADBB4","#1E0200","#5B4E51","#C895C5","#320033","#FF6832","#66E1D3","#CFCDAC","#D0AC94","#7ED379","#012C58","#7A7BFF","#D68E01","#353339","#78AFA1","#FEB2C6","#75797C","#837393","#943A4D","#B5F4FF","#D2DCD5","#9556BD","#6A714A","#001325","#02525F","#0AA3F7","#E98176","#DBD5DD","#5EBCD1","#3D4F44","#7E6405","#02684E","#962B75","#8D8546","#9695C5","#E773CE","#D86A78","#3E89BE","#CA834E","#518A87","#5B113C","#55813B","#E704C4","#00005F","#A97399","#4B8160","#59738A","#FF5DA7","#F7C9BF","#643127","#513A01","#6B94AA","#51A058","#A45B02","#1D1702","#E20027","#E7AB63","#4C6001","#9C6966","#64547B","#97979E","#006A66","#391406","#F4D749","#0045D2","#006C31","#DDB6D0","#7C6571","#9FB2A4","#00D891","#15A08A","#BC65E9","#FFFFFE","#C6DC99","#203B3C","#671190","#6B3A64","#F5E1FF","#FFA0F2","#CCAA35","#374527","#8BB400","#797868","#C6005A","#3B000A","#C86240","#29607C","#402334","#7D5A44","#CCB87C","#B88183","#AA5199","#B5D6C3","#A38469","#9F94F0","#A74571","#B894A6","#71BB8C","#00B433","#789EC9","#6D80BA","#953F00","#5EFF03","#E4FFFC","#1BE177","#BCB1E5","#76912F","#003109","#0060CD","#D20096","#895563","#29201D","#5B3213","#A76F42","#89412E","#1A3A2A","#494B5A","#A88C85","#F4ABAA","#A3F3AB","#00C6C8","#EA8B66","#958A9F","#BDC9D2","#9FA064","#BE4700","#658188","#83A485","#453C23","#47675D","#3A3F00","#061203","#DFFB71","#868E7E","#98D058","#6C8F7D","#D7BFC2","#3C3E6E","#D83D66"];var ei=function(e){var t=e.path,n=e.selectedAtlas,r=e.selectedModel,i=e.setActiveStep,s=(e.demos,e.selectedDataset),o=e.setSelectedDataset,l=e.datasetIsSelected,d=e.setDatasetIsSelected,b=e.selectedClassifier,f=Object(a.useState)(),m=Object(c.a)(f,2),x=m[0],g=m[1],O=Object(a.useState)(""),v=Object(c.a)(O,2),y=v[0],C=v[1],k=Object(a.useState)([]),S=Object(c.a)(k,2),I=S[0],A=S[1],_=Object(a.useState)(!1),D=Object(c.a)(_,2),R=D[0],F=D[1],T=Object(a.useState)(!1),N=Object(c.a)(T,2),M=N[0],z=N[1],U=Object(a.useState)(!1),W=Object(c.a)(U,2),G=W[0],H=W[1],Q=Object(a.useState)(),V=Object(c.a)(Q,2),Y=V[0],Z=V[1],X=Object(a.useState)(!1),$=Object(c.a)(X,2),ee=$[0],te=$[1],ne=wr(),ae=Object(c.a)(ne,2),re=ae[0],ie=ae[1],se=Object(a.useState)(!1),oe=Object(c.a)(se,2),ce=oe[0],le=oe[1],de=Object(a.useState)(!1),ue=Object(c.a)(de,2),he=ue[0],pe=ue[1],je=Object(a.useState)(!1),be=Object(c.a)(je,2),fe=(be[0],be[1],Object(u.useHistory)()),me=Object(a.useState)([]),xe=Object(c.a)(me,2),ge=xe[0],Oe=xe[1],ve=Object(a.useState)([]),ye=Object(c.a)(ve,2),we=ye[0],Ce=ye[1],ke=Object(a.useState)(null),Se=Object(c.a)(ke,2),Ie=Se[0],Ae=Se[1];Object(a.useEffect)((function(){A(r.requirements)}),[r]),Object(a.useEffect)((function(){if(we){var e=we.filter((function(e){return e.atlas.toLowerCase()===n.name.toLowerCase()&&e.model.toLowerCase()===r.name.toLowerCase()}));Oe(e)}}),[we,n.name,r.name]),Object(a.useEffect)((function(){if(mr.getDemos().then((function(e){Ce(e)})),n.scviAtlas){var e=n.modelIds.find((function(e){return e.model===r.name.toLowerCase()}));Ae(e)}}),[]),Object(a.useEffect)((function(){var e=function(){var e=Object(P.a)(B.a.mark((function e(){var t,a,i;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!n.scviAtlas){e.next=13;break}return e.prev=1,t=n.modelIds.find((function(e){return e.model===r.name.toLowerCase()})),a=t.scviHubId,e.next=6,gr.postAnndataArgs(a);case 6:i=e.sent,Z(i.model_setup_anndata_args),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(1),console.error("Error fetching the model_setup_anndata_args. Error: ".concat(e.t0));case 13:case"end":return e.stop()}}),e,null,[[1,10]])})));return function(){return e.apply(this,arguments)}}();e()}),[n]);var _e=Object(a.useCallback)((function(e){var n=e.projectName,a=e.atlasId,r=e.modelId,i=e.file,s=e.classifierId,o=e.scviHubId,c=void 0===o?"":o,l=e.model_setup_anndata_args,d=void 0===l?null:l;Ir.createProject({projectName:n,atlasId:a,modelId:r,fileName:i.name,classifierId:s,scviHubId:c,model_setup_anndata_args:d}).then((function(e){Mr(e.uploadId,i,vr(e.uploadId),(function(t){ie((function(n){var a;return Object(w.a)(Object(w.a)({},n),{},Object(h.a)({},e._id,t(null!==(a=n[e._id])&&void 0!==a?a:vr(e.uploadId))))}))})),fe.push(t)}))}),[re]),Ee=function(e){null===e||void 0===e||e.preventDefault(),F(!1),l?function(e){var n=e.projectName,a=e.atlasId,r=e.modelId,i=e.demoDataset;Ir.createProject({projectName:n,atlasId:a,modelId:r,fileName:i.name}),fe.push(t)}({projectName:y,atlasId:n._id,modelId:r._id,demoDataset:s}):n.scviAtlas?_e({projectName:y,atlasId:Ie.scviHubId,modelId:Ie.model,file:x[0],classifierId:b._id,scviHubId:Ie.scviHubId,model_setup_anndata_args:Y}):_e({projectName:y,atlasId:n._id,modelId:r._id,file:x?x[0]:s,classifierId:b._id})};return Object(a.useEffect)((function(){if(we){var e=we.filter((function(e){return e.atlas.toLowerCase()===n.name.toLowerCase()&&e.model.toLowerCase()===r.name.toLowerCase()}));Oe(e)}else Oe([])}),[]),Object(E.jsxs)(p.a,{sx:{marginTop:"2.5em"},children:[ce&&Object(E.jsx)(Ne.a,{severity:"error",xs:{marginTop:"100px"},children:"Select or upload a dataset before continuing"}),Object(E.jsxs)(ot.a,{direction:"row",divider:Object(E.jsx)(bt.a,{className:Xa.a.divider,orientation:"vertical",flexItem:!0}),sx:ce?{marginTop:"1em"}:{},children:[Object(E.jsx)(p.a,{width:"60%",mr:"3%",children:Object(E.jsxs)(ot.a,{direction:"column",children:[Object(E.jsx)(j.a,{variant:"h5",fontWeight:"bold",pb:"1em",children:"Your Choice"}),Object(E.jsxs)(ot.a,{direction:"row",spacing:2,sx:{paddingBottom:"1.5em"},children:[Object(E.jsx)(L,{width:"50%",children:Object(E.jsxs)(ot.a,{direction:"column",height:180,children:[Object(E.jsx)(j.a,{variant:"caption",fontWeight:"bold",children:"Atlas"}),Object(E.jsx)(j.a,{gutterBottom:!0,variant:"h6",fontWeight:"bold",children:n.name.includes("atlas")?n.name.replace("atlas",""):n.name}),Object(E.jsx)(j.a,{gutterBottom:!0,variant:"caption",sx:{overflow:"-moz-hidden-unscrollable",whiteSpace:"nowrap",textOverflow:"ellipsis",maxWidth:"200px"},children:"Modalities:  ".concat(n.modalities)}),Object(E.jsx)(j.a,{gutterBottom:!0,variant:"caption",children:"Cells in Reference:  ".concat(n.numberOfCells)}),Object(E.jsx)(j.a,{gutterBottom:!0,variant:"caption",children:"Species: ".concat(n.species)}),Object(E.jsx)(gt.a,{size:"small",variant:"outlined",onClick:function(){return z(!0)},sx:{borderRadius:100,width:"55%",ml:"50%",mb:"-1em",mt:"0.5em",textTransform:"none"},children:"Learn more"}),Object(E.jsx)(K,{isOpen:M,setOpen:z,children:Object(E.jsx)(sa.a,{children:Object(E.jsx)(Da,{id:n._id,onClick:function(){return fe.push("/references/atlases/".concat(n._id,"/visualization"))}})})})]})}),Object(E.jsx)(L,{width:"50%",children:Object(E.jsxs)(ot.a,{direction:"column",height:180,children:[Object(E.jsx)(j.a,{variant:"caption",fontWeight:"bold",children:"Model"}),Object(E.jsx)(j.a,{gutterBottom:!0,variant:"h6",fontWeight:"bold",children:r.name}),Object(E.jsx)(j.a,{gutterBottom:!0,variant:"caption",sx:{display:"block",textOverflow:"ellipsis",wordWrap:"break-word",overflow:"hidden",maxHeight:"5.7em",lineHeight:"1.9em"},children:r.description}),Object(E.jsx)(gt.a,{size:"small",variant:"outlined",onClick:function(){return H(!0)},sx:{borderRadius:100,width:"55%",ml:"50%",mb:"-1em",mt:"0.5em",textTransform:"none"},children:"Learn more"}),Object(E.jsx)(K,{isOpen:G,setOpen:H,children:Object(E.jsx)(sa.a,{children:Object(E.jsx)(ha,{id:r._id})})})]})}),b&&"totalVI"!==r?Object(E.jsx)(L,{width:"50%",children:Object(E.jsxs)(ot.a,{direction:"column",height:180,children:[Object(E.jsx)(j.a,{variant:"caption",fontWeight:"bold",children:"Classifier"}),Object(E.jsx)(j.a,{gutterBottom:!0,variant:"h6",fontWeight:"bold",children:b.name}),Object(E.jsx)(j.a,{gutterBottom:!0,variant:"caption",sx:{display:"block",textOverflow:"ellipsis",wordWrap:"break-word",overflow:"hidden",maxHeight:"5.7em",lineHeight:"1.9em"},children:b.description}),Object(E.jsx)(gt.a,{size:"small",variant:"outlined",onClick:function(){return te(!0)},sx:{borderRadius:100,width:"55%",ml:"50%",mb:"-1em",mt:"0.5em",textTransform:"none"},children:"Learn more"}),Object(E.jsx)(K,{isOpen:ee,setOpen:te,children:Object(E.jsx)(sa.a,{children:Object(E.jsx)(tr,{id:b._id})})})]})}):null]}),Object(E.jsxs)(ot.a,{children:[Object(E.jsx)(j.a,{variant:"h5",fontWeight:"bold",pb:"1em",children:"Consequent Requirements"}),Object(E.jsx)(L,{children:Object(E.jsx)(p.a,{sx:{flexDirection:"column",minHeight:"6em"},children:I?I.map((function(e,t){return Object(E.jsxs)(p.a,{sx:{display:"flex"},children:[Object(E.jsx)(j.a,{variant:"body2",sx:{pr:1,fontWeight:"bold"},children:++t}),Object(E.jsx)(j.a,{variant:"body2",children:e})]},e)})):Object(E.jsx)(j.a,{variant:"body2",gutterBottom:!0,children:"There are no consequent requirements!"})})})]})]})}),Object(E.jsxs)(p.a,{width:"40%",ml:"3%",children:[Object(E.jsx)(K,{isOpen:R,setOpen:F,children:Object(E.jsxs)(sa.a,{children:[Object(E.jsx)(J,{children:"Give your mapping a name "}),Object(E.jsxs)("form",{onSubmit:Ee,children:[" ",Object(E.jsx)(Ge.a,{variant:"standard",placeholder:"Enter name here",fullWidth:!0,onChange:function(e){return C(e.target.value)},required:!0,label:"Mapping name"}),Object(E.jsxs)(ot.a,{direction:"row",justifyContent:"space-between",mt:"1.5em",children:[Object(E.jsx)(q.default,{type:"tertiary",onClick:function(){F(!1)},children:"Close"}),Object(E.jsx)(q.default,{type:"primary",onClick:Ee,disabled:!y,children:"Submit"})]})]})]})}),Object(E.jsxs)(ot.a,{className:"flexContainer",direction:"column",pb:"1em",children:[Object(E.jsx)(j.a,{variant:"h5",fontWeight:"bold",pb:"1em",children:"Select Datasets for Upload"}),Object(E.jsx)(br,{height:"250px",handleFileUpload:function(e){g(e)},validator:function(e){return"h5ad"!==e.name.split(".").pop()?(pe(!0),{code:"Wrong file format",message:"File must be in h5ad format"}):(pe(!1),null)},rejectionHandler:function(){return g()}}),he&&Object(E.jsx)(Ne.a,{severity:"error",sx:{marginTop:"1em"},children:"File must be in h5ad format."}),x&&x[0]&&Object(E.jsxs)(Ne.a,{severity:"success",sx:{marginTop:"1em"},children:["Selected file:"," ",x[0].name]})]}),Object(E.jsxs)(ot.a,{maxHeight:"50%",children:[Object(E.jsx)(j.a,{variant:"h5",fontWeight:"bold",mb:"0.5em",children:"Or Select Demo Dataset"}),ge.length>0?ge.map((function(e){return Object(E.jsx)(Ua,{width:"100%",height:"50px",data:{name:"".concat(e.name.split("_")[0]," + ").concat(e.name.split("_")[1]),text:"Atlas: ".concat(e.atlas," | Model: ").concat(e.model),atlas:e.atlas,model:e.model,isDemo:!0},isLoading:!1,handleOnClick:function(){return function(e){s&&s._id===e._id?(d(!1),o(null)):(d(!0),o(e))}(e)},selected:!x&&l&&s._id===e._id})})):Object(E.jsx)(Ne.a,{severity:"info",children:" No existing datasets available. "})]})]})]}),Object(E.jsxs)(ot.a,{direction:"row",justifyContent:"space-between",sx:{marginTop:"2em",marginBottom:"3em"},children:[Object(E.jsxs)(q.default,{type:"tertiary",onClick:function(){return i(0)},children:[Object(E.jsx)(or.a,{sx:{marginRight:"2px"}}),"Back"]}),Object(E.jsxs)(ot.a,{direction:"row",spacing:3,alignItems:"center",children:[Object(E.jsx)(j.a,{variant:"h6",fontWeight:"bold"}),Object(E.jsx)(Gt.a,{title:x||s?"":"You haven't selected or uploaded a dataset!",placement:"top",children:Object(E.jsx)(p.a,{onClick:x||s?function(){}:function(){return le(!0)},children:Object(E.jsx)("span",{children:Object(E.jsxs)(q.default,{type:"primary",disabled:!x&&!s,onClick:function(){F(!0)},children:["Create Project",Object(E.jsx)(lr.a,{sx:{marginLeft:"4px"}})]})})})})]})]})]})},ti=[{_id:1,owner:"mock",uploadId:"12345-abcde",atlasId:"626ea3311d7d1a27de465b63",fileName:"test1.h5ad",location:"./testData/test_file1.csv",fileSize:1e7,modelId:"626ea2361d7d1a27de465b5e",name:"Demo project 01",resultSize:"10000",status:"DONE",uploadDate:"2022-04-30T106:00:00.000Z"},{_id:2,owner:"mock",uploadId:"abcde-12345",atlasId:"626ea3311d7d1a27de465b64",fileName:"test2.h5ad",location:"./testData/test_file2.csv",fileSize:1e7,modelId:"626ea2361d7d1a27de465b60",name:"Another sample project",resultSize:"10000",status:"DONE",uploadDate:"2022-04-30T106:00:00.000Z"},{_id:3,owner:"mock",uploadId:"abcde-12345",atlasId:"626ea3311d7d1a27de465b64",fileName:"test3.h5ad",location:"./testData/test_file3.csv",fileSize:1e7,modelId:"626ea2361d7d1a27de465b60",name:"Test project 03",resultSize:"10000",status:"PROCESSING_PENDING",uploadDate:"2022-04-30T106:00:00.000Z"},{_id:4,owner:"mock",uploadId:"abcde-12345",atlasId:"626ea3311d7d1a27de465b63",fileName:"test3.h5ad",location:"./testData/test_file4.csv",fileSize:1e7,modelId:"626ea2361d7d1a27de465b5f",name:"Sample project",resultSize:"10000",status:"ABORTED",uploadDate:"2022-04-30T106:00:00.000Z"}],ni=[{_id:1,title:"test team 01"},{_id:2,title:"test team 02"}],ai=[{_id:"626ea3311d7d1a27de465b63",name:"Pancreas",previewPictureURL:"https://images-na.ssl-images-amazon.com/images/I/81+6yFP1sQL.jpg",modalities:["No"],numberOfCells:10293,species:["Human"],compatibleModels:["scVI","scanVI"]},{_id:"626ea3311d7d1a27de465b64",name:"PBMC",previewPictureURL:"https://images-na.ssl-images-amazon.com/images/I/81+6yFP1sQL.jpg",modalities:["CITE-seq: CD3_TotalSeqB, CD4_TotalSeqB, CD8a_TotalSeqB, CD14_TotalSeqB, CD15_TotalSeqB, CD16_TotalSeqB, CD56_TotalSeqB, CD19_TotalSeqB, CD25_TotalSeqB, CD45RA_TotalSeqB, CD45RO_TotalSeqB, PD-1_TotalSeqB, TIGIT_TotalSeqB, CD127_TotalSeqB"],numberOfCells:10849,species:["Human"],compatibleModels:["totalVI"]}],ri=[{_id:"626ea2361d7d1a27de465b5e",name:"scANVI",description:"The scANVI model lorem impsum blablabla lorem impsum blablabla lorem impsum blablabla lorem impsum blablabla lorem impsum blablabla lorem impsum blablabla"},{_id:"626ea2361d7d1a27de465b5f",name:"scVI",description:"The scVI model lorem impsum blablabla lorem impsum blablabla lorem impsum blablabla lorem impsum blablabla lorem impsum blablabla lorem impsum blablabla"},{_id:"626ea2361d7d1a27de465b60",name:"totalVI",description:"The totalVI model lorem impsum blablabla lorem impsum blablabla lorem impsum blablabla lorem impsum blablabla lorem impsum blablabla lorem impsum blablabla"}],ii=[{_id:1,name:"Hao and Hao et al, bioRvix 2020",status:"DONE"},{_id:2,name:"Keller, Lennart et al, FastGenomics.ai 2022",status:"IN PROGRESS"},{_id:3,name:"H\xfcbsch und H\xfcbner et al, ToTheMoon.crypto 2021",status:"UPLOAD FAILED"},{_id:4,name:"Xu Fan Lu et al, BINGO 2022",status:"DONE"},{_id:5,name:"Christopher, Evan et al, TUM.UNICORN 2023",status:"IN PROGRESS"}],si={getProjects:function(){var e=Object(P.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ti);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getProject:function(){var e=Object(P.a)(B.a.mark((function e(t){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ti.find((function(e){return e._id===Number(t)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),addProjectToTeam:function(){var e=Object(P.a)(B.a.mark((function e(t,n){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new Error("400");case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),getOwnTeams:function(){var e=Object(P.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ni);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getAtlases:function(){var e=Object(P.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ai);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getAtlas:function(){var e=Object(P.a)(B.a.mark((function e(t){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ai.find((function(e){return e._id===Number(t)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getModel:function(){var e=Object(P.a)(B.a.mark((function e(t){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ri.find((function(e){return e._id===Number(t)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getModels:function(){var e=Object(P.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ri);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getDataset:function(){var e=Object(P.a)(B.a.mark((function e(t){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ri.find((function(e){return e._id===Number(t)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getDatasets:function(){var e=Object(P.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",ii);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),deleteProject:function(){var e=Object(P.a)(B.a.mark((function e(t){var n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ti.findIndex((function(e){return e._id===Number(t)})),e.abrupt("return",n>-1&&ti.splice(n,1));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},oi=si,ci={getModels:function(){var e=Object(P.a)(B.a.mark((function e(){var t,n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe.default.get("/".concat("models"));case 2:return t=e.sent,n=t.data,e.abrupt("return",(null===n||void 0===n?void 0:n.length)?n:oi.getModels());case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getModel:function(){var e=Object(P.a)(B.a.mark((function e(t){var n,a;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe.default.get("/model/".concat(t));case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},li=ci,di={getAtlases:function(){var e=Object(P.a)(B.a.mark((function e(){var t,n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe.default.get("/".concat("scvi-atlases"));case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},ui=di;var hi=function(e){var t=e.path,n=Object(u.useLocation)().search,r=Object(u.useHistory)(),i=new URLSearchParams(n),s=new URLSearchParams(i),o=Object.fromEntries(s),l=o.atlas,d=o.model,h=Object(a.useState)(""),j=Object(c.a)(h,2),b=j[0],f=j[1],m=Object(a.useState)(""),x=Object(c.a)(m,2),g=x[0],O=x[1],v=Object(a.useState)(0),y=Object(c.a)(v,2),w=y[0],C=y[1],k=Object(a.useState)(null),S=Object(c.a)(k,2),I=S[0],A=S[1],_=Object(a.useState)(!1),D=Object(c.a)(_,2),R=D[0],F=D[1],T=Object(a.useState)(null),B=Object(c.a)(T,2),P=B[0],N=B[1],L=Object(a.useState)(null),M=Object(c.a)(L,2),z=M[0],U=M[1],W=["Pick Atlas and Model","Choose File and Project details"],G=Object(a.useState)(null),q=Object(c.a)(G,2),H=q[0],Q=q[1],V=Object(a.useState)(null),Y=Object(c.a)(V,2),K=Y[0],J=Y[1],Z=Object(a.useState)(null),X=Object(c.a)(Z,2),$=X[0],ee=X[1],te=Object(a.useState)(""),ne=Object(c.a)(te,2),ae=ne[0],re=ne[1],ie=function(e,t){var n=new URLSearchParams(r.location.search);t?n.set(e,t):n.delete(e),r.replace({pathname:r.location.pathname,search:n.toString()})},se=function(e){C(e),1===e&&b&&g&&((null===b||void 0===b?void 0:b.scviAtlas)?(ie("atlas",b.name),ie("model",g._id)):(ie("atlas",b._id),ie("model",g._id),ie("classifier",ae._id)))};return Object(a.useEffect)((function(){mr.getDemos().then((function(e){N(e)}))}),[]),Object(a.useEffect)((function(){Oa.getAtlases().then((function(e){e.map((function(e){var t=e.numberOfCells,n="";return t>1e9?(t=Math.round(t/1e9),n="B"):t>1e6?(t=Math.round(t/1e6),n="M"):t>1e3&&(t=Math.round(t/1e3),n="K"),e.numberOfCells=t+n,"string"!==typeof e.modalities&&(0==e.modalities.length?e.modalities="None":1==e.modalities.length?e.modalities=e.modalities[0]:e.modalities="".concat(e.modalities[0],", ...")),e._id===l&&f(e),e})),Q(e)})),li.getModels().then((function(e){e.map((function(e){e._id===d&&O(e)})),J(e)})),ui.getAtlases().then((function(e){U(e)})),er.getClassifiers().then((function(e){ee(e)}))}),[]),Object(a.useEffect)((function(){l&&b&&d&&g?se(1):H&&K&&$?(r.push({pathname:r.location.pathname,search:""}),f(""),O(""),re("")):H&&K&&(r.push({pathname:r.location.pathname,search:""}),f(""),O(""))}),[H,K,$]),Object(E.jsxs)(sa.a,{children:[Object(E.jsx)(p.a,{height:"100%",width:"500px",margin:"auto",sx:{marginTop:"1%",marginBottom:"1%"},children:Object(E.jsx)(oa.a,{activeStep:w,children:W.map((function(e,t){return Object(E.jsx)(ca.a,{index:t,children:Object(E.jsx)(la.a,{color:"inherit",onClick:function(){return se(t)},children:e})})}))})}),0===w?Object(E.jsx)(ir,{path:t,selectedAtlas:b,selectedModel:g,selectedClassifier:ae,steps:W,setSelectedAtlas:function(e){f(e),O(""),re("")},setSelectedModel:function(e){O(e);var t=b.batch_key,n=b.cell_type_key;e.requirements=["Ensure your data is in h5ad format","Batch/Study information is mandatory and should be labeled as \u201c".concat(t,"\u201d")],"scVI"===e.name?(e.requirements.push("Cell type information should be labeled as \u201c".concat(n,"\u201d")),e.requirements.push("For unlabeled cells, the value for \u201c".concat(n,"\u201d should be \u201cUnknown\u201d"))):"scANVI"!==e.name&&"scPoli"!==e.name||e.requirements.push("Cell type information should be labeled as \u201c".concat(n,"\u201d")),re("")},setSelectedClassifier:re,setActiveStep:se,compatibleModels:b?b.compatibleModels:[],compatibleClassifiers:g?g.compatibleClassifiers:[],atlases:H,scviHubAtlases:z,models:K,demos:P,classifiers:$,selectedDataset:I,setSelectedDataset:A,datasetIsSelected:R,setDatasetIsSelected:F}):Object(E.jsx)(ei,{path:t,selectedAtlas:b,selectedModel:g,selectedClassifier:ae,setActiveStep:se,demos:P,selectedDataset:I,setSelectedDataset:A,datasetIsSelected:R,setDatasetIsSelected:F})]})},pi=n(89),ji=n(506),bi=n(507),fi=n(916),mi=Object(fi.a)("input")((function(e){return{border:"none",outline:"none",fontSize:20,width:"100%",color:e.theme.palette.primary.main}})),xi=function(e){var t=e.onClick;return Object(E.jsxs)(pi.a,{onClick:t,disableRipple:!0,sx:{p:"12px",":hover":{color:"primary.light"}},children:[Object(E.jsx)(ji.a,{}),Object(E.jsx)(j.a,{fontSize:20,children:"Filter"})]})},gi=function(e){var t=e.filterComponent,n=e.handleSearch,r=e.value,i=e.padding,s=void 0===i?"10px":i,o=e.visible,l=void 0===o||o,d=e.noFilterComponent,u=void 0!==d&&d,h=Object(a.useState)(!1),j=Object(c.a)(h,2),b=j[0],f=j[1],m=Object(a.useState)(!1),x=Object(c.a)(m,2),g=x[0],O=x[1],v=Object(a.useRef)();return Object(a.useEffect)((function(){}),[]),Object(E.jsxs)(ot.a,{direction:"row",justifyContent:"space-between",sx:{position:"relative",p:s,border:"2px solid ".concat(b?_.a.primary[400]:_.a.primary[700]),borderRadius:"40px",display:l?"flex":"none",height:"58px"},children:[Object(E.jsxs)(ot.a,{direction:"row",alignItems:"center",gap:"5px",sx:{marginLeft:"20px",width:"100%",paddingRight:"5px"},children:[Object(E.jsx)(bi.a,{sx:{color:b?"primary.light":"primary.main"}}),Object(E.jsx)(mi,{onChange:function(e){return n(e.target.value)},placeholder:"Search",onMouseEnter:function(){return f(!0)},onMouseLeave:function(){return f(!1)},value:r})]}),u?null:Object(E.jsx)(ot.a,{direction:"row",sx:{marginRight:"20px"},children:Object(E.jsx)(xi,{onClick:function(){return O(!g)}})}),u||!g?null:Object(E.jsx)(p.a,{ref:v,sx:{position:"absolute",zIndex:"20",top:"55px",right:"40px"},children:t})]})},Oi=n(458),vi=n(446),yi=n(441),wi=n(560),Ci=n.n(wi),ki=n(332),Si=n.n(ki),Ii=n(561),Ai=n.n(Ii);var _i=n(562),Ei=n.n(_i),Di=n(508),Ri=n(509),Fi=n(510),Ti={postCellxgeneService:function(){var e=Object(P.a)(B.a.mark((function e(t){var n,a;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fe.default.post("/".concat("cellxgene"),{location:t});case 3:return n=e.sent,a=n.data,e.abrupt("return",a);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},Bi=Ti,Pi=n(331),Ni=n.n(Pi);var Li=function(e){var t=e.project,n=e.atlas,r=e.model,i=Object(a.useState)(!1),s=Object(c.a)(i,2),o=s[0],l=s[1],d=Object(a.useState)(!1),u=Object(c.a)(d,2),h=u[0],p=u[1];return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(j.a,{children:["Atlas: ".concat(null===n||void 0===n?void 0:n.name),(null===n||void 0===n?void 0:n._id)&&Object(E.jsx)(C.a,{size:"small",onClick:function(){return l(!0)},children:Object(E.jsx)(Ni.a,{fontSize:"small"})})]}),Object(E.jsxs)(j.a,{children:["Model: ".concat(null===r||void 0===r?void 0:r.name),(null===r||void 0===r?void 0:r._id)&&Object(E.jsx)(C.a,{size:"small",onClick:function(){return p(!0)},children:Object(E.jsx)(Ni.a,{fontSize:"small"})})]}),Object(E.jsx)(j.a,{children:"Dataset: ".concat(null===t||void 0===t?void 0:t.fileName)}),(null===n||void 0===n?void 0:n._id)&&Object(E.jsx)(Fa,{id:n._id,open:o,setOpen:l}),(null===r||void 0===r?void 0:r._id)&&Object(E.jsx)(ja,{id:r._id,open:h,setOpen:p})]})};function Mi(){return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(p.a,{sx:{pr:2,flexGrow:1},children:Object(E.jsx)(Oi.a,{})}),Object(E.jsx)(j.a,{variant:"caption",noWrap:!0,sx:{pr:2},children:"Processing by scArches..."})]})}function zi(){return Object(E.jsx)(j.a,{variant:"caption",children:"Upload failed or canceled"})}function Ui(e){var t=e.project,n=e.atlas,r=e.model,i=e.userTeams,s=e.handleDelete,o=e.deleted,l=e.loggedIn,d=void 0===l||l,b=Object(u.useHistory)(),f=wr(),m=Object(c.a)(f,2),x=m[0],g=m[1],O=x[t._id],v=function(){var e=Object(P.a)(B.a.mark((function e(n){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:Sn.addProject(n,t._id);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),y=t.status===oe.f.DONE||t.status===oe.f.DOWNLOAD_READY?"lightGreen":t.status===oe.f.ABORTED||!O&&t.status===oe.f.UPLOAD_PENDING||t.status===oe.f.PROCESSING_FAILED||(null===O||void 0===O?void 0:O.status)===oe.d.CANCELING||O&&Object(oe.m)(O.status)?"red":"orange",k=Object(a.useState)([]),S=Object(c.a)(k,2),I=S[0],A=S[1],_=Object(a.useState)(!1),D=Object(c.a)(_,2),R=D[0],F=D[1],T=Object(a.useState)(""),N=Object(c.a)(T,2),M=N[0],z=N[1],U=Object(a.useState)(!1),W=Object(c.a)(U,2),G=W[0],H=W[1],Q=Object(a.useState)(!1),V=Object(c.a)(Q,2),Y=V[0],Z=V[1],X=Object(a.useState)(!1),$=Object(c.a)(X,2),ee=$[0],te=$[1],ne=Object(a.useState)(null),ae=Object(c.a)(ne,2),re=ae[0],ie=ae[1];Object(a.useEffect)((function(){var e=function(){var e=Object(P.a)(B.a.mark((function e(){var n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=[],e.next=3,Promise.all(i.map(function(){var e=Object(P.a)(B.a.mark((function e(a){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ir.getTeamProjects(a._id);case 2:e.sent.filter((function(e){return e._id===t._id})).length>0&&n.push(a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 3:A(n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[i,t._id]);var se,ce=function(){var e=Object(P.a)(B.a.mark((function e(n){var a,r,i,s;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return te(!0),ie(null),e.prev=2,e.next=5,fe.default.post("/file_download/results",{id:n});case 5:return a=e.sent,e.next=8,a.data;case 8:r=e.sent,i=r.presignedUrl,(s=document.createElement("a")).href=i,s.download="".concat(t.name,".h5ad"),document.body.appendChild(s),s.click(),document.body.removeChild(s),e.next=22;break;case 18:e.prev=18,e.t0=e.catch(2),console.error("Error fetching presigned URL:",e.t0),ie("Failed to download file.");case 22:return e.prev=22,te(!1),e.finish(22);case 25:case"end":return e.stop()}}),e,null,[[2,18,22,25]])})));return function(t){return e.apply(this,arguments)}}(),le=Object(a.useState)({status:null}),de=Object(c.a)(le,2),ue=de[0],he=de[1],pe=Object(a.useState)({open:!1,type:"error"}),je=Object(c.a)(pe,2),be=je[0],me=je[1],xe=function(){var e=Object(P.a)(B.a.mark((function e(n){var a,r;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return me({open:!0,type:"success"}),he(Object(w.a)(Object(w.a)({},ue),{},{status:"launching"})),e.next=4,Bi.postCellxgeneService(n);case 4:if(a=e.sent){e.next=9;break}return me({open:!0,type:"error",message:"Error occurred!"}),he(Object(w.a)(Object(w.a)({},ue),{},{status:null})),e.abrupt("return");case 9:he(Object(w.a)(Object(w.a)({},a),{},{status:"ready"})),me({open:!0,type:"success",message:"Cellxgene instance launched. Timeout set to 1 hr."}),(r=JSON.parse(localStorage.getItem("cached_projects")))[t._id].cellxgene=a,localStorage.setItem("cached_projects",JSON.stringify(r));case 14:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){var e,n=null===(e=JSON.parse(localStorage.getItem("cached_projects"))[t._id])||void 0===e?void 0:e.cellxgene;n&&n.timeout>Date.now()&&he(Object(w.a)(Object(w.a)({},n),{},{status:"ready"}))}),[t]),Object(E.jsxs)(p.a,{sx:{mb:2},children:[Object(E.jsxs)(L,{padding:0,children:[Object(E.jsx)(vi.a,{disableTouchRipple:!0,sx:{p:2,borderRadius:"inherit"},children:Object(E.jsxs)(Re.a,{container:!0,direction:"row",justifyContent:"space-between",sx:{width:"100%",justifyContent:"space-between",alignItems:"center"},children:[Object(E.jsxs)(Re.a,{item:!0,xs:12,md:8,container:!0,direction:"row",alignItems:"center",onClick:function(){H(!G)},children:[Object(E.jsxs)(Re.a,{container:!0,item:!0,xs:4,alignItems:"center",children:[Object(E.jsx)(p.a,{sx:{flexDirection:"row",alignItems:"center"},children:G?Object(E.jsx)(Di.a,{sx:{fontSize:30,transform:"rotate(180deg)"}}):Object(E.jsx)(Ri.a,{sx:{fontSize:30,transform:"rotate(-90deg)"}})}),Object(E.jsx)(Ci.a,{sx:{fontSize:30,color:y,mr:1}}),Object(E.jsx)(j.a,{noWrap:!0,children:t.name})]}),Object(E.jsxs)(Re.a,{item:!0,xs:8,children:[O?Object(E.jsxs)(p.a,{sx:{flexGrow:1,display:"flex",alignItems:"center"},children:[Object(oe.n)(O.status)&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(p.a,{sx:{pr:2,flexGrow:1},children:Object(E.jsx)(Oi.a,{variant:"determinate",value:(se=O,0===se.chunks?0:se.uploaded/se.chunks*100)})}),Object(E.jsx)(j.a,{variant:"caption",children:"Uploading..."}),Object(E.jsx)(C.a,{onClick:function(e){e.stopPropagation(),g((function(e){var n;return Object(w.a)(Object(w.a)({},e),{},Object(h.a)({},t._id,Object(w.a)(Object(w.a)({},null!==(n=e[t._id])&&void 0!==n?n:vr(t.uploadId)),{},{status:oe.d.CANCELING})))})),localStorage.setItem("cancelUpload_".concat(t.uploadId),"1")},children:Object(E.jsx)(Ya.a,{color:"error"})})]}),Object(oe.m)(O.status)&&Object(E.jsx)(zi,{}),O.status===oe.d.CANCELING&&Object(E.jsx)(zi,{}),O.status===oe.d.COMPLETE&&t.status!==oe.f.DONE&&t.status!==oe.f.DOWNLOAD_READY&&t.status!==oe.f.ABORTED&&t.status!==oe.f.PROCESSING_FAILED&&Object(E.jsx)(Mi,{}),(t.status===oe.f.ABORTED||t.status===oe.f.PROCESSING_FAILED)&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(j.a,{variant:"caption",color:"error",children:"Processing failed"}),t.errorMessage&&Object(E.jsxs)(j.a,{variant:"caption",color:"error",sx:{ml:2},children:["(",t.errorMessage,")"]})]})]}):null,O?null:Object(E.jsxs)(p.a,{sx:{flexGrow:1,display:"flex",alignItems:"center"},children:[t.status===oe.f.UPLOAD_PENDING&&Object(E.jsx)(zi,{}),t.status===oe.f.PROCESSING_PENDING&&Object(E.jsx)(Mi,{}),(t.status===oe.f.ABORTED||t.status===oe.f.PROCESSING_FAILED)&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(j.a,{variant:"caption",color:"error",children:"Processing failed"}),t.errorMessage&&Object(E.jsxs)(j.a,{variant:"caption",color:"error",sx:{ml:2},children:["(",t.errorMessage,")"]})]})]})]})]}),Object(E.jsx)(Re.a,{container:!0,item:!0,md:4,justifyContent:"flex-end",children:Object(E.jsx)(p.a,{sx:{p:.1,bgcolor:"background.paper",borderRadius:3,width:"flex",display:"flex",alignItems:"center"},children:!o&&Object(E.jsxs)(E.Fragment,{children:[d&&((null===I||void 0===I?void 0:I.title)?Object(E.jsx)(q.default,{type:"tertiary",sx:{mr:1},onClick:function(){return b.push("/sequencer/teams/".concat(I._id||I.id))},children:Object(E.jsx)(j.a,{children:I.title})}):Object(E.jsx)(gt.a,{variant:"outlined",sx:{borderRadius:100,mr:1},style:{textTransform:"none"},onClick:function(){return F(!0)},children:Object(E.jsx)(j.a,{children:"Add To Team"})})),(!ue.status||Date.now()>ue.timeout&&"launching"!==(null===ue||void 0===ue?void 0:ue.status))&&Object(E.jsx)(q.default,{type:"primary",onClick:function(){return xe(t.location)},disabled:"DONE"!==t.status&&"DOWNLOAD_READY"!==t.status,children:Object(E.jsx)(j.a,{children:"Launch"})}),"launching"===ue.status&&Object(E.jsx)(q.default,{type:"primary",disabled:"ready"!==ue.status,style:{display:"flex",alignItems:"center"},children:Object(E.jsxs)(j.a,{children:["Launching",Object(E.jsx)(Tn.a,{style:{width:"20px",height:"20px",marginLeft:"10px"}})]})}),"ready"===ue.status&&Date.now()<=ue.timeout&&Object(E.jsx)(q.default,{type:"primary",disabled:"ready"!==ue.status,children:Object(E.jsx)(j.a,{children:Object(E.jsx)(Be.a,{target:"_blank",style:{textDecoration:"none",color:"white"},rel:"noopener noreferrer",href:ue.url,children:"View Results"})})}),Object(E.jsx)(Pe.a,{open:be.open,autoHideDuration:1e4,onClose:function(){return me(Object(w.a)(Object(w.a)({},be),{},{open:!1}))},anchorOrigin:{vertical:"bottom",horizontal:"left"},children:Object(E.jsx)(Ne.a,{onClose:function(){return me(Object(w.a)(Object(w.a)({},be),{},{open:!1}))},severity:be.type,sx:{width:"100%"},children:be.message?be.message:"success"===be.type?"Launching a CellxGene instance. This may take a while...":"Error occurred!"})}),Object(E.jsxs)(p.a,{sx:{paddingLeft:"10px"},children:[Object(E.jsx)(C.a,{onClick:function(){return ce(t._id)},disabled:"DOWNLOAD_READY"!==t.status||ee,children:ee?Object(E.jsx)(Tn.a,{size:24}):Object(E.jsx)(Si.a,{})}),re&&Object(E.jsx)(j.a,{color:"error",children:re}),Object(E.jsx)(C.a,{onClick:function(){return s()},children:o?Object(E.jsx)(Ai.a,{}):Object(E.jsx)(Ei.a,{color:"error"})})]})]})})})]})}),Object(E.jsxs)(yi.a,{in:G,timeout:"auto",children:[Object(E.jsx)(bt.a,{variant:"middle"}),Object(E.jsx)(p.a,{sx:{pl:11.5,pb:1,pt:1},children:Object(E.jsx)(Li,{project:t,atlas:n,model:r})})]})]}),Object(E.jsxs)(K,{isOpen:R,setOpen:F,sx:{position:"fixed",top:"20%"},children:[Object(E.jsx)(J,{children:Object(E.jsxs)(ot.a,{direction:"row",alignItems:"center",children:["Select a Team",Object(E.jsx)(C.a,{size:"small",onClick:function(){return Z(!0)},children:Object(E.jsx)(Fi.a,{fontSize:"small"})})]})}),Object(E.jsx)(K,{isOpen:Y,setOpen:Z,sx:{position:"fixed",top:"20%"},children:Object(E.jsxs)(p.a,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between",ml:3,mr:3},children:[Object(E.jsx)(p.a,{sx:{display:"flex",flexDirection:"row",width:"100%",justifyContent:"center"},children:Object(E.jsx)(J,{children:"Why Adding to a Team?"})}),Object(E.jsx)(p.a,{children:Object(E.jsx)(j.a,{sx:{width:"100%",maxWidth:"800px"},children:"By Adding to a team, the visibility of a project will be inherited from the visibility of the team. If the assigned team is public, all teams will have access to the project. If the assigned team is private, the project will be accessible only to this team."})})]})}),0===(null===i||void 0===i?void 0:i.length)&&Object(E.jsx)(Ne.a,{severity:"info",children:"You have no existing teams. Please add your teams in community."}),Object(E.jsxs)(p.a,{children:[i.map((function(e){var t=I.filter((function(t){return t._id===e._id})).length>0;return Object(E.jsx)(Ua,{data:{name:e.name,title:e.title,type:"team",visibility:e.visibility.toLowerCase(),added:t},selected:(null===e||void 0===e?void 0:e._id)===M||(null===e||void 0===e?void 0:e.id)===M,handleOnClick:function(){return z((null===e||void 0===e?void 0:e._id)||(null===e||void 0===e?void 0:e.id))},isLoading:!1},e._id)})),Object(E.jsxs)(p.a,{sx:{display:"flex",justifyContent:"space-between",pt:4},children:[Object(E.jsx)(q.default,{type:"tertiary",onClick:function(){z(""),F(!1)},children:"Close"}),Object(E.jsx)(q.default,{type:"primary",onClick:Object(P.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(M),F(!1),z(""),e.next=5,Sn.getTeam(M).then((function(e){return A([].concat(Object(un.a)(I),[e]))}));case 5:case"end":return e.stop()}}),e)}))),disabled:""===M,children:"Confirm"})]})]})]})]})}var Wi=Object(Et.b)({palette:{primary:{main:"#000000"},secondary:{main:"#5676E4"}}});var Gi=function(e){var t=e.style,n=e.loggedIn,r=Object(a.useState)(null),i=Object(c.a)(r,2),s=i[0],o=i[1],d=Object(a.useState)([]),h=Object(c.a)(d,2),b=h[0],f=h[1],m=Object(a.useState)([]),x=Object(c.a)(m,2),g=x[0],O=x[1],v=Object(a.useState)([]),y=Object(c.a)(v,2),C=y[0],k=y[1],S=Object(a.useState)([]),I=Object(c.a)(S,2),A=I[0],_=I[1],D=Object(a.useState)([]),R=Object(c.a)(D,2),F=(R[0],R[1]),T=Object(a.useState)(""),B=Object(c.a)(T,2),P=B[0],N=B[1],L=Object(u.useHistory)(),M=function(e,t){for(var n=0;n<e.length;n++)for(var a=0;a<t.length;a++){var r=e[n].fileName.split("_")[2];r&&r===t[a]._id&&(e[n]=Object(w.a)(Object(w.a)({},e[n]),{},{status:oe.f.DONE,location:t[a].h5adURL}))}},z=function(){mr.getDemos().then((function(e){Ir.getOwnProjects().then((function(t){if(M(t,e),F(e),window.indexedDB){null===localStorage.getItem("cached_projects")&&localStorage.setItem("cached_projects",JSON.stringify({}));var n=JSON.parse(localStorage.getItem("cached_projects"));t.forEach((function(e){var t=e._id,a=e.status;n.hasOwnProperty(t)&&n[t].status===a||(n[t]=e)}));var a=Object.keys(n).map((function(e){return n[e]})).reverse();o(a),localStorage.setItem("cached_projects",JSON.stringify(n))}else o(t)}))}))};return Object(a.useEffect)((function(){z();var e=setInterval((function(){return z()}),oe.e);return function(){clearInterval(e)}}),[]),Object(a.useEffect)((function(){Oa.getAtlases().then((function(e){return O(e)})),li.getModels().then((function(e){return k(e)})),n&&(Sn.getMyTeams().then((function(e){return _(e)})),mr.getDemos().then((function(e){Ir.getDeletedProjects().then((function(t){M(t,e),f(t)}))})))}),[]),Object(E.jsx)("div",{style:t,children:Object(E.jsxs)(l.a,{theme:Wi,children:[Object(E.jsxs)(p.a,{sx:{display:"flex",flexDirection:"row",justifyContent:"space-between",pt:2,pb:3},children:[Object(E.jsxs)(ot.a,{direction:"row",className:"stack",alignItems:"Center",children:[Object(E.jsx)(j.a,{variant:"h5",sx:{pr:1},children:"Your Mappings"}),Object(E.jsx)(jn,{onClick:function(){L.push("genemapper/create")}})]}),Object(E.jsx)(p.a,{sx:{alignSelf:"center",width:{xs:"95%",md:"25%"},marginBlock:"2%"},children:Object(E.jsx)(gi,{value:P,handleSearch:function(e){return N(e)},noFilterComponent:!0})})]}),localStorage.getItem("cached_projects")&&null===s&&Object(E.jsx)(p.a,{sx:{textAlign:"center"},children:Object(E.jsx)(Tn.a,{})}),(!localStorage.getItem("cached_projects")||0===(null===s||void 0===s?void 0:s.length))&&Object(E.jsx)(Ne.a,{severity:"info",children:"You have not created any mappings yet. There are Create one by clicking the Plus Icon."}),s&&Object(E.jsx)("div",{children:s.filter((function(e){return""===P||e.name.toLowerCase().includes(P.toLowerCase())})).map((function(e){var t=g.find((function(t){return String(t._id)===String(e.atlasId)}));t||(t={name:e.atlasId});var a,r,i=C.find((function(t){return String(t._id)===String(e.modelId)}));i||((null===e||void 0===e?void 0:e.modelId)&&(r=(null===e||void 0===e?void 0:e.modelId.slice(0,2))+(null===e||void 0===e||null===(a=e.modelId)||void 0===a?void 0:a.slice(2).toUpperCase())),i={name:r});return Object(E.jsx)(Ui,{project:e,atlas:t,model:i,userTeams:A,handleDelete:function(){return t=e._id,void mr.getDemos().then((function(e){var n=JSON.parse(localStorage.getItem("cached_projects"));delete n[t],localStorage.setItem("cached_projects",JSON.stringify(n));var a=s.filter((function(e){return e._id!==t}));o(a),Ir.deleteProject(t).then((function(){Ir.getOwnProjects().then((function(t){M(t,e),o(t)})),Ir.getDeletedProjects().then((function(t){M(t,e),console.log(t),f(t)}))}))}));var t},loggedIn:n},e._id)}))}),n&&b.length>0&&Object(E.jsxs)(p.a,{children:[Object(E.jsx)(j.a,{variant:"h6",sx:{mt:4,mb:2},children:"Deleted Projects"}),b.map((function(e){return Object(E.jsx)(Ui,{project:e,atlas:g.find((function(t){return String(t._id)===String(e.atlasId)})),model:C.find((function(t){return String(t._id)===String(e.modelId)})),userTeams:A,loggedIn:n,handleDelete:function(){return t=e._id,void mr.getDemos().then((function(e){Ir.restoreProject(t).then((function(){Ir.getOwnProjects().then((function(t){M(t,e),o(t)})),Ir.getDeletedProjects().then((function(t){M(t,e),f(t)}))}))}));var t},deleted:!0},e._id)}))]})]})})},qi=n(511),Hi=n(564),Qi=n.n(Hi),Vi=n(563),Yi=n.n(Vi),Ki=_.a.neutral[600],Ji=_.a.neutral[600],Zi="#00aced";var Xi=function(e){var t=e.projectName,n=e.url;return Object(E.jsxs)(p.a,{children:[Object(E.jsx)(C.a,{href:"https://twitter.com/share?ref_src=twsrc%5Etfw&url=".concat(encodeURIComponent(n)),target:"_blank",children:Object(E.jsx)(ht.a,{sx:{color:Zi}})}),Object(E.jsx)(C.a,{href:"mailto:?subject=".concat(encodeURIComponent(t),"&body=").concat(n),children:Object(E.jsx)(Yi.a,{sx:{color:Ki}})}),Object(E.jsx)(C.a,{onClick:function(){return navigator.clipboard.writeText(n)},children:Object(E.jsx)(Qi.a,{sx:{color:Ji}})}),Object(E.jsx)("script",{async:!0,src:"https://platform.twitter.com/widgets.js",charSet:"utf-8"})]})};var $i=function(e){var t=e.project,n=Object(u.useHistory)(),r=Object(a.useState)(!1),i=Object(c.a)(r,2),s=i[0],o=i[1],l=Object(a.useState)(null),d=Object(c.a)(l,2),h=d[0],b=d[1],f=Object(a.useState)(null),m=Object(c.a)(f,2),x=m[0],g=m[1];return Object(a.useEffect)((function(){Oa.getAtlasById(t.atlasId).then((function(e){return b(e)})),ua.getModelById(t.modelId).then((function(e){return g(e)}))}),[t.atlasId,t.modelId]),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(p.a,{sx:{display:"flex",justifyContent:"space-between"},children:[Object(E.jsxs)(q.default,{type:"tertiary",onClick:function(){return n.goBack()},children:[Object(E.jsx)(qi.a,{sx:{ml:-2},fontSize:"small"}),Object(E.jsx)(j.a,{variant:"caption",children:"Back"})]}),Object(E.jsxs)(p.a,{sx:{display:"flex",alignItems:"center"},children:[Object(E.jsx)(j.a,{variant:"h6",children:t.name}),Object(E.jsx)(C.a,{"aria-label":"learn more",size:"small",onClick:function(){return o(!0)},children:Object(E.jsx)(Fi.a,{fontSize:"small"})})]}),Object(E.jsxs)(p.a,{sx:{display:"flex",alignItems:"center"},children:[Object(E.jsx)(Xi,{projectName:t.name,url:window.location}),Object(E.jsx)(bt.a,{orientation:"vertical",flexItem:!0,variant:"middle"}),Object(E.jsx)(C.a,{href:t.location,download:"".concat(t.name,".tsv"),children:Object(E.jsx)(Si.a,{})})]})]}),Object(E.jsx)(bt.a,{sx:{mt:1,mb:1}}),Object(E.jsx)(K,{isOpen:s,setOpen:o,children:Object(E.jsxs)(p.a,{sx:{p:1},children:[Object(E.jsx)(j.a,{variant:"h4",sx:{pb:1},children:t.name}),Object(E.jsx)(Li,{project:t,atlas:h,model:x})]})})]})},es=n(572),ts=n.n(es),ns=n(570),as=n.n(ns),rs=n(571),is=n.n(rs),ss=n(568),os=n.n(ss),cs=n(569),ls=n.n(cs),ds=n(567),us=n.n(ds),hs=n(23),ps=function(){hs.r("#vis_svg").style("transform-origin","20% 20% 0").transition().call(bs.scaleBy,1.75)},js=function(){hs.r("#vis_svg").style("transform-origin","20% 20% 0").transition().call(bs.scaleBy,.5)},bs=hs.u().scaleExtent([.5,16]).on("zoom",(function(e){hs.r("svg g").style("transform-origin",null).attr("transform",e.transform)}));var fs=function(){hs.r("#vis_svg").transition().call(bs.transform,hs.v)},ms=n(42),xs=n(43),gs=(n(852),n(853),function(e,t){var n=[],a=new Map;for(var r in e){var i=e[r];a.has(i[t])?((n=a.get(i[t])).push(i),a.set(i[t],n)):a.set(i[t],[i])}return a}),Os=function(e,t,n,a,r,i){var s,o,l,d=hs.r(e).append("svg"),u=i,h=r;d.attr("width",h).attr("height",u);var p=u>350;p?(s="20px",o="15px",l=200):(s="12px",o="8px",l=100);var j=Array.from(n).sort((function(e,t){return e[1]===t[1]?0:e[1]>t[1]?-1:1})),b=j.slice(0,j.length>=15?15:j.length);!function(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),a=e[t];e[t]=e[n],e[n]=a}}(b);var f=b.filter((function(e){return void 0!==e[0]})).map((function(e){return[e[0],e[1].length]})),m=1.1*hs.j(f.map((function(e){return e[1]}))),x=b.map((function(e){var t=Object(c.a)(e,2),n=t[0];t[1];return n})).filter((function(e){return void 0!==e})),g=hs.o().domain(x).range([l,h]).padding(.4),O=hs.p().domain([0,m]).range([u,l+25]),v=d.append("g");v.append("text").attr("class","title").attr("x",l+25).attr("y",15).attr("font-size",s).text(a).style("font-family","inherit").style("font-weight",640);var y=hs.c(g),w=hs.d(O).tickFormat((function(e){return e})).ticks(5).tickSize(-u);v.append("g").attr("id","x-axis").attr("class","x-axis").attr("transform","translate(0, "+(u-l)+")").call(y).selectAll("text").attr("transform","translate(-10,0)rotate(-45)").style("text-anchor","end").style("color","black").attr("font-size",o),v.append("g").attr("id","y-axis").attr("class","y-axis").attr("transform","translate("+l+","+-l+")").call(w).selectAll("text").style("text-anchor","end").style("color","black").attr("font-size",o),v.append("g").attr("id","bars").selectAll("rect").data(f).enter().append("rect").attr("class","bar").attr("x",(function(e){return g(e[0])})).attr("y",(function(e){return O(e[1])})).attr("width",g.bandwidth()).attr("height",(function(e){return u-O(e[1])})).attr("transform","translate( 0, "+-l+")").append("title").text((function(e){return e[1]})),p&&v.append("g").attr("id","labels").selectAll("label").data(f).enter().append("text").attr("class","label").attr("x",(function(e){return g(e[0])})).attr("y",(function(e){return O(e[1])-l-13})).attr("dy",".75em").text((function(e){return e[1]})).attr("fill","black").attr("font-size",o)},vs=n(36),ys=function(e,t){return e.map((function(e){return e[t]})).filter((function(e,t,n){return n.indexOf(e)==t}))},ws=function(e){return Object.assign.apply(Object,[{}].concat(Object(un.a)(Object.keys(e[0]).map((function(e){return e.trim()})).filter((function(e){return"x"!==e&&"y"!==e&&""!==e})).map((function(t){var n={};if(parseFloat(e[0][t])){var a=hs.j(e.map((function(e){return parseFloat(e[t])}))),r=hs.l(e.map((function(e){return parseFloat(e[t])})));return n[t]=Object.assign.apply(Object,[{}].concat(Object(un.a)(ys(e,t).map((function(e){return parseFloat(e)})).filter((function(e){return e==a||e==r})).sort((function(e,t){return e-t})).map((function(e,t){var n=new Object;return n[e]=Xr[t],n}))))),n}var i=ys(e,t).sort().map((function(e,t){var n=new Object;return n[e]=$r[t],n}));return n[t]=Object.assign.apply(Object,[{}].concat(Object(un.a)(i))),n})))))},Cs=function(e,t){return hs.l([t,e])},ks=function(e,t){return e.append("g").attr("id","".concat(t))},Ss=function(){function e(t,n){Object(ms.a)(this,e),hs.r(t).selectAll("*").remove(),this.svg=hs.r(t).append("svg").attr("id","vis_svg"),this.gCells=ks(this.svg,"cells"),this.coloringModes=ws(n),this.tooltip=hs.r(t).append("div"),this.mode=void 0,this.data=n,this.graphs=["batch","cell"],this.hiddenCells=[]}return Object(xs.a)(e,[{key:"getAvailableGraphs",value:function(){return Object.keys(this.coloringModes).includes("cell_type")?this.graphs:["batch"]}},{key:"drawGraph",value:function(e,t,n,a){switch(t){case this.graphs[0]:Object.keys(this.coloringModes).includes("batch")&&(hs.r(e).append("div"),function(e,t,n,a){var r=gs(t,"batch");Os(e,0,r,"#Cells per Batch",n,a)}(e,this.data,n,a));break;case this.graphs[1]:Object.keys(this.coloringModes).includes("cell_type")&&(hs.r(e).append("div"),this.barChartCell=function(e,t,n,a){var r=gs(t,"cell_type");Os(e,0,r,"#Cells per Cell Type",n,a)}(e,this.data,n,a))}}},{key:"isHidden",value:function(e){for(var t=0;t<this.hiddenCells.length;t++)if(e[this.hiddenCells[t][0]]===this.hiddenCells[t][1])return!0;return!1}},{key:"after",value:function(e,t){this.addHiddenCell(e,t),this.hideShowCells()}},{key:"before",value:function(e,t){this.deleteHiddenCell(e,t),this.hideShowCells()}},{key:"beforeAll",value:function(){this.hiddenCells=[],this.cells.style("visibility","visible")}},{key:"hideShowCells",value:function(){var e=this;this.cells.style("visibility",(function(t){return e.isHidden(t)?"hidden":"visible"}))}},{key:"addHiddenCell",value:function(e,t){this.hiddenCells.push([e,t])}},{key:"filterCells",value:function(e){e[0]==this[0]&&(e[1],this[1])}},{key:"deleteHiddenCell",value:function(e,t){this.hiddenCells=this.hiddenCells.filter((function(n){return!(n[0]==e&&n[1]==t)}))}},{key:"showReference",value:function(){this.before("type","reference")}},{key:"showQuery",value:function(){this.before("type","query")}},{key:"hideQuery",value:function(){this.after("type","query")}},{key:"hideReference",value:function(){this.after("type","reference")}},{key:"predictedCellsTransparent",value:function(){this.reduceOpacity("predicted","yes")}},{key:"predictedCellsVisible",value:function(){this.resetOpacity()}},{key:"reduceOpacity",value:function(e,t){this.cells.style("opacity",(function(n){return n[e]===t?.3:Jr}))}},{key:"resetOpacity",value:function(){this.cells.style("opacity",Jr)}},{key:"setColorMode",value:function(e){var t=function(e,t){var n;if(parseFloat(t[0][e])){var a=t.map((function(t){return parseFloat(t[e])}));n=hs.p().domain([hs.l(a),hs.j(a)]).range(Xr)}else{var r=ys(t,e).sort();n=hs.q().domain(r).range($r.slice(0,r.length))}return n}(e,this.data);null!=this.cells&&this.cells.style("fill",(function(n){return t(n[e])})),this.mode=e,this.colorScale=t}},{key:"resize",value:function(e,t){if(void 0===this.cells)return this.render(e,t);var n=Cs(e,t),a=this.data,r=.003*n,i=hs.p().domain([hs.l(a.map((function(e){return parseFloat(e.x)}))),hs.j(a.map((function(e){return parseFloat(e.x)})))]).range([Ur,n-Ur]),s=(e-Ur-i(hs.j(a.map((function(e){return parseFloat(e.x)})))))/2,o=hs.p().domain([hs.l(a.map((function(e){return parseFloat(e.x)}))),hs.j(a.map((function(e){return parseFloat(e.x)})))]).range([s,n-Ur+s]),c=hs.p().domain([hs.l(a.map((function(e){return parseFloat(e.y)}))),hs.j(a.map((function(e){return parseFloat(e.y)})))]).range([Ur,n-Ur]);return this.cells.attr("cx",(function(e){return o(parseFloat(e.x))})).attr("cy",(function(e){return c(parseFloat(e.y))})),this.cells.attr("r",r),[o,c]}},{key:"render",value:function(){var e=Object(P.a)(B.a.mark((function e(t,n){var a,r,i,s,o,l,d,u,h;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=this.data,r=Cs(t,n),i=.003*r,s=this,this.svg.attr("width",t).attr("height",n),this.gCells.selectAll("*").remove(),this.cells=this.gCells.selectAll("cell").data(a).enter().append("circle").attr("r",i).style("fill",(function(e){return s.mode?s.colorScale(e[s.mode]):"black"})).style("opacity",Jr),o=this.resize(t,n),l=Object(c.a)(o,2),d=l[0],u=l[1],h=this.tooltip.attr("class","tooltip").attr("opacity",1).style("visibility","hidden"),this.cells.on("mouseover",(function(e,t){if(hs.r(this).transition().duration(100).attr("r",1.5*i).style("stroke","black").style("opacity",1),s.mode){var n=t[s.mode],a=parseFloat(e.x)+5,r=parseFloat(e.y)-35;h.style("visibility","visible"),h.html(n).style("top","".concat(r,"px")).style("left","".concat(a,"px"))}})).on("mouseout",(function(){h.style("visibility","hidden"),hs.r(this).transition().duration(100).attr("r",i).style("stroke","none").style("opacity",.8)})),this.svg.attr("class","mouse-capture").attr("x",-t).attr("y",-n).attr("width",t).attr("height",n).style("fill","white").lower().call(bs),this.cells.attr("cx",(function(e){return d(parseFloat(e.x))})).attr("cy",(function(e){return u(parseFloat(e.y))}));case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}(),Is=n(512),As=n(513),_s=n(565),Es=n.n(_s),Ds=n(463),Rs=n(461),Fs=_.a.primary[400],Ts=_.a.primary[200];function Bs(e){var t=e.title,n=e.values,r=e.colored,i=e.toggleColored,s=e.hide,o=e.show,l=Object(a.useState)(!1),d=Object(c.a)(l,2),u=d[0],h=d[1];return Object(E.jsxs)(p.a,{sx:{display:"flex",flexDirection:"column"},children:[Object(E.jsx)(Ds.a,{onClick:function(){return h(!u)},sx:{p:0},children:Object(E.jsxs)(Rs.a,{secondaryAction:Object(E.jsx)(C.a,{edge:"end",onClick:function(e){i(),e.stopPropagation()},children:Object(E.jsx)(Es.a,{sx:{color:r?Fs:Ts}})}),sx:{pl:1},children:[u?Object(E.jsx)(Di.a,{sx:{transform:"rotate(180deg)"}}):Object(E.jsx)(Ri.a,{sx:{transform:"rotate(-90deg)"}}),Object(E.jsx)(j.a,{sx:{pr:1},noWrap:!0,children:t})]})}),Object(E.jsx)(yi.a,{in:u,children:Object(E.jsx)(p.a,{sx:{display:"flex",flexDirection:"column"},children:Object.entries(n).map((function(e){var t=Object(c.a)(e,2),n=t[0],a=t[1];return Object(E.jsx)(Ps,{title:n,color:a,hide:function(){return s(n)},show:function(){return o(n)}},n)}))})})]})}function Ps(e){var t=e.title,n=e.color,r=e.hide,i=e.show,s=Object(a.useState)(!0),o=Object(c.a)(s,2),l=o[0],d=o[1];return Object(E.jsxs)(p.a,{sx:{display:"flex",alignItems:"center",pl:3,pr:2},children:[Object(E.jsx)(C.a,{onClick:function(){l?r():i(),d(!l)},children:l?Object(E.jsx)(Is.a,{sx:{color:n}}):Object(E.jsx)(As.a,{sx:{color:Ts}})}),Object(E.jsx)(Gt.a,{title:t,placement:"right",children:Object(E.jsx)(j.a,{sx:{flexGrow:1},noWrap:!0,children:t})})]})}var Ns=function(e){var t=e.categories,n=e.setColorMode,r=e.hide,i=e.show,s=Object(a.useState)(null),o=Object(c.a)(s,2),l=o[0],d=o[1],u=function(e){d(e),n(e)};return Object(a.useEffect)((function(){if(t){var e=Object.keys(t);e.includes("cell_type")?u("cell_type"):e.includes("batch")?u("batch"):e.length&&u(e[0])}}),[t]),Object(E.jsx)(p.a,{sx:{maxWidth:"270px"},children:t?Object.entries(t).map((function(e){var t=Object(c.a)(e,2),n=t[0],a=t[1];return"predicted"!==n?Object(E.jsx)(Bs,{title:n,values:a,colored:n===l,toggleColored:function(){return u(n)},hide:function(e){r(n,e)},show:function(e){i(n,e)}},n):null})):null})};var Ls=function(e){var t=e.title,n=e.collapseToRight,r=e.children,i=Object(a.useState)(!0),s=Object(c.a)(i,2),o=s[0],l=s[1],d=n?90:-90,u=n?"left":"right",h=n?"row-reverse":"row";return Object(E.jsxs)(p.a,{sx:{display:"flex",flexDirection:"column",alignItems:"strech",height:"100%"},children:[o?Object(E.jsxs)(p.a,{sx:{display:"flex",alignItems:"center",flexDirection:h},children:[Object(E.jsx)(j.a,{variant:"h6",style:{flexGrow:1},children:t}),Object(E.jsx)(C.a,{onClick:function(){return l(!1)},children:Object(E.jsx)(Di.a,{fontSize:"large",sx:{transform:"rotate(".concat(d,"deg)")}})})]}):Object(E.jsx)(Gt.a,{title:t,placement:u,children:Object(E.jsx)(C.a,{onClick:function(){return l(!0)},children:Object(E.jsx)(Ri.a,{fontSize:"large",sx:{transform:"rotate(".concat(d,"deg)")}})})}),Object(E.jsx)(yi.a,{in:o,orientation:"horizontal",sx:{overflowY:"auto",overflowX:"hidden",pr:2},children:r})]})},Ms=n(566),zs=n.n(Ms);var Us=function(e){var t=e.graphs,n=e.drawGraph,r=Object(a.useRef)({}),i=Object(a.useState)(""),s=Object(c.a)(i,2),o=s[0],l=s[1];return Object(a.useEffect)((function(){Object.entries(r.current).forEach((function(e){var t=Object(c.a)(e,2),a=t[0],r=t[1];n(r,a,270,270)}))}),[r.current]),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(p.a,{sx:{height:"100%"},children:t.map((function(e){return Object(E.jsx)(p.a,{ref:function(t){r.current[e]=t},sx:{position:"relative"},children:Object(E.jsx)(C.a,{size:"small",sx:{position:"absolute",left:50},onClick:function(){l(e)},children:Object(E.jsx)(zs.a,{})})},e)}))}),Object(E.jsx)(K,{isOpen:o,setOpen:function(){return l("")},maxWidth:"false",children:Object(E.jsx)(p.a,{ref:function(e){return n(e,o,750,750)}})})]})},Ws=_.a.primary[400],Gs=_.a.primary[200];var qs=function(e){var t=e.dataUrl,n=e.onlyUmap,r=e.loggedIn,i=void 0===r||r,s=Object(a.useRef)(null),o=Object(a.useRef)(null),l=Object(a.useState)(null),d=Object(c.a)(l,2),u=d[0],h=d[1],j=Object(a.useState)({width:0,height:0}),b=Object(c.a)(j,2),f=b[0],m=b[1],x=Object(a.useState)(!0),g=Object(c.a)(x,2),O=g[0],v=g[1],y=Object(a.useState)(!0),w=Object(c.a)(y,2),k=w[0],S=w[1],I=Object(a.useState)(!0),A=Object(c.a)(I,2),_=A[0],D=A[1];return Object(a.useEffect)((function(){if(!window.indexedDB){if(!i)return void window.alert("This browser doesn't support IndexedDB. Please update your browser.");Object(hs.e)(t).then((function(e){h(new Ss(s.current,e,o.current))}))}console.log("opening indexedDB...");var e,n=window.indexedDB.open(oe.c,oe.b);n.onerror=function(){return console.log("Error opening indexedDB")},n.onupgradeneeded=function(){console.log("onupgradeNeeded fired"),(e=n.result).createObjectStore("project"),e.onerror=function(e){console.log("indexedDB error occurred: ".concat(e))}},n.onsuccess=function(){var a=(e=n.result).transaction("project","readonly").objectStore("project"),r=a.get(t);e.onerror=function(e){console.log("indexedDB error occurred: ".concat(e))},r.onsuccess=function(){var n=r.result;n?(console.log("reading from indexed db"),h(new Ss(s.current,n,o.current))):Object(hs.e)(t).then((function(n){h(new Ss(s.current,n,o.current)),(a=e.transaction(["project"],"readwrite").objectStore("project")).add(n,t).onsuccess=function(){console.log("new project result added to db.")}}))},console.log("Finished operations on indexedDB.")}}),[t]),Object(a.useEffect)((function(){u&&f.width>0&&f.height>0&&u.resize(f.width,f.height)}),[u,f]),Object(a.useEffect)((function(){if(null===s||void 0===s?void 0:s.current){var e=new ResizeObserver((function(e){var t=e[0];m({width:t.contentRect.width,height:t.contentRect.height})}));return e.observe(s.current),function(){return e.disconnect()}}return function(){}}),[s.current]),Object(E.jsxs)(p.a,{sx:{display:"flex",width:"100%",height:"100%"},children:[u?null:Object(E.jsx)(p.a,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)"},children:Object(E.jsx)(Tn.a,{disableShrink:!0})}),Object(E.jsx)(p.a,{sx:{display:n?"none":"block"},children:Object(E.jsx)(Ls,{title:"Categories",children:Object(E.jsx)(Ns,{categories:null===u||void 0===u?void 0:u.coloringModes,setColorMode:function(e){return u.setColorMode(e)},hide:function(e,t){u.after(e,t)},show:function(e,t){u.before(e,t)}})})}),Object(E.jsxs)(p.a,{sx:{flexGrow:1,display:"flex",flexDirection:"column",justifyContent:"center",overflow:"hidden"},children:[Object(E.jsxs)(p.a,{sx:{display:"flex",justifyContent:"center"},children:[u&&Object.keys(u.coloringModes).includes("predicted")&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(p.a,{children:Object(E.jsx)(Gt.a,{title:"".concat(_?"Hide":"Show"," predicted data"),children:Object(E.jsx)(C.a,{onClick:function(){D(!_),_?u.predictedCellsTransparent():u.predictedCellsVisible()},children:Object(E.jsx)(us.a,{sx:{color:_?Ws:Gs}})})})}),Object(E.jsx)(bt.a,{orientation:"vertical",flexItem:!0,variant:"middle"})]}),u&&Object.keys(u.coloringModes).includes("type")&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(p.a,{children:[Object(E.jsx)(Gt.a,{title:"".concat(k?"Hide":"Show"," reference data"),children:Object(E.jsx)(C.a,{onClick:function(){S(!k),k?(v(!0),u.showQuery(),u.hideReference()):u.showReference()},children:Object(E.jsx)(os.a,{sx:{color:k?Ws:Gs}})})}),Object(E.jsx)(Gt.a,{title:"".concat(O?"Hide":"Show"," query data"),children:Object(E.jsx)(C.a,{onClick:function(){v(!O),O?(S(!0),u.showReference(),u.hideQuery()):u.showQuery()},children:Object(E.jsx)(ls.a,{sx:{color:O?Ws:Gs}})})})]}),Object(E.jsx)(bt.a,{orientation:"vertical",flexItem:!0,variant:"middle"})]}),Object(E.jsxs)(p.a,{children:[Object(E.jsx)(C.a,{onClick:function(){return ps()},children:Object(E.jsx)(as.a,{})}),Object(E.jsx)(C.a,{onClick:function(){return js()},children:Object(E.jsx)(is.a,{})}),Object(E.jsx)(C.a,{onClick:function(){return fs()},children:Object(E.jsx)(ts.a,{})})]})]}),Object(E.jsx)(p.a,{sx:{flexGrow:1,display:"flex",justifyContent:"center",overflow:"hidden"},ref:s})]}),Object(E.jsx)(p.a,{sx:{display:n?"none":"block"},children:Object(E.jsx)(Ls,{title:"Graphs",collapseToRight:!0,children:u&&Object(E.jsx)(Us,{graphs:u.getAvailableGraphs(),drawGraph:function(e,t,n,a){u.drawGraph(e,t,n,a)}})})})]})};var Hs=function(e){var t=e.loggedIn,n=void 0===t||t,r=Object(a.useState)(null),i=Object(c.a)(r,2),s=i[0],o=i[1],l=Object(u.useParams)().projectId;function d(e){var t=e;mr.getDemos().then((function(n){n.forEach((function(n){var a=e.fileName.split("_")[2];a&&a===n._id&&(t=Object(w.a)(Object(w.a)({},e),{},{status:oe.f.DONE,location:n.h5adURL}))})),o(t)}))}return Object(a.useEffect)((function(){var e=JSON.parse(localStorage.getItem("cached_projects"))[l];e?d(e):Ir.getProject(l).then((function(e){d(e)})).catch((function(){oi.getProject(l).then((function(e){return o(e)}))}))}),[l]),Object(E.jsx)(p.a,{sx:{height:"calc(100vh - 75px - 24px - 40px)",display:"flex",flexDirection:"column"},children:s?Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)($i,{project:s,loggedIn:n}),Object(E.jsx)(p.a,{sx:{flexGrow:1,display:"flex",justifyContent:"space-between",alignItems:"stretch",overflow:"hidden"},children:Object(E.jsx)(qs,{dataUrl:s.location,loggedIn:n})})]}):Object(E.jsx)(p.a,{sx:{flexGrow:1,display:"flex",justifyContent:"Center",alignItems:"center"},children:Object(E.jsx)(Tn.a,{disableShrink:!0})})})};var Qs=function(e){var t=e.sidebarShown,n=e.loggedIn,r=void 0===n||n,i=Object(u.useRouteMatch)(),s=i.path,o=i.url,l=Object(a.useState)(!1),d=Object(c.a)(l,2),h=d[0],b=d[1];return Object(E.jsxs)("div",{children:[Object(E.jsx)(cn,{sidebarShown:t,loggedIn:r,children:Object(E.jsxs)(u.Switch,{children:[Object(E.jsx)(u.Route,{exact:!0,path:"".concat(s),children:Object(E.jsx)(Gi,{basePath:s,loggedIn:r})}),Object(E.jsx)(u.Route,{path:"".concat(s,"/create"),children:Object(E.jsx)(hi,{path:"".concat(s),loggedIn:r})}),Object(E.jsx)(u.Route,{path:"".concat(s,"/result/:projectId"),children:Object(E.jsx)(Hs,{loggedIn:r})}),Object(E.jsx)(u.Route,{path:"".concat(s,"/*"),children:Object(E.jsx)(u.Redirect,{to:"".concat(o)})})]})}),Object(E.jsx)(K,{isOpen:h,setOpen:b,children:Object(E.jsx)(sa.a,{children:Object(E.jsxs)(p.a,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"space-between"},children:[Object(E.jsx)(j.a,{sx:{fontSize:"36px",fontWeigth:700},children:"What is ScArches?"}),Object(E.jsxs)(j.a,{sx:{fontSize:"16px",fontWeight:300,paddingBottom:"16px"},children:[Object(E.jsx)("p",{children:"ScArches is a novel deep learning model that enables mapping query to reference datasets. The model allows the user to construct single or multi-modal (CITE-seq) references as well as classifying unlabelled query cells. On ArchMap, currently only mapping of query to reference datasets is offered."}),Object(E.jsxs)("p",{children:["For further information, please check out the ScArches paper:",Object(E.jsx)("a",{href:"https://www.nature.com/articles/s41587-021-01001-7",target:"_blank",rel:"noreferrer",children:"https://www.nature.com/articles/s41587-021-01001-7"})]})]})]})})})]})};var Vs=function(e){var t=e.children,n=e.value,a=e.index;return Object(E.jsx)("div",{role:"tabpanel",hidden:n!==a,id:"simple-tabpanel-".concat(a),"aria-labelledby":"simple-tab-".concat(a),children:n===a&&Object(E.jsx)(p.a,{sx:{p:3},children:Object(E.jsx)(j.a,{children:t})})})},Ys="users";function Ks(e){return Object(w.a)(Object(w.a)({},e),{},{id:e._id})}function Js(e){return Object(w.a)(Object(w.a)({},e),{},{id:e._id,name:e.title})}var Zs={getUsers:function(){var e=Object(P.a)(B.a.mark((function e(t){var n,a,r;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=Object(w.a)({},t)).sortBy&&"name"!==n.sortBy||(n.sortBy="lastName"),e.next=4,fe.default.get("/".concat(Ys),{params:n});case 4:return a=e.sent,r=a.data,e.abrupt("return",r);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getOwnTeams:function(){var e=Object(P.a)(B.a.mark((function e(){var t,n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe.default.get("/".concat(Ys,"/ownteams"));case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),getUser:function(){var e=Object(P.a)(B.a.mark((function e(t){var n,a;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe.default.get("".concat(Ys,"/").concat(t));case 2:return n=e.sent,a=n.data,e.abrupt("return",a);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getUserInstitutions:function(){var e=Object(P.a)(B.a.mark((function e(t){var n,a;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe.default.get("".concat(Ys,"/").concat(t,"/institutions"));case 2:return n=e.sent,a=n.data,e.abrupt("return",a.map(Ks));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getUserTeams:function(){var e=Object(P.a)(B.a.mark((function e(t){var n,a;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe.default.get("".concat(Ys,"/").concat(t,"/teams"));case 2:return n=e.sent,a=n.data,e.abrupt("return",a.map(Js));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Xs=Zs;function $s(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}var eo=function(e){var t=e.sidebarShown,n=Object(a.useState)(0),r=Object(c.a)(n,2),i=r[0],s=r[1],o=Object(u.useParams)().id,l=Object(a.useState)({}),d=Object(c.a)(l,2),h=d[0],j=d[1],b=Object(a.useState)(!1),f=Object(c.a)(b,2),m=f[0],x=f[1],g=Object(a.useState)([]),O=Object(c.a)(g,2),v=O[0],y=O[1],C=Object(a.useState)(!1),k=Object(c.a)(C,2),S=k[0],I=k[1],A=Object(a.useState)([]),_=Object(c.a)(A,2),D=_[0],R=_[1],F=Object(a.useState)(!1),T=Object(c.a)(F,2),B=(T[0],T[1]);return Object(a.useEffect)((function(){x(!0),Xs.getUser(o).then((function(e){return j(e)})).finally(x(!1))}),[]),Object(a.useEffect)((function(){I(!0),Xs.getUserInstitutions(o).then((function(e){return y(e)})).finally(I(!1))}),[]),Object(a.useEffect)((function(){B(!0),Xs.getUserTeams(o).then((function(e){return R(e)})).finally(B(!1))}),[]),Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)(cn,{sidebarShown:t,title:"Profile",children:[m?Object(E.jsx)(p.a,{sx:{display:"flex"},children:Object(E.jsx)(Tn.a,{})}):Object(E.jsxs)(Re.a,{container:!0,justifyContent:"center",alignItems:"center",spacing:3,children:[Object(E.jsx)(Re.a,{item:!0,children:Object(E.jsx)(N.a,{src:h.avatarUrl,alt:"".concat(h.firstName," ").concat(h.lastName),sx:{backgroundColor:U("".concat(h.firstName," ").concat(h.lastName)),width:160,height:160},children:(h.firstName||"?")[0]})}),Object(E.jsxs)(Re.a,{item:!0,children:[Object(E.jsxs)("h2",{children:[h.firstName," ",h.lastName]}),Object(E.jsx)("span",{children:h.email})]})]}),Object(E.jsxs)(p.a,{sx:{width:"100%"},children:[Object(E.jsx)(p.a,{sx:{borderBottom:1,borderColor:"divider"},children:Object(E.jsxs)(Na.a,{value:i,onChange:function(e,t){s(t)},"aria-label":"basic tabs example",children:[Object(E.jsx)(Pa.a,Object(w.a)({label:"Institutions"},$s(0))),Object(E.jsx)(Pa.a,Object(w.a)({label:"Teams"},$s(1)))]})}),Object(E.jsx)(Vs,{value:i,index:0,children:Object(E.jsx)(Jn,{isLoading:S,institutions:v})}),Object(E.jsxs)(Vs,{value:i,index:1,children:[0===D.length?"No teams.":"",D.map((function(e){return Object(E.jsxs)("div",{children:[Object(E.jsx)(En,{team:e,onLeft:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){return onLeft(e)}))}),Object(E.jsx)("div",{style:{marginBottom:"15px"}})]},e.id)}))]})]})]})})},to=n(46),no=n.n(to);var ao=function(){return Object(E.jsx)("div",{className:no.a.container,children:Object(E.jsxs)(ot.a,{spacing:"30px",children:[Object(E.jsx)(j.a,{sx:{fontWeight:"bold",fontSize:"30px"},children:"Documentation"}),Object(E.jsx)("div",{className:no.a.textContainer,children:Object(E.jsx)(j.a,{sx:{fontSize:"25px",paddingInline:"350px",maxWidth:"1700px"},align:"center",children:"This Documentationn provides you with a basic understanding of our implemented solution."})}),Object(E.jsx)(bt.a,{variant:"middle",textAlign:"center",sx:{paddingTop:"100px",paddingBottom:"40px"},children:Object(E.jsx)(j.a,{sx:{width:"400px",fontWeight:"bold",fontSize:"30px"},children:"1. Machine Learning Model"})}),Object(E.jsx)("div",{className:no.a.textContainer,children:Object(E.jsx)(j.a,{sx:{fontSize:"20px",paddingInline:"350px",maxWidth:"1700px"},align:"center",children:"We are working hard on providing you with a documentation for our machine learning model in the near future. If you experience problems or have any questions feel free to get in touch with us."})}),Object(E.jsx)(bt.a,{variant:"middle",textAlign:"center",sx:{paddingTop:"100px",paddingBottom:"40px"},children:Object(E.jsx)(j.a,{sx:{width:"250px",fontWeight:"bold",fontSize:"30px"},children:"2. Visualisation"})}),Object(E.jsx)("div",{className:no.a.textContainer,children:Object(E.jsx)(j.a,{sx:{fontSize:"20px",paddingInline:"350px",maxWidth:"1700px"},align:"center",children:"Based on your input data set we will provide you with a visualisation containing the calculated classifications for your cells. (An example can be seen below)"})}),Object(E.jsx)("img",{className:no.a.mainIllustration,src:wt,alt:"visualisation"}),Object(E.jsx)(bt.a,{variant:"middle",textAlign:"center",sx:{paddingTop:"100px",paddingBottom:"40px"},children:Object(E.jsx)(j.a,{sx:{width:"150px",fontWeight:"bold",fontSize:"30px"},children:"Input Data"})}),Object(E.jsx)("div",{className:no.a.textContainer,children:Object(E.jsx)(j.a,{sx:{fontSize:"20px",paddingInline:"350px",maxWidth:"1700px"},align:"center",children:"After processing the raw data provided by the user, the machine learning model returns a .csv file. This .csv file is needed as input for the visualisation in the following format"})}),Object(E.jsx)("div",{className:no.a.textContainer,children:Object(E.jsx)(j.a,{sx:{fontSize:"20px",paddingInline:"350px",maxWidth:"1700px",fontWeight:"bold"},align:"center",children:"(x,y denote the UMAP coordinates of a sample)"})}),Object(E.jsx)("img",{className:no.a.csvImage,src:At,alt:"visualisation"}),Object(E.jsx)(bt.a,{variant:"middle",textAlign:"center",sx:{paddingTop:"100px",paddingBottom:"40px"},children:Object(E.jsx)(j.a,{sx:{fontWeight:"bold",fontSize:"30px"},children:"Features"})}),Object(E.jsxs)(ot.a,{direction:"column",spacing:25,children:[Object(E.jsxs)("div",{className:no.a.infoContainer,children:[Object(E.jsx)("img",{className:no.a.verticalIllustration,src:Ct,alt:"science-guy"}),Object(E.jsxs)("div",{className:no.a.explanationLeft,children:[Object(E.jsx)(j.a,{className:no.a.explanationTitle,sx:{fontSize:"25px",fontWeight:"bold"},children:"Zoom in/out"}),Object(E.jsx)(j.a,{sx:{fontSize:"20px"},children:"The buttons in the top right corner of the visualisation allow you to zoom in on the generated sample points."}),Object(E.jsx)("br",{}),Object(E.jsx)(j.a,{sx:{fontSize:"20px"},children:"At the highest zoom level, the sample IDs are also displayed when hovering. Panning is only possible from the first zoom level."}),Object(E.jsx)("br",{}),Object(E.jsx)("br",{}),Object(E.jsx)(j.a,{className:no.a.explanationTitle,sx:{fontSize:"25px",fontWeight:"bold"},children:"Resetting the Zoom Level"}),Object(E.jsx)(j.a,{sx:{fontSize:"20px"},children:"By clicking the 'Reset' button in the upper right corner you can reset the zoom level to the original value."})]})]}),Object(E.jsxs)(ot.a,{direction:"column",children:[Object(E.jsxs)("div",{className:no.a.infoContainer,children:[Object(E.jsx)("img",{className:no.a.horizontalIllustration,src:It,alt:"cluster label"}),Object(E.jsxs)("div",{className:no.a.explanationLeft,children:[Object(E.jsx)(j.a,{className:no.a.explanationTitle,sx:{fontSize:"25px",fontWeight:"bold"},children:"Single Cluster Labels"}),Object(E.jsxs)(j.a,{sx:{fontSize:"20px"},children:[" ","The visualization temporarily displays a cluster\u2019s name when hovering over it."]})]})]}),Object(E.jsxs)("div",{className:no.a.infoContainer,children:[Object(E.jsx)("img",{className:no.a.horizontalIllustration,src:kt,alt:"all cluster labels"}),Object(E.jsxs)("div",{className:no.a.explanationLeft,children:[Object(E.jsx)(j.a,{className:no.a.explanationTitle,sx:{fontSize:"25px",fontWeight:"bold"},children:"All Cluster Labels"}),Object(E.jsxs)(j.a,{sx:{fontSize:"20px"},children:[" ","To permanently display all cluster labels you need to press the 'Labels' button in the right upper corner."]})]})]})]}),Object(E.jsxs)("div",{className:no.a.infoContainer,children:[Object(E.jsx)("img",{className:no.a.horizontalIllustration,src:St,alt:"cluster Details"}),Object(E.jsxs)("div",{className:no.a.explanationLeft,children:[Object(E.jsx)(j.a,{className:no.a.explanationTitle,sx:{fontSize:"25px",fontWeight:"bold"},children:"Cluster Details"}),Object(E.jsx)(j.a,{sx:{fontSize:"20px"},children:"When clicking on a cluster you\u2019ll be presented with more detailed information about it."}),Object(E.jsx)("br",{}),Object(E.jsx)("br",{}),Object(E.jsx)(j.a,{className:no.a.explanationTitle,sx:{fontSize:"25px",fontWeight:"bold"},children:"Portrayed Cluster Attributes:"}),Object(E.jsx)(j.a,{sx:{fontSize:"20px"},children:"- percentage share of all samples"}),Object(E.jsx)(j.a,{sx:{fontSize:"20px"},children:"- number of samples"}),Object(E.jsx)(j.a,{sx:{fontSize:"20px"},children:"- average L2 distance of the samples to the mean."})]})]})]})]})})},ro=n(473),io=n(65),so=n.n(io);function oo(e){var t=e.onPasswordInfoChange,n=e.errors;return e.changePassword?Object(E.jsxs)(ot.a,{spacing:5,direction:"column",children:[Object(E.jsxs)("div",{className:so.a.inputComponent,children:[Object(E.jsx)("div",{className:so.a.inputText,children:" New password "}),Object(E.jsx)(Ge.a,{id:"newPassword",required:!0,label:"New Password",type:"password",style:{width:"600px",background:"white"},onChange:t,error:!!n.newPassword,helperText:n.newPassword})]}),Object(E.jsxs)("div",{className:so.a.inputComponent,children:[Object(E.jsx)("div",{className:so.a.inputText,children:" Repeat new password "}),Object(E.jsx)(Ge.a,{id:"newPasswordRepeated",required:!0,label:"Repeat old password",type:"password",style:{width:"600px",background:"white"},onChange:t,error:!!n.newPasswordRepeated,helperText:n.newPasswordRepeated})]})]}):null}var co=function(){var e=F(),t=Object(c.a)(e,1)[0],n=r.a.useState(!1),i=Object(c.a)(n,2),s=i[0],o=i[1],l=Object(a.useState)({}),d=Object(c.a)(l,2),u=d[0],p=d[1],j=Object(a.useState)(!1),b=Object(c.a)(j,2),f=b[0],m=b[1],x=Object(a.useState)(!1),g=Object(c.a)(x,2),O=g[0],v=g[1],y=Object(a.useState)({firstName:t.firstName,lastName:t.lastName,emailAddress:t.email,affiliation:t.note}),C=Object(c.a)(y,2),k=C[0],S=C[1],I=Object(a.useCallback)((function(e){S((function(t){return Object(w.a)(Object(w.a)({},t),{},Object(h.a)({},e.target.id,e.target.value))}))}),[k]),A=Object(a.useState)({newPassword:"",newPasswordRepeated:""}),_=Object(c.a)(A,2),D=_[0],R=_[1];return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(ot.a,{direction:"column",sx:{paddingTop:"100px",paddingLeft:"130px",display:"flex",width:"100%",justifyContent:"center"},children:[Object(E.jsx)("div",{className:so.a.title,children:Object(E.jsx)("h1",{children:"Settings"})}),Object(E.jsxs)(ot.a,{className:so.a.background,spacing:5,direction:"column",children:[Object(E.jsx)("div",{className:so.a.profilePicture,children:Object(E.jsx)(xe,{sizePixels:180,editable:!0})}),Object(E.jsxs)(ot.a,{spacing:2,style:{display:"flex"},direction:"row",children:[Object(E.jsxs)("div",{className:so.a.inputComponent,children:[Object(E.jsx)("div",{className:so.a.inputText,children:" First Name "}),Object(E.jsx)(Ge.a,{id:"firstName",value:k.firstName,required:!0,label:"First Name",type:"text",style:{width:"290px",background:"white"},onChange:I,error:!!u.firstName,helperText:u.firstName})]}),Object(E.jsxs)("div",{className:so.a.inputComponent,children:[Object(E.jsx)("div",{className:so.a.inputText,children:" Last Name"}),Object(E.jsx)(Ge.a,{id:"lastName",value:k.lastName,required:!0,label:"Last Name",type:"text",style:{width:"290px",background:"white"},onChange:I,error:!!u.lastName,helperText:u.lastName})]})]}),Object(E.jsxs)("div",{className:so.a.inputComponent,children:[Object(E.jsx)("div",{className:so.a.inputText,children:" Email Address "}),Object(E.jsx)(Ge.a,{id:"emailAddress",disabled:!0,value:k.emailAddress,required:!0,label:"Email",type:"text",style:{width:"600px",background:"white"},onChange:I,error:!!u.emailAddress,helperText:u.emailAddress})]}),Object(E.jsxs)("div",{className:so.a.inputComponent,children:[Object(E.jsx)("div",{className:so.a.inputText,children:"Affiliation"}),Object(E.jsx)(Ge.a,{id:"affiliation",value:k.affiliation,label:"Affiliation (e.g. University or research institute)",type:"text",style:{width:"600px",background:"white"},onChange:I})]}),Object(E.jsxs)("div",{className:so.a.inputComponent,children:[Object(E.jsx)("div",{className:so.a.inputText,children:"Password"}),Object(E.jsx)(Fe.a,{label:"Change Password",sx:{m:1},control:Object(E.jsx)(ro.a,{checked:s,onClick:function(){return o(!s)}})})]}),Object(E.jsx)(oo,{errors:u,changePassword:s,passwordInfo:D,onPasswordInfoChange:function(e){R((function(t){return Object(w.a)(Object(w.a)({},t),{},Object(h.a)({},e.target.id,e.target.value))}))}}),Object(E.jsx)("div",{style:{display:"flex",justifyContent:"flex-start"},children:Object(E.jsx)(q.default,{disabled:f,onClick:function(){(function(){var e={};return Me.a.isEmail(k.emailAddress)||(e=Object(w.a)(Object(w.a)({},e),{},{emailAddress:"Please provide a valid email"})),""===k.firstName&&(e=Object(w.a)(Object(w.a)({},e),{},{firstname:"Please enter your first name!"})),""===k.lastName&&(e=Object(w.a)(Object(w.a)({},e),{},{lastname:"Please enter your last name!"})),p(e),!Object.keys(e).length})()&&function(){var e={};return D.newPassword!==D.newPasswordRepeated&&(e=Object(w.a)(Object(w.a)({},e),{},{newPasswordRepeated:"The passwords must match!"})),p((function(t){return Object(w.a)(Object(w.a)({},t),e)})),console.log("".concat(D.newPassword," ").concat(D.newPasswordRepeated)),!Object.keys(e).length}()&&(m(!0),me.updateProfile(k,s?D.newPassword:null).catch((function(e){p((function(e){return Object(w.a)(Object(w.a)({},e),{},{response:"Couldn't save changes :/"})})),console.log(e)})).finally((function(){m(!1),v(!0)})))},children:f?"Saving...":"Save"})})]})]}),Object(E.jsx)(Pe.a,{open:O,autoHideDuration:1e4,onClose:function(){return v(!1)},children:Object(E.jsx)(Ne.a,{severity:u.response?"error":"success",sx:{width:"100%"},onClose:function(){return v(!1)},children:u.response?u.response:"Changes saved."})})]})};function lo(e){var t=e.sidebarShown,n=Object(a.useState)({message:""}),r=Object(c.a)(n,2),i=(r[0],r[1]);Object(a.useCallback)((function(e){i((function(t){return Object(w.a)(Object(w.a)({},t),{},Object(h.a)({},e.target.id,e.target.value))}))}),[i]);return Object(E.jsxs)(cn,{sidebarShown:t,title:"Contact Us",children:[Object(E.jsx)(p.a,{sx:{margin:"1em auto",display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center"},children:Object(E.jsx)(j.a,{fontWeight:400,fontSize:"1.2em",children:"Please describe to us the problem you are experiencing in the contact form below."})}),Object(E.jsx)(p.a,{sx:{margin:"1em auto",display:"flex",flexDirection:"column",alignItems:"center",textAlign:"center"},children:Object(E.jsx)(j.a,{fontSize:"1em",children:"We will get back to you as soon as possible."})}),Object(E.jsx)(p.a,{sx:{position:"relative",width:"60vw",margin:"1em auto"},children:Object(E.jsx)(lt,{})})]})}var uo=n(573),ho=n.n(uo),po=(n(854),function(e){var t=e.value,n=e.searchParams,a=e.path,r=e.onChange,i=void 0===r?function(){}:r,s=["atlases","models","teams","institutions","users"],o=n.get("keyword"),c=o?"?keyword=".concat(o):"",l=(s=s.map((function(e){return{label:e.toUpperCase(),path:"".concat(de(a,e)).concat(c)}}))).findIndex((function(e){return e.label.toLowerCase()===t}));return Object(E.jsx)(za,{value:l,onValueChange:function(){return i()},setValue:function(){return i()},tabsInfo:s})}),jo=n(460);var bo=function(e){var t=e.listItemWrapper,n=e.searchResult,a=e.user,r=e.fetchSearchHandler,i=t;return Object(E.jsx)(jo.a,{style:{display:"flex",flexDirection:"column"},children:n.map((function(e){return Object(E.jsx)(i,{item:e,user:a,onAction:r},e.id)}))})},fo=n(393),mo=n(462);var xo=function(e){var t=e.action,n=e.avatar,a=e.title,r=e.link,i=e.primary,s=e.secondary,o=e.tertiary,c=e.displayAvatar,l=void 0!==c&&c;return Object(E.jsxs)(Rs.a,{divider:!0,alignItems:"flex-start",secondaryAction:t,children:[l&&Object(E.jsx)(mo.a,{spacing:10,children:Object(E.jsx)(N.a,{sx:{bgcolor:U(a),width:45,height:45},alt:a,src:n||"dummy.png"})}),Object(E.jsxs)(ot.a,{direction:"column",spacing:.5,children:[Object(E.jsxs)(ot.a,{direction:"row",spacing:2,alignItems:"center",children:[Object(E.jsx)(Be.a,{sx:{fontSize:"24px"},component:d.b,to:r,underline:"hover",children:Object(E.jsx)("b",{children:a})}),i]}),Object(E.jsx)(j.a,{sx:{color:"text.secondary"},children:s}),Object(E.jsx)(ot.a,{direction:"row",sx:{color:"text.secondary"},alignItems:"flex-end",spacing:2,children:o})]})]})};var go=function(e){var t=e.label,n=e.to,a=e.content,r=e.tooltip;return Object(E.jsxs)(ot.a,{children:[!r&&Object(E.jsx)("div",{children:t}),r&&Object(E.jsx)(Gt.a,{title:r,placement:"right",children:Object(E.jsx)("div",{children:t})}),Object(E.jsx)(Be.a,{component:d.b,to:n,underline:"hover",children:a})]})};var Oo=function(e){var t=e.team,n=e.onJoin,r=e.isDisabled,i=Object(a.useState)(!1),s=Object(c.a)(i,2),o=s[0],l=s[1],d=Object(a.useState)(""),u=Object(c.a)(d,2),h=u[0],p=u[1],j=function(){return l(!1)};function b(){return(b=Object(P.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(""),e.prev=1,e.next=4,Sn.joinTeam(t.id);case 4:j(),n(t),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),p(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(q.default,{type:"primary",disabled:r,onClick:function(){return l(!0)},children:"Join"}),Object(E.jsxs)(K,{isOpen:o,setOpen:function(e){return!e&&j()},children:[Object(E.jsx)(J,{children:"Join"}),Object(E.jsxs)(X.a,{children:[Object(E.jsxs)(mn.a,{children:['Do you really want to join the team "',t.name,'"?']}),h&&Object(E.jsx)(mn.a,{id:"alert-dialog-description",color:"error",children:h})]}),Object(E.jsxs)(Z.a,{children:[Object(E.jsx)(q.default,{onClick:j,type:"critical",children:"Cancel"}),Object(E.jsx)(q.default,{onClick:function(){return function(){return b.apply(this,arguments)}()},type:"primary",autoFocus:!0,children:"Join"})]})]})]})},vo=function(e){var t,n=e.item,a=e.user,r=e.onAction,i=function(){var e=Object(P.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r();case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),s=n.visibility.toLowerCase().replace("_"," "),o=!1,c=n.memberIds.includes(a._id);switch(s){case"public":t="Anybody can join the team!",o=!c;break;case"private":t="Only invited members can join the team!",o=!c&&!!n.invitedMemberIds.includes(a._id);break;case"by institution":t="Only institution members can join the team!",o=!c&&n.institutionId&&n.institutionId.memberIds.includes(a._id);break;default:t="unknown"}return Object(E.jsx)(xo,{action:o&&Object(E.jsx)(Oo,{team:n,onJoin:i}),title:n.title,link:"/sequencer/teams/".concat(n.id),primary:Object(E.jsx)(Gt.a,{title:t,placement:"right-end",children:Object(E.jsx)(fo.a,{label:s,color:"primary",size:"small"})}),secondary:n.updatedAt&&"updated on ".concat(ue(n.updatedAt)),tertiary:Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(fo.a,{label:"".concat(n.memberIds.length," members"),variant:"outlined",size:"small",sx:{color:"text.secondary"}}),n.institutionId&&Object(E.jsx)(go,{label:"Institution",tooltip:"The institution managing the team.",content:n.institutionId.name,to:"/sequencer/institutions/".concat(n.institutionId._id)})]})})};var yo=function(e){var t=e.item;return Object(E.jsx)(xo,{title:t.name,avatar:t.profilePictureURL,displayAvatar:!0,link:"/sequencer/institutions/".concat(t.id),secondary:t.updatedAt&&"updated on ".concat(ue(t.updatedAt)),tertiary:Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(fo.a,{label:"".concat(t.memberIds.length," members"),variant:"outlined",size:"small",sx:{color:"text.secondary"}}),Object(E.jsx)(fo.a,{label:"".concat(t.teams.length," teams"),variant:"outlined",size:"small",sx:{color:"text.secondary"}})]})})};var wo=function(e){var t=e.item;return Object(E.jsx)(xo,{avatar:t.avatarUrl,title:"".concat(t.firstName," ").concat(t.lastName),link:"/sequencer/users/".concat(t._id),secondary:" ".concat(t.note),displayAvatar:!0})},Co=function(e){var t=e.count,n=e.searchedEntity,a=e.searchedKeyword,r="".concat(t," result").concat(1===t?"":"s"),i=n.charAt(0).toUpperCase()+n.slice(1),s=a&&""!==a&&Object(E.jsxs)(E.Fragment,{children:["matching"," ",Object(E.jsx)("b",{children:a})]});return Object(E.jsx)(p.a,{sx:{m:2},children:Object(E.jsxs)(j.a,{children:["".concat(r," for ").concat(i," "),s]})})},ko=function(e){var t=e.content,n=e.link,a=void 0===n?null:n,r=e.onClick,i=e.bg,s=e.color,o=e.bgHover,c=e.colorHover;return Object(E.jsx)(gt.a,{variant:"outlined",disableRipple:!0,href:a?"#".concat(a):null,onClick:r,sx:{color:s||_.a.primary[100],borderWidth:"2px",borderColor:i||_.a.primary[100],borderRadius:"1.2rem",justifyContent:"center",textAlign:"center",":hover":{borderColor:c||"#01579B",borderWidth:"2px",backgroundColor:o||_.a.primary[100],color:c||"#01579B",transition:"0.5s"}},children:t})},So=function(e){var t=e.width,n=void 0===t?"100%":t,r=e.height,i=void 0===r?"100%":r,s=e.title,o=e.description,l=e.learnMoreLink,d=e.disabled,u=void 0!==d&&d,h=e.onSelect,b=e.selected,f=void 0===b||b,m=e.isSearchPage,x=void 0!==m&&m,g=Object(a.useState)(!1),O=Object(c.a)(g,2),v=O[0],y=O[1],w=Object(a.useRef)();return Object(E.jsxs)(p.a,{ref:w,sx:{width:n,height:i,position:"relative",cursor:u?"default":"pointer",display:"flex",flexDirection:"column",justifyContent:"center"},onMouseEnter:function(){return y(!0)},onMouseLeave:function(){return y(!1)},children:[!u&&v&&Object(E.jsx)(p.a,{style:{background:"linear-gradient(#4F83CC, #01579B)"},sx:{position:"absolute",width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",borderRadius:"1.2rem",cursor:"pointer",opacity:.95,boxShadow:"0px 4px 6px 0px rgba(1, 87, 155, .20), 0px 0px 1px 0px rgba(1, 87, 155, .32)"},children:Object(E.jsxs)(p.a,{sx:{margin:"auto",width:"70%",height:"auto",display:"flex",flexDirection:"column",justifyContent:"space-evenly",gap:"5px"},children:[!x&&Object(E.jsx)(ko,{content:"Select",onClick:h}),Object(E.jsx)(ko,{content:"Learn More",link:l,onClick:function(e){return e.stopPropagation()}}),u&&Object(E.jsx)(j.a,{sx:{color:_.a.primary[900],fontSize:"12px",textDecoration:"underline",textAlign:"center"},children:"Model unavailable for mapping"})]})}),u&&Object(E.jsxs)(p.a,{style:{background:"linear-gradient(#e7e7e7, #d0d0d0)"},sx:{position:"absolute",width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",borderRadius:"1.2rem",cursor:"pointer",opacity:.95},children:[!v&&Object(E.jsx)(j.a,{sx:{position:"absolute",fontSize:"12px",fontWeight:"bold",color:_.a.neutral[900],textAlign:"center",left:"28%"},children:"Not Compatible"}),Object(E.jsx)(p.a,{sx:{margin:"auto",width:"70%",height:"auto",display:"flex",flexDirection:"column",justifyContent:"space-evenly",gap:"5px"},children:v&&Object(E.jsx)(ko,{content:"Learn More",link:l,bg:_.a.neutral[800],color:_.a.neutral[800],onClick:function(e){return e.stopPropagation()},bgHover:_.a.neutral[100],colorHover:_.a.neutral[600]})})]}),!u&&Object(E.jsxs)(p.a,{sx:{width:"100%",height:"225px",display:"flex",flexDirection:"column",p:"1.2rem",boxShadow:v?"none":"0px 0px 10px rgba(0, 0, 0, 0.15)",borderRadius:"1.2rem",borderStyle:"solid",borderColor:f?"#008BF5":"transparent",borderWidth:"4px"},children:[Object(E.jsx)(j.a,{sx:{fontSize:"1.4rem",fontWeight:"bold"},children:"".concat(s)}),Object(E.jsx)(j.a,{className:"modelDescription",sx:{paddingTop:"10px",fontSize:"1rem",color:_.a.neutral[800],display:"-webkit-box",overflow:"hidden",WebkitBoxOrient:"vertical",WebkitLineClamp:2},children:o})]}),u&&Object(E.jsxs)(p.a,{sx:{width:"100%",height:"100%",display:"flex",flexDirection:"column",p:"1.2rem",borderRadius:"1.2rem"},children:[Object(E.jsx)(j.a,{sx:{fontSize:"1.4rem",fontWeight:"bold"},children:s}),Object(E.jsx)(j.a,{sx:{fontSize:"1rem",color:_.a.neutral[800]},children:o})]})]})};function Io(e){var t=e.width,n=void 0===t?"100%":t,r=e.height,i=void 0===r?"100%":r,s=e.title,o=e.atlasId,l=e.imgLink,d=e.modalities,u=(e.cellsInReference,e.species),h=e.learnMoreLink,b=e.onSelect,f=e.selected,m=void 0!==f&&f,x=e.disabled,g=void 0!==x&&x,O=e.isSearchPage,v=void 0!==O&&O,y=Object(a.useState)(!1),w=Object(c.a)(y,2),C=w[0],k=w[1],S=Object(a.useRef)(),I=(Object(et.useHistory)().location.pathname,function(){return d[0].length<10?d:"".concat(d[0].split(",")[0])}),A=function(e,t){return Object(E.jsxs)(p.a,{sx:{display:"flex",flexDirection:t.length>10?"column":"row",gap:"5%"},children:[Object(E.jsx)(j.a,{sx:{fontSize:"1rem",fontWeight:"bold"},children:e}),Object(E.jsx)(j.a,{children:t})]})};return Object(E.jsx)(p.a,{sx:{width:n,height:i},children:Object(E.jsxs)(p.a,{ref:S,onMouseEnter:function(){return k(!0)},onMouseLeave:function(){return k(!1)},sx:{width:"100%",height:"100%",position:"relative",cursor:g?"default":"pointer"},children:[!g&&C&&Object(E.jsx)(p.a,{style:{background:"linear-gradient(#4F83CC, #01579B)"},sx:{position:"absolute",width:"100%",height:"100%",borderRadius:"1.2rem",display:"flex",flexDirection:"column",justifyContent:"center",cursor:"pointer",opacity:.95,boxShadow:"0px 4px 6px 0px rgba(1, 87, 155, .20), 0px 0px 1px 0px rgba(1, 87, 155, .32)"},children:Object(E.jsxs)(p.a,{sx:{margin:"auto",width:"70%",height:"auto",display:"flex",flexDirection:"column",justifyContent:"space-evenly",gap:"5px"},children:[!v&&Object(E.jsx)(ko,{content:"Select",onClick:b}),Object(E.jsx)(ko,{content:"Learn More",link:h,onClick:function(){localStorage.setItem("atlasId",o)}}),g&&Object(E.jsx)(j.a,{sx:{color:_.a.primary[900],fontSize:"12px",textDecoration:"underline",textAlign:"center"},children:"Atlas unavailable for mapping with selected model"})]})}),g&&Object(E.jsxs)(p.a,{style:{background:"linear-gradient(#e7e7e7, #d0d0d0)"},sx:{position:"absolute",width:"100%",height:"100%",display:"flex",flexDirection:"column",justifyContent:"center",borderRadius:"1.2rem",cursor:"pointer",opacity:.95},children:[!C&&Object(E.jsx)(j.a,{sx:{position:"absolute",fontSize:"12px",fontWeight:"bold",color:_.a.neutral[900],textAlign:"center",left:"28%"},children:"Not Compatible"}),Object(E.jsx)(p.a,{sx:{margin:"auto",width:"70%",height:"auto",display:"flex",flexDirection:"column",justifyContent:"space-evenly",gap:"5px"},children:C&&Object(E.jsx)(ko,{content:"Learn More",link:h,bg:_.a.neutral[800],color:_.a.neutral[800],onClick:function(e){return e.stopPropagation()},bgHover:_.a.neutral[100],colorHover:_.a.neutral[600]})})]}),!g&&Object(E.jsxs)(p.a,{sx:{width:"100%",height:"100%",padding:"1rem",display:"flex",flexDirection:"column",boxShadow:C?"none":"0px 4px 6px 0px rgba(33, 37, 41, .2), 0px 0px 1px 0px rgba(33, 37, 41, .32)",borderRadius:"1.2rem",justifyContent:"center",borderStyle:"solid",borderColor:m?"#008BF5":"transparent",borderWidth:"4px"},children:[Object(E.jsx)(j.a,{sx:{fontSize:"1.4rem",fontWeight:"bold"},children:s}),Object(E.jsx)(p.a,{component:"img",src:l,alt:"Atlas preview img",sx:{width:"90%",objectFit:"cover",alignSelf:"center"}}),Object(E.jsxs)(p.a,{sx:{display:"flex",flexDirection:"column",m:"5px ",justifyContent:"space-evenly",height:"100%"},children:[A("Modalities",I()),A("Species",u)]})]}),g&&Object(E.jsxs)(p.a,{sx:{width:"100%",height:"100%",display:"flex",flexDirection:"column",p:"1.2rem",borderRadius:"1.2rem"},children:[Object(E.jsx)(j.a,{sx:{fontSize:"1.4rem",fontWeight:"bold"},children:s}),Object(E.jsx)(p.a,{component:"img",src:l,alt:"Atlas preview img",sx:{width:"90%",objectFit:"cover",alignSelf:"center"}}),Object(E.jsxs)(p.a,{sx:{display:"flex",flexDirection:"column",m:"5px ",justifyContent:"space-evenly",height:"100%"},children:[A("Modalities",I()),A("Species",u)]})]})]})})}var Ao=n(574),_o=n.n(Ao),Eo=function(e){var t=e.atlases,n=e.path,a=e.selectedAtlas,r=void 0===a?null:a,i=e.handleAtlasSelection,s=void 0===i?null:i,o=e.selectedModel,c=void 0===o?null:o,l=e.isSearchPage,d=void 0!==l&&l;return Object(E.jsx)(p.a,{className:_o.a.atlasContainer,mb:"2em",pb:"1.5em",sx:{minHeight:"50vh"},children:Object(E.jsx)(Re.a,{container:!0,spacing:3,children:t?t.map((function(e){return Object(E.jsx)(Re.a,{item:!0,xs:12,sm:6,md:4,lg:3,children:Object(E.jsx)(Io,{atlasId:e._id,imgLink:e.previewPictureURL,species:e.species,modalities:e.modalities,title:e.name,learnMoreLink:"".concat(n,"/atlases/").concat(e._id),onSelect:function(){s&&s(e)},selected:r&&r.name===e.name,disabled:c&&!e.compatibleModels.some((function(e){return e.toLowerCase()===c.name.toLowerCase()})),isSearchPage:d})},e._id)})):Object(E.jsx)("div",{})})})},Do=n(575),Ro=n.n(Do),Fo=function(e){var t=e.models,n=e.path,a=e.compatibleModels,r=void 0===a?null:a,i=e.selectedModel,s=void 0===i?null:i,o=e.handleModelSelection,c=void 0===o?null:o,l=e.isSearchPage,d=void 0!==l&&l;return Object(E.jsx)(p.a,{className:Ro.a.cardsContainer,mb:"2em",pb:"1.5em",sx:{minHeight:"50vh"},children:Object(E.jsx)(Re.a,{container:!0,spacing:3,children:t&&t.map((function(e){return Object(E.jsx)(Re.a,{item:!0,xs:12,sm:6,md:4,lg:3,children:Object(E.jsx)(So,{title:e.name,description:e.description,learnMoreLink:"".concat(n,"/models/").concat(e._id),disabled:r&&(!r.map((function(e){return e.toLowerCase()})).includes(e.name.toLowerCase())||0==r.length),onSelect:function(){c&&c(e)},selected:s&&s.name===e.name,isSearchPage:d})},e._id)}))})})},To=n(917),Bo=function(){var e=Object(u.useParams)().id,t=Object(a.useState)(null),n=Object(c.a)(t,2),r=n[0],i=n[1];return Object(a.useEffect)((function(){fe.default.get("/atlas/".concat(e,"/visualization")).then((function(e){return i(e)}))}),[]),Object(E.jsxs)(To.a,{sx:{height:500},children:[!r&&Object(E.jsx)(Tn.a,{}),r&&Object(E.jsx)(qs,{dataUrl:r.data,onlyUmap:!0})]})},Po=function(e){var t=e.path,n=e.atlases,a=e.models,r=e.handleSelectAtlases,i=e.handleSelectModels;return Object(E.jsxs)(u.Switch,{children:[Object(E.jsx)(u.Route,{exact:!0,path:"".concat(t,"/atlases"),render:function(){return n}}),Object(E.jsx)(u.Route,{exact:!0,path:"".concat(t,"/models"),render:function(){return a}}),Object(E.jsx)(u.Route,{exact:!0,path:"".concat(t,"/models/:id"),render:function(){return Object(E.jsx)(pa,{handleSelect:i})}}),Object(E.jsx)(u.Route,{exact:!0,path:"".concat(t,"/atlases/:id/visualization"),render:function(){return Object(E.jsx)(Bo,{})}}),Object(E.jsx)(u.Route,{exact:!0,path:"".concat(t,"/atlases/:id"),render:function(){return Object(E.jsx)(Ra,{handleSelect:r})}}),Object(E.jsx)(u.Redirect,{to:"".concat(t,"/atlases")})]})};var No=function(e){var t=e.searchResult,n=e.searchCategory,a=e.searchedKeyword,r=e.user,i=e.fetchSearchHandler,s=Object(u.useRouteMatch)().path,o=function(e){return Object(E.jsx)(bo,{listItemWrapper:e,searchResult:t,user:r,fetchSearchHandler:i})},c=Object(E.jsx)(Eo,{atlases:t,searchedKeyword:a,path:"/sequencer/search",isSearchPage:!0}),l=Object(E.jsx)(Fo,{models:t,searchedKeyword:a,path:"/sequencer/search",isSearchPage:!0});return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(Co,{count:t.length,searchedEntity:n,searchedKeyword:a}),Object(E.jsxs)(u.Switch,{children:[Object(E.jsx)(u.Route,{path:de(s,"teams"),children:o(vo)}),Object(E.jsx)(u.Route,{path:de(s,"institutions"),children:o(yo)}),Object(E.jsx)(u.Route,{path:de(s,"users"),children:o(wo)}),Object(E.jsx)(u.Route,{children:Object(E.jsx)(Po,{atlases:c,models:l,path:"/sequencer/search"})})]})]})},Lo=n(457),Mo=n(395),zo=n(466);var Uo=function(e){var t=e.label,n=e.value,a=e.onChange,r=e.defaultValue,i=e.items;return Object(E.jsxs)(ot.a,{direction:"row",spacing:2,alignItems:"center",justifyContent:"flex-end",children:[Object(E.jsx)(j.a,{sx:{fontWeight:"bold"},children:t}),Object(E.jsx)(Mo.a,{value:n||r,onChange:a,displayEmpty:!0,children:i.map((function(e){return Object(E.jsx)(zo.a,{value:e.value,children:e.label})}))})]})},Wo=[{label:"Name",value:"name"},{label:"Last updated",value:"updatedAt"}],Go=function(e){var t=e.sortBy,n=e.onChange,a=e.sortItems,r=void 0===a?Wo:a,i=e.defaultValue,s=void 0===i?"name":i,o=r.find((function(e){return e.value===t}));return Object(E.jsx)(Uo,{label:"Sort by",value:o&&o.value,defaultValue:s,onChange:function(e){return n("sortBy",e.target.value)},items:r})},qo=function(e){var t=e.visibility,n=e.onChange;return Object(E.jsx)(Uo,{label:"Access rights",value:t,defaultValue:"",onChange:function(e){return n("visibility",e.target.value)},items:[{label:"All",value:""},{label:"Public",value:"PUBLIC"},{label:"Private",value:"PRIVATE"},{label:"By institution",value:"BY_INSTITUTION"}]})},Ho=function(e){var t=e.children;return Object(E.jsx)(p.a,{sx:{margin:.5},children:t})},Qo=function(e){var t=e.sortBy,n=e.onChange;return Object(E.jsx)(Lo.a,{sx:{alignItems:"start"},children:Object(E.jsx)(Ho,{children:Object(E.jsx)(Uo,{label:"Sort by",value:t,defaultValue:"name",onChange:function(e){return n("sortBy",e.target.value)},items:[{label:"Name",value:"name"},{label:"Last updated",value:"lastUpdated"},{label:"Number of Cells",value:"numberOfCells"}]})})})},Vo=function(e){var t=e.children;return Object(E.jsx)(p.a,{sx:{margin:.5},children:t})};var Yo=function(e){var t=e.path,n=e.searchParams,a=e.updateQueryParams;return Object(E.jsx)(L,{children:Object(E.jsxs)(Lo.a,{children:[Object(E.jsxs)(u.Route,{path:[de(t,"teams"),de(t,"institutions"),de(t,"models")],children:[Object(E.jsx)(Vo,{children:Object(E.jsx)(Go,{sortBy:n.get("sortBy"),onChange:function(e,t){return a(e,t)}})}),Object(E.jsx)(u.Route,{path:de(t,"teams"),children:Object(E.jsx)(Vo,{children:Object(E.jsx)(qo,{visibility:n.get("visibility"),onChange:function(e,t){return a(e,t)}})})})]}),Object(E.jsx)(u.Route,{path:de(t,"atlases"),children:Object(E.jsx)(Qo,{sortBy:n.get("sortBy"),onChange:function(e,t){return a(e,t)}})}),Object(E.jsx)(u.Route,{path:de(t,"users"),children:Object(E.jsx)(Vo,{children:Object(E.jsx)(Go,{sortBy:n.get("sortBy"),onChange:function(e,t){return a(e,t)},sortItems:[{label:"Name",value:"name"}],defaultValue:"name"})})})]})})};function Ko(e,t,n){var a=e.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}));return"name"!==n.get("sortBy")&&null!==n.get("sortBy")||a.sort((function(e,t){var n=e.name.toUpperCase(),a=t.name.toUpperCase();return n<a?-1:n>a?1:0})),a}function Jo(e,t,n){var a=e.filter((function(e){return e.name.toLowerCase().includes(t.toLowerCase())}));return"name"===n.get("sortBy")||null===n.get("sortBy")?a.sort((function(e,t){var n=e.name.toUpperCase(),a=t.name.toUpperCase();return n<a?-1:n>a?1:0})):"numberOfCells"===n.get("sortBy")&&a.sort((function(e,t){return e.numberOfCells-t.numberOfCells})),a}var Zo=function(){var e=F(),t=Object(c.a)(e,1)[0],n=Object(u.useHistory)(),r=Object(u.useLocation)().search,i=Object(u.useRouteMatch)().path,s=new URLSearchParams(r),o=Object(u.useParams)().searchCategory,l=s.get("keyword")||"",d=Object(a.useState)([]),h=Object(c.a)(d,2),j=h[0],b=h[1],f=Object(a.useState)(""),m=Object(c.a)(f,2),x=m[0],g=m[1],O=x!==o,v=function(e,t){var a=new URLSearchParams(n.location.search);t?a.set(e,t):a.delete(e),n.push({pathname:n.location.pathname,search:a.toString()})},y=Object(a.useCallback)(Object(P.a)(B.a.mark((function e(){var t,n,a,r;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.prev=0,t=[],n=new URLSearchParams(s),a=Object.fromEntries(n),e.t0=o,e.next="users"===e.t0?7:"teams"===e.t0?12:"institutions"===e.t0?16:"projects"===e.t0?20:"atlases"===e.t0?24:"models"===e.t0?29:34;break;case 7:return e.next=9,Xs.getUsers(a);case 9:return r=e.sent,t=r.filter((function(e){return"temporary_user"!==e.note})),e.abrupt("break",34);case 12:return e.next=14,Sn.getTeams(a);case 14:return t=e.sent,e.abrupt("break",34);case 16:return e.next=18,Hn.getInstitutions(a);case 18:return t=e.sent,e.abrupt("break",34);case 20:return e.next=22,Ir.getProjects(a);case 22:return t=e.sent,e.abrupt("break",34);case 24:return e.next=26,Oa.getAtlases();case 26:return t=Jo(t=e.sent,a.keyword||"",n),e.abrupt("break",34);case 29:return e.next=31,li.getModels();case 31:return t=Ko(t=e.sent,a.keyword||"",n),e.abrupt("break",34);case 34:b(t),e.next=41;break;case 37:e.prev=37,e.t1=e.catch(0),b([]),console.log(e.t1);case 41:return e.prev=41,g(o),e.finish(41);case 44:case"end":return e.stop()}}),e,null,[[0,37,41,44]])}))),[o,r]);return Object(a.useEffect)((function(){y()}),[y]),Object(E.jsx)(cn,{title:"Search",children:Object(E.jsxs)(p.a,{sx:{margin:"auto",maxWidth:1200},children:[Object(E.jsx)(p.a,{sx:{width:{xs:"100%",sm:"100%",md:"40%"},marginBlock:"2%"},children:Object(E.jsx)(gi,{filterComponent:Object(E.jsx)(Yo,{searchParams:s,updateQueryParams:v,path:i}),handleSearch:function(e){v("keyword",e)},value:l,padding:"0px"})}),Object(E.jsx)(po,{value:o,searchParams:s,path:i}),O&&Object(E.jsx)(p.a,{sx:{display:"flex",justifyContent:"center"},children:Object(E.jsx)(Tn.a,{})}),!O&&Object(E.jsx)(No,{searchResult:j,searchCategory:o,searchedKeyword:l,user:t,fetchSearchHandler:y})]})})},Xo=function(e){var t=e.children;return Object(E.jsx)(p.a,{sx:{margin:.5},children:t})},$o=function(e){e.path;var t=e.searchParams,n=e.updateQueryParams;return Object(E.jsx)(L,{children:Object(E.jsxs)(Lo.a,{children:[Object(E.jsx)(u.Route,{path:"/references/atlases",children:Object(E.jsx)(Qo,{sortBy:t.get("sortBy"),onChange:function(e,t){return n(e,t)}})}),Object(E.jsx)(u.Route,{path:"/references/models",children:Object(E.jsx)(Xo,{children:Object(E.jsx)(Go,{sortBy:t.get("sortBy"),onChange:function(e,t){return n(e,t)}})})}),Object(E.jsx)(u.Route,{path:"/references/datasets",children:Object(E.jsx)(Xo,{children:Object(E.jsx)(Go,{sortBy:t.get("sortBy"),onChange:function(e,t){return n(e,t)}})})})]})})},ec=n(576),tc=n.n(ec);function nc(e){var t=e.fontSize,n=e.actions,a=e.path,r=e.elems,i=e.p,s=void 0===i?0:i,o=r||a.split("/"),c=.7*t,l=function(e){for(var t="",n=1;n<=e;n++)t="".concat(t,"/").concat(o[n]);return t},u=function(e,a){return 0===a?Object(E.jsx)("div",{},a):Object(E.jsxs)(p.a,{sx:{display:"flex",flexDirection:"row",alignItems:"center"},children:[a!=o.length-1?Object(E.jsx)(p.a,{component:d.b,to:l(a),sx:{cursor:"pointer",textDecoration:"none"},onClick:function(){return function(e){if(n){var t=n[e];t&&"function"===typeof t&&t()}}(e)},children:Object(E.jsx)(j.a,{fontWeight:"bold",fontSize:"".concat(t,"em"),sx:{color:_.a.neutral[500],textTransform:"capitalize"},children:e})}):Object(E.jsx)(p.a,{children:Object(E.jsx)(j.a,{fontWeight:"bold",fontSize:"".concat(t,"em"),sx:{color:_.a.primary[800],textTransform:"capitalize"},children:e})}),a===o.length-1?Object(E.jsx)(E.Fragment,{}):Object(E.jsx)(tc.a,{sx:{width:"".concat(t*c,"em"),height:"".concat(t*c,"em"),margin:"0em ".concat(.2*t,"em")}})]},a)};return Object(E.jsx)(p.a,{sx:{display:"flex",flexDirection:"row",alignItems:"center",paddingLeft:s,width:"100%"},children:o.map((function(e,t){return u(e,t)}))})}var ac=n(455),rc=n(577),ic=n.n(rc),sc=n(400),oc=n.n(sc),cc=n(66),lc=n.n(cc);var dc=function(e){var t=e.mapperAtlas,n=e.mapperModel,r=e.handleAtlasSelection,i=e.handleModelSelection,s=e.open,o=e.fabOnClick,l=e.handleMap,d=Object(a.useState)(t),u=Object(c.a)(d,2),h=u[0],b=u[1],f=Object(a.useState)(n),m=Object(c.a)(f,2),x=m[0],g=m[1];return Object(a.useEffect)((function(){b(t),g(n)}),[t,n]),Object(E.jsxs)(p.a,{className:lc.a.container,children:[Object(E.jsxs)(p.a,{className:lc.a.borderContainer,sx:{display:s?"grid":"none",boxShadow:"0px 4px 6px rgba(0, 0, 0, 0.25)"},children:[Object(E.jsx)(j.a,{className:lc.a.title,children:"Mapper"}),Object(E.jsx)(bt.a,{className:lc.a.divider}),Object(E.jsx)(j.a,{children:"Selected Atlas"}),Object(E.jsxs)(ot.a,{direction:"row",children:[Object(E.jsx)(j.a,{className:lc.a.filename,children:h||"None"}),Object(E.jsx)(C.a,{className:lc.a.iconButton,variant:"contained",component:"span",onClick:function(){r(null),b(null)},disabled:!h,children:Object(E.jsx)(oc.a,{className:h?lc.a.icon:lc.a.disabledIcon})})]}),Object(E.jsx)(bt.a,{className:lc.a.divider}),Object(E.jsx)(j.a,{children:"Selected Model"}),Object(E.jsxs)(ot.a,{direction:"row",children:[Object(E.jsx)(j.a,{className:lc.a.filename,children:x||"None"}),Object(E.jsx)(C.a,{className:lc.a.iconButton,variant:"contained",component:"span",onClick:function(){i(null),g(null)},disabled:!x,children:Object(E.jsx)(oc.a,{className:x?lc.a.icon:lc.a.disabledIcon})})]}),Object(E.jsx)(bt.a,{className:lc.a.divider}),Object(E.jsx)(p.a,{className:lc.a.buttonBox,children:Object(E.jsx)(q.default,{type:"primary",disabled:!x||!h,onClick:l,children:"Create Project"})})]}),Object(E.jsx)(p.a,{className:lc.a.mapperBox,children:Object(E.jsx)(ac.a,{className:lc.a.mapIcon,onClick:o,children:Object(E.jsx)(ic.a,{})})})]})},uc=[{label:"ATLASES",path:"/references/atlases"},{label:"MODELS",path:"/references/models"}],hc=function(){var e=Object(a.useState)(0),t=Object(c.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(null),s=Object(c.a)(i,2),o=s[0],l=s[1],d=Object(a.useState)(null),h=Object(c.a)(d,2),j=h[0],b=h[1],f=Object(a.useState)(!1),m=Object(c.a)(f,2),x=m[0],g=m[1],O=Object(u.useLocation)(),v=O.search,y=O.pathname,w=new URLSearchParams(v),C=w.get("keyword")||"",k=Object(u.useRouteMatch)().path,S=Object(a.useState)([]),I=Object(c.a)(S,2),A=I[0],_=I[1],D=Object(a.useState)([]),R=Object(c.a)(D,2),T=R[0],B=R[1],P=F(),N=Object(c.a)(P,2),L=N[0],M=(N[1],Object(u.useHistory)()),z=function(e,t){var n=new URLSearchParams(M.location.search);t?n.set(e,t):n.delete(e),M.push({pathname:M.location.pathname,search:n.toString()})},U=function(e){l(e),j||(M.push("".concat(k,"/models")),r(1))},W=function(e){b(e),o||(M.push("".concat(k,"/atlases")),r(0))};Object(a.useEffect)((function(){Oa.getAtlases().then((function(e){return _(e)})).catch((function(e){return console.log(e)})),ua.getModels().then((function(e){return B(e)})).catch((function(e){return console.log(e)}))}),[]);var G=function(e){z("keyword",e)},q=function(e){r(e),G("")};Object(a.useEffect)((function(){(o||j)&&g(!0),o||j||g(!1)}),[o,j]);var H=function(){return Object(E.jsxs)(p.a,{children:[Object(E.jsx)(za,{value:n,onValueChange:q,tabsInfo:uc}),0===n?Object(E.jsx)(Eo,{atlases:Jo(A,C,w),path:k,handleAtlasSelection:U,selectedAtlas:o,selectedModel:j}):null,1===n?Object(E.jsx)(Fo,{models:Ko(T,C,w),path:k,handleModelSelection:W,selectedModel:j,compatibleModels:o&&o.compatibleModels}):null]})},Q=Object(a.useContext)(He),V=y.split("/"),Y=V.map((function(e,t){if(3===t){if("atlases"===V[2])return A.filter((function(t){return t._id===e}))[0]?A.filter((function(t){return t._id===e}))[0].name:e;if("models"===V[2])return T.filter((function(t){return t._id===e}))[0]?T.filter((function(t){return t._id===e}))[0].name:e}return e}));return Object(E.jsxs)(p.a,{sx:{display:"flex",flexDirection:"column",justifyContent:"space-between"},children:[Object(E.jsxs)(p.a,{sx:{display:"flex",flexDirection:"column"},children:[Q.loginVisible&&Object(E.jsx)(Ye,{}),Q.registerVisible&&Object(E.jsx)(tt,{}),Q.forgetVisible&&Object(E.jsx)(Ve,{}),Object(E.jsx)(p.a,{children:Object(E.jsx)(Ae,{position:"relative",onLoginClicked:function(){Q.switchRegister(!1),Q.switchLogin(!0)},onSignUpClicked:function(){Q.switchLogin(!1),Q.switchRegister(!0)},executeScroll:function(){return L?M.push({pathname:"/sequencer/help"}):M.push({pathname:"/",state:{contact_us:!0}})}})}),Object(E.jsxs)(ot.a,{direction:{xs:"column",sm:"column",md:"row"},sx:{alignSelf:"center",width:{sx:"90%",md:"60%"},marginTop:"2%",justifyContent:"space-between"},children:[Object(E.jsx)(nc,{p:4,elems:Y,fontSize:1,actions:{references:function(){return r(0)}}}),Object(E.jsx)(p.a,{sx:{alignSelf:"center",width:{xs:"95%",md:"60%"},marginBlock:"2%"},children:Object(E.jsx)(gi,{filterComponent:Object(E.jsx)($o,{searchParams:w,updateQueryParams:z,path:k}),handleSearch:G,value:C,padding:"0px",visible:y.split("/").slice(-1).includes("atlases")||y.split("/").slice(-1).includes("models")})})]}),Object(E.jsx)(p.a,{sx:{display:"flex",flexDirection:"column",alignSelf:"center",width:{xs:"90%",md:"60%"}},children:Object(E.jsx)(Po,{atlases:A&&H(),models:T&&H(),path:"/references",handleSelectAtlases:U,handleSelectModels:W})})]}),Object(E.jsx)(De,{sx:{marginTop:"auto",transform:"translate(0px, 100px)"}}),Object(E.jsx)(dc,{mapperAtlas:o?o.name:null,mapperModel:j?j.name:null,handleAtlasSelection:U,handleModelSelection:W,open:x,fabOnClick:function(){return g(!x)},handleMap:function(){M.push("/genemapper/create?atlas=".concat(o._id,"&model=").concat(j._id)),g(!1)},user:L})]})},pc=n(580),jc=n.n(pc),bc=n(335),fc=n.n(bc),mc=function(e){var t=e.width,n=void 0===t?"100%":t,a=e.height,r=void 0===a?"100%":a,i=e.children,s=e.flex,o=void 0===s?"column":s,c=e.bg,l=void 0===c?"white":c,d=e.hoverStyles,u=void 0===d?{}:d,h=e.padding,j=void 0===h?"0.5em":h;e.marginLeft;return Object(E.jsx)(p.a,{sx:{width:n,height:r,backgroundColor:l,borderRadius:"0.625rem",":hover":u},children:Object(E.jsx)(p.a,{sx:{boxShadow:"0px 0px 4px rgba(0,0,0, 0.25)",p:j,borderRadius:"0.625rem",display:"flex",flexDirection:o},children:i})})},xc=n(122),gc=n.n(xc);var Oc=function(e){var t=e.imageComponent,n=e.imageURL,a=e.enforceImage,r=e.title,i=e.description,s=e.nextToTitle,o=e.trailing,c=e.onClick,l=t;if(n||a){if(t)throw new Error("You can only have either imageComponent or imageURL.");l=Object(E.jsx)(N.a,{src:n,alt:r,sx:{backgroundColor:U(r||""),width:42,height:42},children:(r||"?")[0]})}return Object(E.jsx)(mc,{children:Object(E.jsxs)("div",{className:"".concat(gc.a.cardContent,"\n        ").concat(c?gc.a.clickable:""),onClick:c,onKeyPress:c,role:"button",tabIndex:0,children:[Object(E.jsxs)("div",{className:gc.a.start,children:[Object(E.jsx)("div",{className:gc.a.cardImageWrapper,children:l}),Object(E.jsxs)("div",{className:gc.a.text,children:[Object(E.jsxs)("div",{className:gc.a.titleRow,children:[Object(E.jsx)("h3",{className:gc.a.title,children:r}),s]}),Object(E.jsx)("div",{className:gc.a.description,children:i&&Object(E.jsx)("p",{style:{textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",width:"250px"},children:i})})]})]}),o&&Object(E.jsx)("div",{className:gc.a.trailing,children:o})]})})};var vc=function(e){var t=e.member,n=e.nextToNameBuilder,a=e.trailingBuilder,r=e.overrideProfilePicture,i=void 0===r?null:r,s=Object(u.useHistory)();return Object(E.jsx)(Oc,{imageURL:i||t.avatarUrl,enforceImage:!0,title:"".concat(t.firstName," ").concat(t.lastName),description:t.email,nextToTitle:n?n(t):null,trailing:(a||function(){return null})(t),onClick:function(){return s.push("/sequencer/users/".concat(t._id))}})};var yc=function(e){var t=e.isLoading,n=e.members,a=e.nextToNameBuilder,r=e.trailingBuilder;return Object(E.jsx)(Pn,{isLoading:t,elements:n,cardBuilder:function(e){return Object(E.jsx)(vc,{member:e,nextToNameBuilder:a,trailingBuilder:r})},noElementsMessage:"No members."})};var wc=function(e){var t=e.institution,n=e.member,r=e.updateInstitution,i=Object(a.useState)(!1),s=Object(c.a)(i,2),o=s[0],l=s[1],d=function(){return l(!1)};function u(){return(u=Object(P.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hn.removeMemberFromInstitution(t.id,n.id);case 2:r(),d();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(q.default,{type:"critical",onClick:function(){return l(!0)},children:"Remove"}),Object(E.jsxs)(K,{isOpen:o,setOpen:function(e){return!e&&d()},children:[Object(E.jsx)(J,{children:"Remove Member"}),Object(E.jsx)(X.a,{children:Object(E.jsxs)(mn.a,{children:['Do you really want to remove the member "',"".concat(n.firstName," ").concat(n.lastName),'" from the institution "',t.name,'"?']})}),Object(E.jsxs)(Z.a,{children:[Object(E.jsx)(q.default,{type:"tertiary",onClick:d,children:"Cancel"}),Object(E.jsx)(q.default,{type:"critical",onClick:function(){return function(){return u.apply(this,arguments)}()},autoFocus:!0,children:"Remove"})]})]})]})},Cc=n(578),kc=n.n(Cc);var Sc=function(e){var t=e.institution,n=e.member,r=e.updateInstitution,i=Object(a.useState)(!1),s=Object(c.a)(i,2),o=s[0],l=s[1],d=function(){return l(!1)};function u(){return(u=Object(P.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hn.makeInstitutionAdmin(t.id,n.id);case 2:r(),d();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function h(){return(h=Object(P.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hn.removeInstitutionAdmin(t.id,n.id);case 2:r(),d();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var p=!!t.adminIds&&t.adminIds.includes(n.id);return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(q.default,{type:"primary",onClick:function(){return l(!0)},children:p?"Remove Admin":"Make Admin"}),Object(E.jsxs)(K,{isOpen:o,setOpen:function(e){return!e&&d()},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(E.jsx)(J,{id:"alert-dialog-title",children:p?"Remove Admin":"Make Admin"}),Object(E.jsx)(X.a,{children:Object(E.jsx)(mn.a,{id:"alert-dialog-description",children:"Do you really want to ".concat(p?"remove":"make"," ").concat(n.firstName," \n            ").concat(n.lastName," ").concat(p?"as":""," an admin of ").concat(t.name,"?")})}),Object(E.jsxs)(Z.a,{children:[Object(E.jsx)(q.default,{type:"tertiary",onClick:d,children:"Cancel"}),Object(E.jsx)(q.default,{type:"critical",onClick:p?function(){return function(){return h.apply(this,arguments)}()}:function(){return function(){return u.apply(this,arguments)}()},autoFocus:!0,children:p?"Remove":"Make"})]})]})]})};var Ic=function(e){var t=e.institution,n=e.updateInstitution,r=F(),i=Object(c.a)(r,1)[0],s=Object(a.useState)([]),o=Object(c.a)(s,2),l=o[0],d=o[1],u=Object(a.useState)(!0),h=Object(c.a)(u,2),p=h[0],j=h[1];return Object(a.useEffect)((function(){j(!0),Hn.getMembers(t.id).then((function(e){d(e),j(!1)}))}),[t]),p?Object(E.jsx)(Tn.a,{}):Object(E.jsx)(yc,{members:l,nextToNameBuilder:function(e){return Object(E.jsx)("span",{className:kc.a.accessRightIndicator,children:-1!==t.adminIds.indexOf(e.id)?"admin":"member"})},trailingBuilder:function(e){return t.adminIds.indexOf(i._id)>-1&&i._id!==e.id?Object(E.jsxs)(ot.a,{direction:"row",spacing:1,children:[Object(E.jsx)(Sc,{institution:t,member:e,updateInstitution:n}),Object(E.jsx)(wc,{institution:t,member:e,updateInstitution:n})]}):null}})},Ac=n(123),_c=n.n(Ac),Ec=n(401),Dc=n.n(Ec),Rc=n(579),Fc=n.n(Rc);var Tc=function(e){var t=e.team,n=Object(u.useHistory)(),a=t.name,r=t.description,i=t.visibility;return Object(E.jsx)(W,{title:a,description:r,nextToTitle:Object(E.jsx)("span",{className:Fc.a.accessRightIndicator,children:i}),onClick:function(){return n.push("/sequencer/teams/".concat(t.id))}})};var Bc=function(e){var t=e.onLeft,n=e.institution,r=Object(a.useState)([]),i=Object(c.a)(r,2),s=i[0],o=i[1],l=Object(a.useState)(!1),d=Object(c.a)(l,2),u=d[0],h=d[1];return Object(a.useEffect)((function(){Sn.getInstitutionTeams(n.id).then((function(e){o(e),h(!0)}))}),[]),u?0===s.length?Object(E.jsx)(Ne.a,{severity:"info",children:"This institution does not have any teams yet. Admins can create and add teams via the Community page."}):Object(E.jsxs)("div",{className:Dc.a.content,children:[0===s.length?"No teams.":"",s.map((function(e){return Object(E.jsxs)("div",{children:[Object(E.jsx)(Tc,{team:e,onLeft:t,institution:n}),Object(E.jsx)("div",{className:Dc.a.cardSpacing})]},e.id)}))]}):Object(E.jsx)(Tn.a,{})};function Pc(e){var t=e.institution,n=e.open,a=e.onClose,r=e.onChange;function i(){return(i=Object(P.a)(B.a.mark((function e(n){var i;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(oe.a,"/institutions/").concat(t.id,"/profilepicture"),{method:"POST",headers:Object(w.a)(Object(w.a)({},le()),{},{"content-type":"image/png"}),body:n});case 2:if(200===(i=e.sent).status){e.next=8;break}if(413!==i.status){e.next=7;break}return alert("This image is too large. Please provide one with a smaller file size."),e.abrupt("return");case 7:throw Error("Couldn't upload institution profile picture");case 8:return e.t0=r,e.next=11,i.text();case 11:e.t1=e.sent,(0,e.t0)(e.t1),a();case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function s(){return(s=Object(P.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(oe.a,"/institutions/").concat(t.id,"/profilepicture"),{method:"DELETE",headers:le()});case 2:r(null),a();case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(E.jsx)(se,{open:n,onClose:a,title:"Upload Institution Profile Image",maxFileSizeMB:5,preview:function(e){return Object(E.jsx)(Kn,{institution:Object(w.a)(Object(w.a)({},t),{},{profilePictureURL:e}),replaceTrailing:function(){return Object(E.jsx)(E.Fragment,{})}})},additionalButtons:[{text:"Reset",func:function(){return s.apply(this,arguments)}}],onUpload:function(e){return function(e){return i.apply(this,arguments)}(e)}})}var Nc=n(402),Lc=n.n(Nc);var Mc=function(e){var t=e.editable,n=void 0!==t&&t,r=e.institution,i=e.onChange,s=200,o=Object(a.useState)(!1),l=Object(c.a)(o,2),d=l[0],u=l[1];return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)("div",{className:Lc.a.profileImage,style:{height:"".concat(s,"px"),width:"".concat(s,"px")},children:[Object(E.jsx)(N.a,{src:r.profilePictureURL,alt:"".concat(r.name),sx:{backgroundColor:U(r.name),width:s,height:s},children:(r.name||"?")[0]}),n&&Object(E.jsx)("div",{className:Lc.a.editButton,onClick:function(){return u(!0)},role:"button",onKeyPress:function(){return u(!0)},tabIndex:0,children:Object(E.jsx)("span",{children:"Edit"})})]}),d&&Object(E.jsx)(Pc,{institution:r,open:d,onClose:function(){u(!1)},onChange:i})]})};function zc(e){var t=e.institution,n=e.open,a=e.onChange,r=e.onClose;function i(){return(i=Object(P.a)(B.a.mark((function e(n){var i;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(oe.a,"/institutions/").concat(t.id,"/backgroundpicture"),{method:"POST",headers:Object(w.a)(Object(w.a)({},le()),{},{"content-type":"image/png"}),body:n});case 2:if(200===(i=e.sent).status){e.next=8;break}if(413!==i.status){e.next=7;break}return alert("This image is too large. Please provide one with a smaller file size."),e.abrupt("return");case 7:throw Error("Couldn't upload institution background picture");case 8:return e.t0=a,e.next=11,i.text();case 11:e.t1=e.sent,(0,e.t0)(e.t1),r();case 14:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function s(){return(s=Object(P.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(oe.a,"/institutions/").concat(t.id,"/backgroundpicture"),{method:"DELETE",headers:le()});case 2:r();case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(E.jsx)(se,{open:n,onClose:r,title:"Upload Institution Background Image",description:"Please upload a large image that will be used as the background image for your institution.",maxFileSizeMB:8,additionalButtons:[{text:"Reset",func:function(){return s.apply(this,arguments)}}],disableCropping:!0,onUpload:function(e){return function(e){return i.apply(this,arguments)}(e)}})}var Uc=n.p+"static/media/institution-default-background.f2294d54.jpg",Wc=n(334),Gc=n.n(Wc);var qc=function(e){var t=e.institution,n=Object(a.useState)(!1),r=Object(c.a)(n,2),i=r[0],s=r[1],o=Object(a.useState)(!1),l=Object(c.a)(o,2),d=l[0],u=l[1],h=Object(a.useState)(""),p=Object(c.a)(h,2),j=p[0],b=p[1],f=Object(a.useState)(""),m=Object(c.a)(f,2),x=m[0],g=m[1],O=function(){return s(!1)},v=function(e,t){"clickaway"!==t&&u(!1)};return Object(E.jsxs)("div",{children:[Object(E.jsx)(ac.a,{onClick:function(){s(!0),b(""),g("")},"aria-label":"add",sx:{position:"fixed",bottom:"3%",right:"2%"},style:{backgroundColor:"#5676E4"},children:Object(E.jsx)(Gc.a,{style:{color:"white"}})}),Object(E.jsxs)(K,{isOpen:i,setOpen:function(e){return!e&&O()},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",fullWidth:!0,children:[Object(E.jsx)(J,{id:"alert-dialog-title",children:"Invite User"}),Object(E.jsxs)(X.a,{children:[Object(E.jsx)(mn.a,{id:"alert-dialog-description",children:'Invite a user to your institution "'.concat(t.name,'"')}),Object(E.jsx)(Ge.a,{autoFocus:!0,required:!0,margin:"dense",id:"name",label:"Email Address",type:"email",fullWidth:!0,variant:"standard",error:!!x,helperText:x,onChange:function(e){b(e.target.value),g("")}})]}),Object(E.jsxs)(Z.a,{children:[Object(E.jsx)(q.default,{type:"tertiary",onClick:O,children:"Cancel"}),Object(E.jsx)(q.default,{onClick:function(){j&&/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(j)?(u(!0),Hn.inviteMember(t.id,j),O()):g("Please enter an e-mail address.")},autoFocus:!0,children:"Confirm"})]})]}),Object(E.jsx)(Pe.a,{open:d,autoHideDuration:3e3,onClose:v,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:Object(E.jsxs)(Ne.a,{onClose:v,severity:"success",sx:{width:"100%"},children:["Invite to ",j," sent successfully!"]})})]})},Hc=n(336),Qc=n.n(Hc);var Vc=function(){var e,t,n,r=Object(u.useParams)().id,i=Object(a.useState)({}),s=Object(c.a)(i,2),o=s[0],l=s[1],d=F(),h=Object(c.a)(d,1)[0],p=Object(a.useState)(!1),j=Object(c.a)(p,2),b=j[0],f=j[1],m=Object(a.useState)(!1),x=Object(c.a)(m,2),g=x[0],O=x[1],v=Object(a.useState)(!1),y=Object(c.a)(v,2),k=y[0],S=y[1],I=Object(a.useState)(""),A=Object(c.a)(I,2),_=A[0],D=A[1],R=Object(a.useState)(!1),T=Object(c.a)(R,2),N=T[0],L=T[1],M=Object(a.useState)(!1),z=Object(c.a)(M,2),U=z[0],W=z[1],G=function(e,t){"clickaway"!==t&&S(!1)};function V(){return(o.adminIds||[]).includes(h._id)}function K(){return(K=Object(P.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(N){e.next=3;break}return L(!0),e.abrupt("return");case 3:return e.next=5,Hn.updateDetails(r,_);case 5:L(!1),S(!0);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return Object(a.useEffect)((function(){Hn.getInstitution(r).then((function(e){l(e),f(!0)}))}),[]),Object(a.useEffect)((function(){D(o.description)}),[o]),b?Object(E.jsx)(E.Fragment,{children:Object(E.jsxs)("div",{className:_c.a.all,children:[Object(E.jsxs)("div",{className:_c.a.background,style:{backgroundImage:"url(".concat(o.backgroundPictureURL||Uc,")"),resizeMode:"stretch"},children:[Object(E.jsx)("div",{className:_c.a.institutionIcon,children:Object(E.jsx)(Mc,{institution:o,editable:V(),onChange:function(e){l(Object(w.a)(Object(w.a)({},o),{},{profilePictureURL:e}))}})}),Object(E.jsx)("div",{style:{display:"flex",justifyContent:"center",marginBottom:"10px",marginTop:"10px"},children:Object(E.jsx)(Ge.a,{minRows:1,maxRows:1,value:o.name,sx:{input:{textAlign:"center",color:"white",fontSize:40,backgroundColor:"rgba(0,38,68,0.5)",backdropFilter:"blur(10px)",borderRadius:"34px"}},InputProps:{disableUnderline:!0,readOnly:!0},style:{width:"700px"},variant:"standard"})}),Object(E.jsx)("div",{style:{display:"flex",justifyContent:"center"},children:Object(E.jsx)(Ge.a,{minRows:1,maxRows:1,value:o.country,sx:{input:{textAlign:"center",color:"white",fontSize:25,backgroundColor:"rgba(0,38,68,0.5)",backdropFilter:"blur(10px)",borderRadius:"23px"}},InputProps:{disableUnderline:!0,readOnly:!0},style:{width:"300px"},variant:"standard"})}),Object(E.jsxs)("div",{className:_c.a.memberButton,children:[Object(E.jsx)(q.default,{onClick:function(){W(!0)},children:1===(null===(e=o.memberIds)||void 0===e?void 0:e.length)?Object(E.jsxs)("span",{children:[null===(t=o.memberIds)||void 0===t?void 0:t.length," Member"]}):Object(E.jsxs)("span",{children:[null===(n=o.memberIds)||void 0===n?void 0:n.length," Members"]})}),Object(E.jsxs)(H.a,{open:U,fullWidth:!0,children:[Object(E.jsxs)(Q.a,{children:["Member List",Object(E.jsx)(C.a,{onClick:function(){W(!1)},sx:{position:"absolute",left:"90%"},children:Object(E.jsx)(Y.a,{})})]}),Object(E.jsx)(X.a,{style:{maxHeight:"500px"},children:Object(E.jsx)(Ic,{institution:o,updateInstitution:function(){Hn.getInstitution(r).then(l).catch((function(e){console.error(e)}))}})})]})]}),V()&&Object(E.jsxs)("button",{className:_c.a.bgImgEditButton,type:"button",onClick:function(){return O(!0)},children:[Object(E.jsx)("span",{children:"Edit Background"}),Object(E.jsx)(jc.a,{fontSize:"small"})]})]}),Object(E.jsxs)("div",{className:_c.a.innerContent,children:[Object(E.jsxs)("section",{children:[V&&Object(E.jsxs)(q.default,{sx:{position:"static",alignItems:"center",float:"right"},type:N?"secondary":"primary",onClick:function(){return function(){return K.apply(this,arguments)}()},children:[N&&Object(E.jsxs)("div",{children:[Object(E.jsx)("span",{children:"Save Edits"}),Object(E.jsx)(fc.a,{sx:{fontSize:15,marginLeft:"5px"}})]}),!N&&Object(E.jsxs)("div",{children:[Object(E.jsx)("span",{children:"Edit Description"}),Object(E.jsx)(Qc.a,{sx:{fontSize:15,marginLeft:"5px"}})]})]}),Object(E.jsx)("h2",{children:"Description"}),0===_.length?Object(E.jsx)(Ne.a,{severity:"info",children:"Add a description by clicking the Edit Button to the right."}):null,Object(E.jsx)("hr",{}),Object(E.jsx)(Ge.a,{multiline:!0,minRows:3,maxRows:5,value:_,InputProps:{readOnly:!N},style:{width:"100%"},onChange:function(e){D(e.target.value)},variant:"standard"})]}),Object(E.jsxs)("section",{children:[Object(E.jsx)("h2",{children:"Teams"}),Object(E.jsx)("hr",{}),Object(E.jsxs)("div",{className:_c.a.content,children:[Object(E.jsx)(Bc,{onLeft:function(e){},institution:o}),Object(E.jsx)("div",{className:_c.a.cardSpacing})]})]})]}),V()&&Object(E.jsx)(qc,{institution:o}),Object(E.jsx)(zc,{institution:o,open:g,onClose:function(){return O(!1)},onChange:function(e){l(Object(w.a)(Object(w.a)({},o),{},{backgroundPictureURL:e}))}}),Object(E.jsx)(Pe.a,{open:k,autoHideDuration:1500,onClose:G,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:Object(E.jsx)(Ne.a,{onClose:G,severity:"success",sx:{width:"100%"},children:"Description saved successfully!"})}),Object(E.jsx)("div",{className:_c.a.footer,children:Object(E.jsx)(De,{})})]})}):Object(E.jsx)(Tn.a,{})};var Yc=function(e){var t,n,r=e.team,i=e.institution,s=e.user,o=(e.isAdmin,e.updateTeam),l=Object(a.useState)([]),d=Object(c.a)(l,2),u=d[0],h=d[1],p=Object(a.useState)([]),j=Object(c.a)(p,2),b=j[0],f=j[1],m=Object(a.useState)([]),x=Object(c.a)(m,2),g=x[0],O=x[1],v=Object(a.useState)([]),y=Object(c.a)(v,2),C=y[0],k=y[1],S=Object(a.useState)([]),I=Object(c.a)(S,2),A=(I[0],I[1]),_=Object(a.useState)(!0),D=Object(c.a)(_,2),R=D[0],F=D[1],T=Object(a.useState)(!1),N=Object(c.a)(T,2),L=N[0],M=N[1],z=Object(a.useState)(!1),U=Object(c.a)(z,2),W=U[0],G=U[1],H=Object(a.useState)([]),Q=Object(c.a)(H,2),V=Q[0],Y=(Q[1],Object(a.useState)("")),$=Object(c.a)(Y,2),ee=$[0],te=$[1],ne=Object(a.useState)([]),ae=Object(c.a)(ne,2),re=(ae[0],ae[1]),ie=function(){return M(!1)};function se(){return(se=Object(P.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return te(""),e.prev=1,e.next=4,Sn.removeProjectFromTeam(r._id,V._id);case 4:ie(),o(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),te(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}var ce=function(e,t){"clickaway"!==t&&G(!1)},le=function(e,t){for(var n=0;n<e.length;n++)for(var a=0;a<t.length;a++){var r=e[n].fileName.split("_")[2];r&&r===t[a]._id&&(e[n]=Object(w.a)(Object(w.a)({},e[n]),{},{status:oe.f.DONE,location:t[a].h5adURL}))}};return Object(a.useEffect)((function(){F(!0),Oa.getAtlases().then((function(e){return f(e)})),li.getModels().then((function(e){return O(e)})),Sn.getMyTeams().then((function(e){return k(e)})),mr.getDemos().then((function(e){re(e),Ir.getTeamProjects(r._id).then((function(t){le(t,e),h(t)}))})),F(!1)}),[r]),(null===(t=r.memberIds)||void 0===t?void 0:t.includes(s._id))||"PRIVATE"!==r.visibility&&("BY_INSTITUTION"!==r.visibility||(null===(n=i.memberIds)||void 0===n?void 0:n.includes(s._id)))?R?Object(E.jsx)(Tn.a,{}):0===u.length?Object(E.jsx)(Ne.a,{severity:"info",children:"This team does not have any projects yet. Members can add one of their projects from the Gene Mapper page."}):Object(E.jsxs)("div",{children:[Object(E.jsx)("div",{children:u.map((function(e){var t=b.find((function(t){return String(t._id)===String(e.atlasId)}));t||(t={name:e.atlasId});var n=g.find((function(t){return String(t._id)===String(e.modelId)}));if(!n){var a,r;if(null===e||void 0===e?void 0:e.modelId)a=(null===e||void 0===e?void 0:e.modelId.slice(0,2))+(null===e||void 0===e||null===(r=e.modelId)||void 0===r?void 0:r.slice(2).toUpperCase());n={name:a}}return Object(E.jsx)(Ui,{project:e,atlas:t,model:n,userTeams:C,handleDelete:function(){return t=e._id,void mr.getDemos().then((function(e){var n=JSON.parse(localStorage.getItem("cached_projects"));delete n[t],localStorage.setItem("cached_projects",JSON.stringify(n));var a=u.filter((function(e){return e._id!==t}));h(a),Ir.deleteProject(t).then((function(){Ir.getOwnProjects().then((function(t){le(t,e),h(t)})),Ir.getDeletedProjects().then((function(t){le(t,e),console.log(t),A(t)}))}))}));var t},loggedIn:!0},e._id)}))}),Object(E.jsxs)(K,{isOpen:L,setOpen:function(e){return!e&&ie()},children:[Object(E.jsx)(J,{children:"Remove Project"}),Object(E.jsxs)(X.a,{children:[Object(E.jsx)(mn.a,{children:"Do you really want to remove the project ".concat(V.name," from the team ").concat(r.name,"?")}),ee&&Object(E.jsx)(mn.a,{id:"alert-dialog-description",color:"error",children:ee})]}),Object(E.jsxs)(Z.a,{children:[Object(E.jsx)(q.default,{onClick:ie,type:"tertiary",children:"Cancel"}),Object(E.jsx)(q.default,{onClick:function(){return function(){return se.apply(this,arguments)}()},type:"critical",autoFocus:!0,children:"Remove"})]})]}),Object(E.jsx)(Pe.a,{open:W,autoHideDuration:3e3,onClose:ce,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:Object(E.jsx)(Ne.a,{onClose:ce,severity:"error",sx:{width:"100%"},children:"Only an admin may remove projects from a team!"})})]}):Object(E.jsx)(Ne.a,{severity:"warning",children:"The projects of this team are hidden as its visibility is set to ".concat(r.visibility.toLowerCase().replace("_"," ")," and you're not a member of this team").concat("BY_INSTITUTION"===r.visibility?" or this team's institution":"",".")})};var Kc=function(e){var t=e.isLoading,n=e.members,a=e.nextToNameBuilder,r=e.trailingBuilder;return Object(E.jsx)(Pn,{isLoading:t,elements:n,cardBuilder:function(e){return Object(E.jsx)(G,{member:e,nextToNameBuilder:a,trailingBuilder:r})},noElementsMessage:"No members."})};var Jc=function(e){var t=e.team,n=e.member,r=e.updateTeam,i=Object(a.useState)(!1),s=Object(c.a)(i,2),o=s[0],l=s[1],d=Object(a.useState)(""),u=Object(c.a)(d,2),h=u[0],p=u[1],j=function(){return l(!1)};function b(){return(b=Object(P.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(""),e.prev=1,e.next=4,Sn.removeMemberFromTeam(t.id,n.id);case 4:j(),r(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),p(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(q.default,{type:"critical",onClick:function(){return l(!0)},children:"Remove"}),Object(E.jsxs)(K,{isOpen:o,setOpen:function(e){return!e&&j()},children:[Object(E.jsx)(J,{children:"Remove Member"}),Object(E.jsxs)(X.a,{children:[Object(E.jsxs)(mn.a,{children:['Do you really want to remove the member "',"".concat(n.firstName," ").concat(n.lastName),'" from the team "',t.name,'"?']}),h&&Object(E.jsx)(mn.a,{id:"alert-dialog-description",color:"error",children:h})]}),Object(E.jsxs)(Z.a,{children:[Object(E.jsx)(q.default,{type:"tertiary",onClick:j,children:"Cancel"}),Object(E.jsx)(q.default,{type:"critical",onClick:function(){return function(){return b.apply(this,arguments)}()},autoFocus:!0,children:"Remove"})]})]})]})};var Zc=function(e){var t=e.team,n=e.member,r=e.updateTeam,i=Object(a.useState)(!1),s=Object(c.a)(i,2),o=s[0],l=s[1],d=Object(a.useState)(""),u=Object(c.a)(d,2),h=u[0],p=u[1],j=function(){return l(!1)};function b(){return(b=Object(P.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(""),e.prev=1,e.next=4,Sn.makeTeamAdmin(t.id,n.id);case 4:j(),r(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),p(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}function f(){return(f=Object(P.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(""),e.prev=1,e.next=4,Sn.removeTeamAdmin(t.id,n.id);case 4:r(),j(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),p(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})))).apply(this,arguments)}var m=!!t.adminIds&&t.adminIds.includes(n.id);return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(q.default,{type:"primary",onClick:function(){return l(!0)},children:m?"Remove Admin":"Make Admin"}),Object(E.jsxs)(K,{isOpen:o,setOpen:function(e){return!e&&j()},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(E.jsx)(J,{id:"alert-dialog-title",children:m?"Remove Admin":"Make Admin"}),Object(E.jsxs)(X.a,{children:[Object(E.jsx)(mn.a,{id:"alert-dialog-description",children:"Do you really want to ".concat(m?"remove":"make"," ").concat(n.firstName," \n            ").concat(n.lastName," ").concat(m?"as":""," an admin of ").concat(t.name,"?")}),h&&Object(E.jsx)(mn.a,{id:"alert-dialog-description",color:"error",children:h})]}),Object(E.jsxs)(Z.a,{children:[Object(E.jsx)(q.default,{type:"tertiary",onClick:j,children:"Cancel"}),Object(E.jsx)(q.default,{type:"critical",onClick:m?function(){return function(){return f.apply(this,arguments)}()}:function(){return function(){return b.apply(this,arguments)}()},autoFocus:!0,children:m?"Remove":"Make"})]})]})]})},Xc=n(581),$c=n.n(Xc);var el=function(e){var t=e.team,n=e.updateTeam,r=F(),i=Object(c.a)(r,1)[0],s=Object(a.useState)([]),o=Object(c.a)(s,2),l=o[0],d=o[1],u=Object(a.useState)(!0),h=Object(c.a)(u,2),p=h[0],j=h[1];return Object(a.useEffect)((function(){null!=t.id&&(j(!0),Sn.getMembers(t.id).then((function(e){d(e),j(!1)})))}),[t]),p?Object(E.jsx)(Tn.a,{}):Object(E.jsx)(Kc,{members:l,nextToNameBuilder:function(e){return Object(E.jsx)("span",{className:$c.a.accessRightIndicator,children:-1!==t.adminIds.indexOf(e.id)?"admin":"member"})},trailingBuilder:function(e){return t.adminIds.includes(i._id)&&i._id!==e.id?Object(E.jsxs)(ot.a,{direction:"row",spacing:1,children:[Object(E.jsx)(Zc,{team:t,member:e,updateTeam:n}),Object(E.jsx)(Jc,{team:t,member:e,updateTeam:n})]}):null}})};var tl=function(e){var t=e.team,n=e.updateVisibility;return Object(E.jsxs)(Ge.a,{id:"select-visibility",select:!0,label:"Visibility",value:t.visibility,onChange:function(e){return n(e.target.value)},variant:"standard",sx:{width:"120px"},children:[Object(E.jsx)(zo.a,{value:"PUBLIC",children:"public"}),Object(E.jsx)(zo.a,{value:"PRIVATE",children:"private"}),Object(E.jsx)(zo.a,{value:"BY_INSTITUTION",children:"by institution"})]})};var nl=function(e){var t,n,r=e.institution,i=e.team,s=e.user,o=e.updateTeam,l=Object(a.useState)(!1),d=Object(c.a)(l,2),u=d[0],h=d[1];if(Object(a.useEffect)((function(){h((i.memberIds||[]).includes(s._id))}),[i]),u)return Object(E.jsx)(In,{team:i,onLeft:function(){o()}});var p="PUBLIC"===i.visibility||"BY_INSTITUTION"===i.visibility&&(null===(t=r.memberIds)||void 0===t?void 0:t.includes(s._id))||(null===(n=i.invitedMemberIds)||void 0===n?void 0:n.includes(s._id));return Object(E.jsx)(Gt.a,{title:p?"":"This team is ".concat(i.visibility.toLowerCase().replace("_"," ")," and you haven't been invited").concat("BY_INSTITUTION"===i.visibility?" and you're not a member of this team's institution":"","."),children:Object(E.jsx)("div",{children:Object(E.jsx)(Oo,{isDisabled:!p,team:i,onJoin:function(){o()}})})})};var al=function(e){var t=e.team,n=e.isAdmin,a=e.institution;return Object(E.jsxs)(ot.a,{direction:"row",alignItems:"flex-end",spacing:2,sx:{paddingLeft:"20px",paddingBottom:"5px",alignSelf:"flex-end"},children:[a&&Object(E.jsx)("h4",{style:{margin:0},children:a.name}),!n&&Object(E.jsx)(fo.a,{label:t.visibility.toLowerCase().replace("_"," "),color:"primary"})]})};var rl=function(e){var t=e.team,n=Object(a.useState)(!1),r=Object(c.a)(n,2),i=r[0],s=r[1],o=Object(a.useState)(!1),l=Object(c.a)(o,2),d=l[0],u=l[1],h=Object(a.useState)(""),p=Object(c.a)(h,2),j=p[0],b=p[1],f=Object(a.useState)(""),m=Object(c.a)(f,2),x=m[0],g=m[1],O=function(){return s(!1)};function v(){return(v=Object(P.a)(B.a.mark((function e(){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(j&&/^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9-]+(?:\.[a-zA-Z0-9-]+)*$/.test(j)){e.next=3;break}return g("Please enter a valid e-mail address."),e.abrupt("return");case 3:return g(""),e.prev=4,e.next=7,Sn.inviteMemberByEmail(t.id,j);case 7:O(),u(!0),O(),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),g(e.t0.message);case 15:case"end":return e.stop()}}),e,null,[[4,12]])})))).apply(this,arguments)}var y=function(e,t){"clickaway"!==t&&u(!1)};return Object(E.jsxs)("div",{children:[Object(E.jsx)(ac.a,{onClick:function(){s(!0),b(""),g("")},"aria-label":"add",sx:{position:"fixed",bottom:"3%",right:"2%"},style:{backgroundColor:"#5676E4"},children:Object(E.jsx)(Gc.a,{style:{color:"white"}})}),Object(E.jsxs)(K,{isOpen:i,setOpen:function(e){return!e&&O()},fullWidth:!0,children:[Object(E.jsx)(J,{children:"Invite User"}),Object(E.jsxs)(X.a,{children:[Object(E.jsx)(mn.a,{children:'Invite a user to your team "'.concat(t.name,'"')}),Object(E.jsx)(Ge.a,{autoFocus:!0,required:!0,margin:"dense",id:"name",label:"Email Address",type:"email",fullWidth:!0,variant:"standard",error:!!x,helperText:x,onChange:function(e){b(e.target.value),g("")}})]}),Object(E.jsxs)(Z.a,{children:[Object(E.jsx)(q.default,{type:"tertiary",onClick:O,children:"Cancel"}),Object(E.jsx)(q.default,{onClick:function(){return v.apply(this,arguments)},autoFocus:!0,children:"Confirm"})]})]}),Object(E.jsx)(Pe.a,{open:d,autoHideDuration:3e3,onClose:y,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:Object(E.jsxs)(Ne.a,{onClose:y,severity:"success",sx:{width:"100%"},children:["Invite to ",j," sent successfully!"]})})]})};function il(){var e=Object(u.useParams)().id,t=Object(a.useState)({}),n=Object(c.a)(t,2),r=n[0],i=n[1],s=F(),o=Object(c.a)(s,1)[0],l=Object(a.useState)({}),d=Object(c.a)(l,2),h=d[0],p=d[1],j=Object(a.useState)(""),b=Object(c.a)(j,2),f=b[0],m=b[1],x=Object(a.useState)(!1),g=Object(c.a)(x,2),O=g[0],v=g[1],y=Object(a.useState)(!1),w=Object(c.a)(y,2),C=w[0],k=w[1],S=Object(a.useRef)(),I=function(e,t){"clickaway"!==t&&k(!1)};function A(e){return _.apply(this,arguments)}function _(){return(_=Object(P.a)(B.a.mark((function t(n){return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=3;break}return t.next=3,new Promise((function(e){return setTimeout(e,100)}));case 3:Sn.getTeam(e).then(i).catch((function(e){console.error(e)}));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function D(){return(D=Object(P.a)(B.a.mark((function t(n){return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Sn.changeTeamVisibility(e,n);case 2:A(!0);case 3:case"end":return t.stop()}}),t)})))).apply(this,arguments)}function R(){return(R=Object(P.a)(B.a.mark((function t(){return B.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(O){t.next=4;break}return v(!0),S.current.focus(),t.abrupt("return");case 4:return t.next=6,Sn.changeTeamDescription(e,f);case 6:A(!0),v(!1),k(!0);case 9:case"end":return t.stop()}}),t)})))).apply(this,arguments)}Object(a.useEffect)((function(){null!=e&&A(!1)}),[i]),Object(a.useEffect)((function(){m(r.description)}),[r]),Object(a.useEffect)((function(){0!==Object.keys(r).length&&Hn.getInstitution(r.institutionId).then((function(e){return p(e)})).catch((function(e){console.error(e)}))}),[r,p]);var T=!!r.adminIds&&r.adminIds.includes(o._id);return r&&0!==Object.keys(r).length?Object(E.jsxs)(cn,{title:r.name,rightOfTitle:Object(E.jsx)(al,{team:r,isAdmin:T,institution:h}),replaceHeaderRight:T&&Object(E.jsx)(tl,{team:r,updateVisibility:function(e){return function(e){return D.apply(this,arguments)}(e)}})||Object(E.jsx)(nl,{institution:h,team:r,user:o,updateTeam:function(){return A(!0)}}),children:[Object(E.jsx)("br",{}),Object(E.jsxs)("section",{children:[T&&Object(E.jsxs)(q.default,{sx:{position:"static",alignItems:"center",float:"right"},type:O?"secondary":"primary",onClick:function(){return function(){return R.apply(this,arguments)}()},children:[O&&Object(E.jsxs)("div",{children:[Object(E.jsx)("span",{children:"Save Edits"}),Object(E.jsx)(fc.a,{sx:{fontSize:15,marginLeft:"5px"}})]}),!O&&Object(E.jsxs)("div",{children:[Object(E.jsx)("span",{children:"Edit Description"}),Object(E.jsx)(Qc.a,{sx:{fontSize:15,marginLeft:"5px"}})]})]}),Object(E.jsx)("h2",{children:"Description"}),Object(E.jsx)("hr",{}),Object(E.jsx)("div",{children:Object(E.jsx)(Ge.a,{id:"description",inputRef:S,multiline:!0,minRows:3,maxRows:5,value:f,InputProps:{readOnly:!O},fullWidth:!0,onChange:function(e){e.preventDefault(),m(e.target.value)},variant:"standard"})})]}),Object(E.jsxs)("section",{children:[Object(E.jsx)("h2",{children:"Projects"}),Object(E.jsx)("hr",{}),Object(E.jsx)(Yc,{team:r,institution:h,user:o,isAdmin:T,updateTeam:function(){return A(!0)}})]}),Object(E.jsxs)("section",{children:[Object(E.jsx)("h2",{children:"Members"}),Object(E.jsx)("hr",{}),Object(E.jsx)(el,{team:r,updateTeam:function(){return A(!0)}})]}),T&&Object(E.jsx)(rl,{team:r}),Object(E.jsx)(Pe.a,{open:C,autoHideDuration:1500,onClose:I,anchorOrigin:{vertical:"bottom",horizontal:"center"},children:Object(E.jsx)(Ne.a,{onClose:I,severity:"success",sx:{width:"100%"},children:"Description saved successfully!"})})]}):Object(E.jsx)(E.Fragment,{})}var sl=n(403),ol=n.n(sl),cl=n(404),ll=n.n(cl),dl=n(162),ul=dl.KeyboardArrowRight,hl=dl.KeyboardArrowLeft,pl=n(20),jl=pl.Box,bl=pl.IconButton,fl=pl.useTheme,ml=pl.TableContainer,xl=pl.Table,gl=pl.TableHead,Ol=pl.TableRow,vl=pl.TableCell,yl=pl.TableBody,wl=pl.TableFooter,Cl=pl.TablePagination,kl=pl.Switch,Sl=n(73).Paper;function Il(e){var t=fl(),n=e.count,a=e.page,r=e.rowsPerPage,i=e.onPageChange;return Object(E.jsxs)(jl,{sx:{flexShrink:0,ml:2.5},children:[Object(E.jsx)(bl,{onClick:function(e){i(e,0)},disabled:0===a,"aria-label":"first page",children:"rtl"===t.direction?Object(E.jsx)(ol.a,{}):Object(E.jsx)(ll.a,{})}),Object(E.jsx)(bl,{onClick:function(e){i(e,a-1)},disabled:0===a,"aria-label":"previous page",children:"rtl"===t.direction?Object(E.jsx)(ul,{}):Object(E.jsx)(hl,{})}),Object(E.jsx)(bl,{onClick:function(e){i(e,a+1)},disabled:a>=Math.ceil(n/r)-1,"aria-label":"next page",children:"rtl"===t.direction?Object(E.jsx)(hl,{}):Object(E.jsx)(ul,{})}),Object(E.jsx)(bl,{onClick:function(e){i(e,Math.max(0,Math.ceil(n/r)-1))},disabled:a>=Math.ceil(n/r)-1,"aria-label":"last page",children:"rtl"===t.direction?Object(E.jsx)(ll.a,{}):Object(E.jsx)(ol.a,{})})]})}function Al(e){var t=e.data,n=e.togglePermission,r=Object(a.useState)(0),i=Object(c.a)(r,2),s=i[0],o=i[1],l=Object(a.useState)(5),d=Object(c.a)(l,2),u=d[0],h=d[1];var p=s>0?Math.max(0,(1+s)*u-t.length):0;return Object(E.jsx)(ml,{sx:{margin:10},component:Sl,children:Object(E.jsxs)(xl,{sx:{minWidth:500},"aria-label":"custom pagination table",children:[Object(E.jsx)(gl,{children:Object(E.jsxs)(Ol,{children:[Object(E.jsxs)(vl,{children:[" ",Object(E.jsx)("b",{children:"Email"})]}),Object(E.jsx)(vl,{align:"right",children:Object(E.jsx)("b",{children:"Role"})}),Object(E.jsx)(vl,{align:"right",children:Object(E.jsx)("b",{children:"Permission Requested"})}),Object(E.jsx)(vl,{align:"right",children:Object(E.jsx)("b",{children:"Permission"})})]})}),Object(E.jsxs)(yl,{children:[(u>0?t.slice(s*u,s*u+u):t).map((function(e){return Object(E.jsxs)(Ol,{children:[Object(E.jsx)(vl,{component:"th",scope:"row",children:e.email}),Object(E.jsx)(vl,{style:{width:160},align:"right",children:e.isAdministrator?"Admin":"User"}),Object(E.jsx)(vl,{style:{width:160},align:"right",children:e.permissionRequested?"Yes":"No"}),Object(E.jsx)(vl,{style:{width:160},align:"right",children:e.isAdministrator?Object(E.jsx)(kl,{defaultChecked:!0,disabled:!0}):Object(E.jsx)(kl,{checked:e.hasPermission,onChange:function(t){var a,r;console.log("Change called"),console.log("e.target.checked",t.target.checked),a=e.id,r=t.target.checked,console.log("Updating the permission of user with id",a,"to",r),n(a,r)}})})]},e.email)})),p>0&&Object(E.jsx)(Ol,{style:{height:53*p},children:Object(E.jsx)(vl,{colSpan:6})})]}),Object(E.jsx)(wl,{children:Object(E.jsx)(Ol,{children:Object(E.jsx)(Cl,{rowsPerPageOptions:[5,10,25,{label:"All",value:-1}],colSpan:3,count:t.length,rowsPerPage:u,page:s,SelectProps:{inputProps:{"aria-label":"rows per page"},native:!0},onPageChange:function(e,t){o(t)},onRowsPerPageChange:function(e){h(parseInt(e.target.value,10)),o(0)},ActionsComponent:Il})})})]})})}var _l=n(20),El=_l.Container,Dl=_l.Typography,Rl=_l.CircularProgress,Fl=_l.Box,Tl=n(2),Bl=Tl.useEffect,Pl=Tl.useState,Nl=function(){var e=F(),t=Object(c.a)(e,2),n=t[0],a=(t[1],Pl(!1)),r=Object(c.a)(a,2),i=(r[0],r[1]),s=Pl(),o=Object(c.a)(s,2),l=o[0],d=o[1],u=Object(et.useHistory)();!1===n.isAdministrator&&u.push("/gene-mapper");var h=function(){var e=Object(P.a)(B.a.mark((function e(){var t,n;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fe.default.get("/users");case 2:if(200===(t=e.sent).status){e.next=5;break}throw Error("Couldn't fetch user permissions");case 5:n=b(t),d(n);case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),p=function(){var e=Object(P.a)(B.a.mark((function e(t,n){var a;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(oe.a,"/users/").concat(t,"/permission"),{method:"PUT",headers:le(),body:JSON.stringify({id:t,permission:n})});case 3:a=e.sent,console.log(a),h(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log("error in togglePermission",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}(),j=function(e,t){return e.permissionRequested&&!t.permissionRequested||e.isAdministrator&&!t.isAdministrator?-1:0},b=function(e){var t=[];return e.data&&(e.data.forEach((function(e){t.push({id:e._id,email:e.email,permissionRequested:!!e.permissionRequested&&e.permissionRequested,hasPermission:!!e.hasPermission&&e.hasPermission,isAdministrator:!!e.isAdministrator&&e.isAdministrator})})),t.sort(j)),{data:t,togglePermission:p}};return Bl((function(){i(!0),h(),i(!1),console.log("useEffect")}),[]),Object(E.jsxs)(El,{children:[Object(E.jsx)("div",{style:{textAlign:"center",background:"#f2f2f2",padding:"10px",marginBottom:"20px",border:"1px solid #ccc",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)",marginLeft:80},children:Object(E.jsx)(Dl,{variant:"h4",style:{display:"inline-block"},children:"Admin Panel"})}),l?Object(E.jsx)(Al,Object(w.a)(Object(w.a)({},l),{},{togglePermission:p})):Object(E.jsx)(Fl,{sx:{display:"flex"},children:Object(E.jsx)(Rl,{})}),Object(E.jsx)(E.Fragment,{})]})},Ll=n(445),Ml=n(447),zl=n(448),Ul=n(918),Wl=n(253),Gl=n(438),ql=n(443),Hl=n(22).default,Ql={createAtlas:function(){var e=Object(P.a)(B.a.mark((function e(t,n,a,r,i,s,o,c,l){var d,u,h,p,j;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d={name:t,previewPictureURL:n,modalities:a,numberOfCells:Number(r),species:i,compatibleModels:s,selectedClassifier:o,atlasUrl:c,uploadedBy:String(l)},console.log("atlas data to be sent to backend",d),e.next=4,Hl.post("/file_upload/start_upload_for_atlas",d);case 4:return u=e.sent,console.log("response from backend",u.data),h=u.data,p=h.atlas,j=h.models,console.log("atlas and models",p,j),e.abrupt("return",{atlas:p,models:j});case 9:case"end":return e.stop()}}),e)})));return function(t,n,a,r,i,s,o,c,l){return e.apply(this,arguments)}}()},Vl=Ql,Yl=r.a.createContext();Yl.displayName="UploadProgressContext";var Kl=function(e,t,n,a){return{status:oe.d.IDLE,uploadId:e,chunks:0,uploaded:0,remaining:[],uploadedParts:[],keyPath:t,uploadFileType:n,fileName:a}};function Jl(e){var t=Object(a.useState)({}),n=Object(c.a)(t,2),r=[n[0],n[1]];return Object(E.jsx)(Yl.Provider,Object(w.a)({value:r},e))}function Zl(){var e=r.a.useContext(Yl);if(void 0===e)throw console.log("context Error:: ",e),new Error("useUploadProgress must be used within an UploadProgressProvider");return e}var Xl=n(20),$l=Xl.Button,ed=Xl.DialogContent,td=Xl.Grid,nd=Xl.Typography,ad=Xl.TextField,rd=Xl.CircularProgress,id=n(2).useState,sd=n(22).default,od={padding:{padding:4},mainHeader:{backgroundColor:Wl.a[100],padding:20,alignItems:"center"},mainContent:{padding:40},primaryColor:{color:Gl.a[500]},secondaryColor:{color:Wl.a[700]},addAtlasButton:{backgroundColor:"blue",color:"white","&:hover":{backgroundColor:"darkblue"}}},cd=Object(Ul.a)(od),ld=function(e){var t=e.setIsAddModalOpen,n=e.setIsLoading,a=e.user,r=e.isLoading,i=e.modelsList,s=e.classifiersList,o=id(""),l=Object(c.a)(o,2),d=l[0],u=l[1],p=id(""),j=Object(c.a)(p,2),b=j[0],f=j[1],m=id([]),x=Object(c.a)(m,2),g=x[0],O=x[1],v=id([]),y=Object(c.a)(v,2),C=y[0],k=y[1],S=id(""),I=Object(c.a)(S,2),A=I[0],_=I[1],D=id(""),R=Object(c.a)(D,2),F=R[0],T=R[1],N=id(null),L=Object(c.a)(N,2),M=L[0],z=L[1],U=id(""),W=Object(c.a)(U,2),G=W[0],q=W[1],H=id(""),Q=Object(c.a)(H,2),V=Q[0],Y=Q[1],K=id(""),J=Object(c.a)(K,2),Z=(J[0],J[1]),X=id(""),$=Object(c.a)(X,2),ee=$[0],te=$[1],ne=id(null),ae=Object(c.a)(ne,2),re=ae[0],ie=ae[1],se=id({}),ce=Object(c.a)(se,2),le=ce[0],de=ce[1],ue=id(null),he=Object(c.a)(ue,2),pe=he[0],je=he[1],be=id(""),fe=Object(c.a)(be,2),me=fe[0],xe=fe[1],ge=id(""),Oe=Object(c.a)(ge,2),ve=Oe[0],ye=Oe[1],we=Zl(),Ce=Object(c.a)(we,2),ke=Ce[0],Se=Ce[1],Ie=cd(),Ae=function(){var e=Object(P.a)(B.a.mark((function e(r){var i,s,o;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r.preventDefault(),n(!0),Ee()){e.next=6;break}return alert("Please upload files for all selected models."),n(!1),e.abrupt("return");case 6:if(De()){e.next=10;break}return alert("Please upload both classifier and encoder files."),n(!1),e.abrupt("return");case 10:return e.prev=10,e.next=13,Vl.createAtlas(d,b,g,A,F,C.map((function(e){return e.name})),ee.name,V,a._id);case 13:i=e.sent,s=i.atlas,o=i.models,M&&(console.log("atlas upload path",s.atlasUploadPath),console.log("atlas file, atlas upload id, atlas upload path",M,s.atlasUploadId,s.atlasUploadPath),_e(M,s.atlasUploadId,s.atlasUploadPath,oe.k.ATLAS)),s.classifierUploadId&&(_e(re,s.classifierUploadId,s.classifierUploadPath,oe.k.CLASSIFIER),_e(pe,s.encoderUploadId,s.encoderUploadPath,oe.k.ENCODER)),o.forEach((function(e){le[e.model.name]&&(console.log("model upload path",e.modelUploadPath),_e(le[e.model.name],e.modelUploadId,e.modelUploadPath,oe.k.MODEL))})),alert("File upload started successfully"),e.next=27;break;case 22:e.prev=22,e.t0=e.catch(10),console.error("Error during form submission:",e.t0),sd.delete("/api/atlases/".concat(atlas._id)).then((function(){console.log("atlas deleted successfully"),n(!1)})).catch((function(e){console.error(e),n(!1)})),n(!1);case 27:return e.prev=27,n(!1),u(""),f(""),O([]),k([]),_(""),T(""),z(null),q(""),Y(""),Z(""),te(""),ie(null),de({}),je(null),t(!1),e.finish(27);case 45:case"end":return e.stop()}}),e,null,[[10,22,27,45]])})));return function(t){return e.apply(this,arguments)}}(),_e=function(){var e=Object(P.a)(B.a.mark((function e(t,n,a,r){return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("UPLOAD ID for filetype  IS ",n,r),Se((function(e){var i=Object(w.a)(Object(w.a)({},e),{},Object(h.a)({},n,Kl(n,a,r,t.name)));return Nr(n,t,a,(function(e,t){Se((function(n){return Object(w.a)(Object(w.a)({},n),{},Object(h.a)({},e,Object(w.a)(Object(w.a)({},n[e]),t)))}));Object.keys(ke).every((function(e){return ke[e].status===oe.d.COMPLETE}))}),i,r),i}));case 2:case"end":return e.stop()}}),e)})));return function(t,n,a,r){return e.apply(this,arguments)}}(),Ee=function(){return 0!==C.length&&C.every((function(e){return le[e.name]}))},De=function(){return""===ee||re&&pe};return Object(E.jsx)(E.Fragment,{children:r?Object(E.jsx)(ed,{className:Ie.padding,children:Object(E.jsx)(td,{container:!0,direction:"row",justifyContent:"center",alignItems:"center",margin:5,children:Object(E.jsx)(rd,{})})}):Object(E.jsx)("form",{onSubmit:function(e){Ae(e)},children:Object(E.jsx)(ed,{className:Ie.padding,children:Object(E.jsxs)(td,{container:!0,children:[Object(E.jsx)(td,{item:!0,xs:12,children:Object(E.jsx)(td,{container:!0,direction:"row",className:Ie.mainHeader,children:Object(E.jsx)(td,{item:!0,xs:12,children:Object(E.jsx)(nd,{className:Ie.primaryColor,variant:"h5",children:"Add A New Atlas here"})})})}),Object(E.jsxs)(td,{container:!0,direction:"row",className:Ie.mainContent,spacing:1,children:[Object(E.jsx)(td,{item:!0,xs:8,children:Object(E.jsx)(ad,{fullWidth:!0,margin:"dense",variant:"outlined",label:"Atlas Name to display",id:"name",value:d,onChange:function(e){u(e.target.value)},required:!0})}),Object(E.jsx)(td,{item:!0,xs:8,children:Object(E.jsx)(ad,{fullWidth:!0,margin:"dense",variant:"outlined",label:"Preview Picture URL",id:"previewPictureURL",value:b,onChange:function(e){f(e.target.value)},required:!0})}),Object(E.jsx)(td,{item:!0,xs:8,children:Object(E.jsx)(ad,{fullWidth:!0,margin:"dense",variant:"outlined",label:"Modalities (Proivde comma separated values)",id:"modalities",value:g,onChange:function(e){O(e.target.value.split(","))},required:!0})}),Object(E.jsx)(td,{item:!0,xs:8,children:Object(E.jsx)(ql.a,{multiple:!0,id:"compatibleModels",options:i,getOptionLabel:function(e){return e.name},value:C,onChange:function(e,t){k(t)},renderInput:function(e){return Object(E.jsx)(ad,Object(w.a)(Object(w.a)({},e),{},{variant:"outlined",label:"Compatible Models",placeholder:"Select Models"}))},required:!0})}),Object(E.jsx)(td,{container:!0,children:C.map((function(e,t){return Object(E.jsxs)(td,{item:!0,xs:8,children:[Object(E.jsxs)($l,{variant:"contained",component:"label",children:["Upload ",e.name," File",Object(E.jsx)("input",{type:"file",hidden:!0,onChange:function(t){return function(e,t){t.target.files[0]&&de(Object(w.a)(Object(w.a)({},le),{},Object(h.a)({},e.name,t.target.files[0])))}(e,t)}})]}),le[e.name]&&Object(E.jsxs)("p",{children:["File: ",le[e.name].name]})]},t)}))}),Object(E.jsx)(td,{item:!0,xs:8,children:Object(E.jsx)(ad,{fullWidth:!0,margin:"dense",variant:"outlined",label:"Number of Cells",id:"numberOfCells",value:A,onChange:function(e){_(e.target.value)},required:!0})}),Object(E.jsx)(td,{item:!0,xs:8,children:Object(E.jsx)(ad,{fullWidth:!0,margin:"dense",variant:"outlined",label:"Species",id:"species",value:F,onChange:function(e){T(e.target.value)},required:!0})}),Object(E.jsx)(td,{item:!0,xs:8,children:Object(E.jsxs)(Mo.a,{fullWidth:!0,value:ee,onChange:function(e){te(e.target.value),""===e.target.value&&(ie(null),je(null))},displayEmpty:!0,inputProps:{"aria-label":"Classifier Type"},children:[Object(E.jsx)(zo.a,{value:"",children:Object(E.jsx)("em",{children:"Select Classifier Type (Optional)"})}),s.map((function(e,t){return Object(E.jsx)(zo.a,{value:e,children:e.name},t)}))]})}),ee&&Object(E.jsxs)(E.Fragment,{children:[Object(E.jsxs)(td,{item:!0,xs:8,children:[Object(E.jsxs)($l,{variant:"contained",component:"label",children:["Select Encoder File",Object(E.jsx)("input",{type:"file",hidden:!0,onChange:function(e){var t=e.target.files[0];t&&(je(t),xe(t.name))}})]}),me&&Object(E.jsxs)("span",{style:{marginLeft:"20px"},children:["Selected file is: ",me]})]}),Object(E.jsxs)(td,{item:!0,xs:8,children:[Object(E.jsxs)($l,{variant:"contained",component:"label",children:["Select Classifier File",Object(E.jsx)("input",{type:"file",hidden:!0,onChange:function(e){var t=e.target.files[0];t&&(ye(t.name),ie(t))}})]}),ve&&Object(E.jsxs)("span",{style:{marginLeft:"20px"},children:["Selected file is: ",ve]})]})]}),Object(E.jsxs)(td,{item:!0,xs:8,children:[M&&Object(E.jsx)(ad,{fullWidth:!0,margin:"dense",variant:"outlined",label:"Uploaded file",value:G,InputProps:{readOnly:!0}}),!M&&Object(E.jsx)(ad,{fullWidth:!0,margin:"dense",variant:"outlined",label:"Atlas URL to download",id:"url",value:V,onChange:function(e){Y(e.target.value),z(null)},required:!M})]}),Object(E.jsx)(td,{item:!0,xs:8,children:Object(E.jsxs)($l,{variant:"contained",component:"label",children:[Object(E.jsx)("input",{type:"file",onChange:function(e){if(!e.target.files||0===e.target.files.length)return console.error("Select a file"),void Z("Select a file");z(e.target.files[0]);var t=e.target.files[0].name;q(t),Z(""),Y("")},accept:".h5ad",required:""===V.trim()}),"Select Atlas"]})}),Object(E.jsx)(td,{item:!0,xs:12,children:Object(E.jsxs)(td,{container:!0,direction:"row",spacing:1,children:[Object(E.jsx)(td,{item:!0,xs:4,children:Object(E.jsx)($l,{onClick:function(){return t(!1)},children:"Cancel"})}),Object(E.jsx)(td,{item:!0,xs:4,children:a.hasPermission?Object(E.jsx)($l,{type:"submit",className:Ie.addAtlasButton,children:"Add Atlas"}):Object(E.jsx)($l,{type:"submit",disabled:!0,className:Ie.addAtlasButton,children:"Add Atlas"})})]})})]})]})})})})},dd=n(405),ud=n.n(dd),hd=n(120),pd=n(19).default,jd=Object(Ul.a)({root:{flexGrow:1},gridForCard:{cursor:"pointer"}}),bd=function(e,t){return e.filter((function(e){return!0===t.isAdministrator||e.uploadedBy===t._id}))};function fd(e){return console.log("progress in calculateProgressValue",e),e.uploaded&&e.chunks?e.uploaded/e.chunks*100:0}var md=function(){var e=Object(a.useState)(!1),t=Object(c.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)(!1),s=Object(c.a)(i,2),o=s[0],l=s[1],d=Object(a.useState)([]),u=Object(c.a)(d,2),h=u[0],b=u[1],f=F(),m=Object(c.a)(f,2),x=m[0],g=(m[1],jd()),O=Object(et.useHistory)(),v=Object(a.useState)([]),y=Object(c.a)(v,2),w=y[0],C=y[1],k=Object(a.useState)([]),S=Object(c.a)(k,2),I=S[0],A=S[1],_=Object(a.useState)(0),D=Object(c.a)(_,2),R=(D[0],D[1],Zl()),T=Object(c.a)(R,2),N=T[0];T[1];!1===x.hasPermission&&O.push("/gene-mapper");return Object(a.useEffect)((function(){var e=function(){var e=Object(P.a)(B.a.mark((function e(){var t,n,a,r;return B.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.next=3,Oa.getAtlases();case 3:return t=e.sent,n=bd(t,x),e.next=7,li.getModels();case 7:return a=e.sent,e.next=10,er.getClassifiers();case 10:r=e.sent,C(a),A(r),b(n),console.log("atlases",t),l(!1);case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(a.useEffect)((function(){console.log("Updated uploadProgress",N)}),[N]),Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(p.a,{sx:{display:"flex",justifyContent:"start",alignItems:"center",paddingTop:"3rem"},children:Object(E.jsx)(Re.a,{container:!0,justifyContent:"center",children:Object(E.jsx)(Re.a,{item:!0,children:Object(E.jsx)(j.a,{variant:"h4",component:"h2",gutterBottom:!0,children:"My Atlases"})})})}),Object(E.jsxs)(p.a,{sx:{display:"flex",flexDirection:"column",alignItems:"flex-start",paddingLeft:"100px",paddingTop:"3rem",paddingRight:"3rem",paddingBottom:"1rem",gap:"1rem",overflow:"hidden",transition:"padding-left 0.3s ease"},children:[Object.entries(N).length>0&&Object(E.jsx)(j.a,{variant:"h5",gutterBottom:!0,children:"Upload Progress"}),Object.entries(N).map((function(e){var t=Object(c.a)(e,2),n=t[0],a=t[1];return Object(E.jsx)(Ll.a,{sx:{width:"100%",mb:2},children:Object(E.jsxs)(Ml.a,{sx:{display:"flex",flexDirection:"column",gap:"8px"},children:[Object(E.jsxs)(j.a,{variant:"body2",sx:{display:"flex",alignItems:"center"},children:["Status: ",Object(oe.l)(a.status),a.status===oe.d.COMPLETE&&Object(E.jsx)(ud.a,{sx:{color:hd.a[500],ml:1}})]}),Object(E.jsxs)(j.a,{variant:"body2",children:["Key Path: ",a.keyPath]}),Object(E.jsxs)(j.a,{variant:"body2",children:["Upload File Type: ",a.uploadFileType]}),Object(E.jsxs)(j.a,{variant:"body2",children:["File Name: ",a.fileName]}),a.status===oe.d.UPLOADING||a.status===oe.d.UPLOAD_FINISHING||a.status===oe.d.UPLOAD_PROGRESS?Object(E.jsxs)(p.a,{sx:{display:"flex",alignItems:"center",width:"100%"},children:[Object(E.jsx)(Oi.a,{variant:"determinate",value:fd(a),sx:{flexGrow:1,mr:1}}),Object(E.jsxs)(j.a,{variant:"caption",children:[fd(a).toFixed(2),"%"]})]}):a.status===oe.d.SUCCESS?Object(E.jsxs)(p.a,{sx:{display:"flex",alignItems:"center",color:hd.a[500]},children:[Object(E.jsx)(ud.a,{}),Object(E.jsx)(j.a,{variant:"caption",sx:{ml:1},children:"Upload Successful"})]}):null]})},n)}))]}),Object(E.jsx)(p.a,{sx:{display:"flex",justifyContent:"start",alignItems:"center",paddingTop:"3rem"},children:Object(E.jsx)(Re.a,{container:!0,justifyContent:"center",children:Object(E.jsx)(Re.a,{item:!0,children:Object(E.jsxs)(pd,{onClick:function(){r(!0)},children:[" ","Upload Atlas"]})})})}),h&&0===h.length&&Object(E.jsx)(p.a,{sx:{display:"flex",justifyContent:"start",alignItems:"center",paddingTop:"3rem"},children:Object(E.jsx)(Re.a,{container:!0,justifyContent:"center",children:Object(E.jsx)(Re.a,{item:!0,children:Object(E.jsx)(j.a,{variant:"h4",component:"h2",gutterBottom:!0,children:"No Atlases Uploaded"})})})}),Object(E.jsx)(Re.a,{container:!0,spacing:2,justifyContent:"center",sx:{paddingLeft:"75px",paddingRight:"75px",marginTop:"16px",width:"auto",overflow:"hidden"},children:h.map((function(e){return Object(E.jsx)(Re.a,{item:!0,xs:12,sm:6,md:4,lg:3,children:Object(E.jsxs)(Ll.a,{onClick:function(){return console.log("Clicked")},elevation:4,children:[Object(E.jsx)(zl.a,{component:"img",image:e.previewPictureURL,alt:e.name,sx:{height:140,objectFit:"contain"}}),Object(E.jsxs)(Ml.a,{children:[Object(E.jsx)(j.a,{gutterBottom:!0,variant:"h5",component:"h2",children:e.name}),e.atlasUploadId&&Object(E.jsxs)(j.a,{variant:"body2",color:"textSecondary",children:["Status: ","UPLOAD_COMPLETE"===e.status?"Upload Complete":"Upload Incomplete"]})]})]})},e._id)}))}),Object(E.jsx)(H.a,{className:g.root,open:n,fullWidth:!0,maxWidth:"md",onClose:function(){r(!1)},children:Object(E.jsx)(ld,{setIsAddModalOpen:r,setIsLoading:l,user:x,isLoading:o,modelsList:w,classifiersList:I})})]})},xd=function(){var e=Object(a.useState)(!0),t=Object(c.a)(e,1)[0],n=F(),r=Object(c.a)(n,2),i=r[0],s=r[1],o=Object(u.useRouteMatch)(),l=o.path,d=o.url;return Object(E.jsxs)("div",{children:[Object(E.jsx)(tn,{setUser:s,user:i}),Object(E.jsxs)(u.Switch,{children:[Object(E.jsx)(u.Route,{path:"".concat(l,"/admin"),children:Object(E.jsx)(Nl,{sidebarShown:t})}),Object(E.jsx)(u.Route,{path:"".concat(l,"/upload"),children:Object(E.jsx)(md,{sidebarShown:t})}),Object(E.jsx)(u.Route,{exact:!0,path:"".concat(l,"/"),children:Object(E.jsx)(u.Redirect,{to:"".concat(d,"/genemapper")})}),Object(E.jsx)(u.Route,{path:"".concat(l,"/genemapper"),children:Object(E.jsx)(Qs,{sidebarShown:t})}),Object(E.jsx)(u.Route,{path:"".concat(l,"/community"),children:Object(E.jsx)(Xn,{children:Object(E.jsx)(ia,{})})}),Object(E.jsx)(u.Route,{path:"".concat(l,"/institutions/:id"),children:Object(E.jsx)(Vc,{})}),Object(E.jsx)(u.Route,{path:"".concat(l,"/teams/:id"),children:Object(E.jsx)(il,{})}),Object(E.jsx)(u.Route,{path:"".concat(l,"/users/:id"),children:Object(E.jsx)(eo,{})}),Object(E.jsx)(u.Route,{path:"".concat(l,"/documentation"),children:Object(E.jsx)(ao,{})}),Object(E.jsx)(u.Route,{path:"".concat(l,"/help"),children:Object(E.jsx)(lo,{})}),Object(E.jsx)(u.Route,{path:"".concat(l,"/search/:searchCategory"),children:Object(E.jsx)(Zo,{sidebarShown:t})}),Object(E.jsx)(u.Route,{path:"".concat(l,"/references"),render:function(){return Object(E.jsx)(hc,{})}}),Object(E.jsx)(u.Route,{path:"".concat(l,"/settings"),children:Object(E.jsx)(co,{className:ho.a.subpage})})]})]})},gd=n(264),Od=n(266),vd=(n.p,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e.attr("opacity",0).transition().duration(t).delay(n).attr("opacity",1)}),yd=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return e.attr("opacity",1).transition().duration(t).delay(n).attr("opacity",0)},wd=function(e,t){return Math.sqrt(Math.pow(e[0]-t[0],2)+Math.pow(e[1]-t[1],2))},Cd=function(){function e(t,n,a){Object(ms.a)(this,e);var r=t.map((function(e){return e[0]})),i=t.map((function(e){return e[1]})),s=[Object(hs.k)(r),Object(hs.k)(i)],o=t.map((function(e){return wd(e,s)}));this.name=n,this.id=n.replaceAll(/[/,_, ]/g,"").toLowerCase(),this.color=a,this.count=t.length,this.points=t,this.mean=s,this.dev=Object(hs.k)(o),this.xExtent=Object(hs.g)(t.map((function(e){return+e[0]}))),this.yExtent=Object(hs.g)(t.map((function(e){return+e[1]})))}return Object(xs.a)(e,[{key:"getMinX",value:function(){return this.xExtent[0]}},{key:"getMaxX",value:function(){return this.xExtent[1]}},{key:"getMinY",value:function(){return this.yExtent[0]}},{key:"getMaxY",value:function(){return this.yExtent[1]}}]),e}(),kd=function(e){var t=Object(hs.n)().x((function(e){return+e.x})).y((function(e){return+e.y}));return t.addAll(e),t},Sd=function(e){var t,n=new Map;e.filter((function(e){var t=e.celltype;return isNaN(parseFloat(t))})).forEach((function(e){var t=e.celltype;n.has(t)||n.set(t,[]),n.get(t).push([+e.x,+e.y])}));var a,r=n.keys(),i=(t=Object(hs.q)()).domain.apply(t,Object(un.a)(r)).range($r),s=Object(vs.a)(n.keys());try{for(s.s();!(a=s.n()).done;){var o=a.value,c=n.get(o),l=i(o);n.set(o,new Cd(c,o,l))}}catch(d){s.e(d)}finally{s.f()}return n},Id=function(e){return{xMin:Object(hs.l)(e.map((function(e){return e.getMinX()}))),xMax:Object(hs.j)(e.map((function(e){return e.getMaxX()}))),yMin:Object(hs.l)(e.map((function(e){return e.getMinY()}))),yMax:Object(hs.j)(e.map((function(e){return e.getMaxY()})))}},Ad=function(){function e(t){Object(ms.a)(this,e),this.tree=kd(t),this.collection=Sd(t),this.clusters=Array.from(this.collection.values());var n=Id(this.clusters),a=n.xMin,r=n.xMax,i=n.yMin,s=n.yMax;this.xMin=a,this.xMax=r,this.yMin=i,this.yMax=s;var o=this.clusters.map((function(e){return e.dev}));this.minDist=Object(hs.l)(o),this.maxDist=Object(hs.j)(o),this.avgDist=Object(hs.k)(o),this.totalCount=Object(hs.s)(this.clusters.map((function(e){return e.count})))}return Object(xs.a)(e,[{key:"getAll",value:function(){return this.clusters}},{key:"get",value:function(e){return this.collection.get(e)}},{key:"setRange",value:function(e){var t=Object(c.a)(e,2),n=t[0],a=t[1];this.width=n,this.height=a,this.initialXDomain=Object(hs.p)().domain([this.xMin,this.xMax]).range([0,n]),this.initialYDomain=Object(hs.p)().domain([this.yMin,this.yMax]).range([a,0]),this.xDomain=this.initialXDomain,this.yDomain=this.initialYDomain}},{key:"rescaleDomain",value:function(e){this.xDomain=e.rescaleX(this.initialXDomain),this.yDomain=e.rescaleY(this.initialYDomain)}},{key:"findClosestSample",value:function(e){var t=Object(c.a)(e,2),n=t[0],a=t[1];return this.tree.find(n,a,.02)}},{key:"scalePoint",value:function(e){var t=Object(c.a)(e,2),n=t[0],a=t[1];return[this.xDomain(n),this.yDomain(a)]}},{key:"unscalePoint",value:function(e){var t=Object(c.a)(e,2),n=t[0],a=t[1];return[this.xDomain.invert(n),this.yDomain.invert(a)]}},{key:"scalePoints",value:function(e){var t=this;return e.map((function(e){return t.scalePoint(e)}))}}]),e}(),_d=function(e){!function(e){e.append("rect").attr("fill","lightgrey").attr("width",15).attr("height",15).attr("stroke","black").attr("stroke-width",2).attr("rx",Wr),e.on("mouseover",(function(){e.select("rect").transition().attr("fill","whitesmoke")})),e.on("mouseleave",(function(){e.select("rect").transition().attr("fill","lightgrey")}))}(e),e.append("line").attr("x1",3).attr("x2",12).attr("y1",3).attr("y2",12).attr("stroke","black").attr("stroke-width",1),e.append("line").attr("x1",12).attr("x2",3).attr("y1",3).attr("y2",12).attr("stroke","black").attr("stroke-width",1)},Ed=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:qr,n=e.append("rect").attr("width",qr).attr("height",t).attr("fill",Zr).attr("rx",Wr).attr("stroke",Zr).attr("stroke-width",1);e.on("mouseover",(function(){n.transition().attr("fill","dimgray")})),e.on("mouseleave",(function(){n.transition().attr("fill",Zr)})),e.on("click.format",(function(){n.transition().attr("fill","grey").transition().attr("fill","dimgray")}))},Dd=function(e){var t=e.append("g"),n=e.append("g").attr("transform","translate(0,".concat(qr+5,")")),a=e.append("g").attr("transform","translate(0,".concat(2*qr+10,")")),r=e.append("g").attr("transform","translate(0,".concat(2.5*qr+15,")"));return function(e){Ed(e),e.append("line").attr("x1",qr/2).attr("y1",8).attr("x2",qr/2).attr("y2",qr-8).attr("stroke","lightgrey").attr("stroke-width",4),e.append("line").attr("x1",8).attr("y1",qr/2).attr("x2",qr-8).attr("y2",qr/2).attr("stroke","lightgrey").attr("stroke-width",4)}(t),function(e){Ed(e),e.append("line").attr("x1",8).attr("y1",qr/2).attr("x2",qr-8).attr("y2",qr/2).attr("stroke","lightgrey").attr("stroke-width",4)}(n),function(e){Ed(e,qr/2),e.append("text").attr("fill","lightgrey").attr("font-size",11).attr("x",4).attr("y",14).text("Labels")}(a),function(e){Ed(e,qr/2),e.append("text").attr("fill","lightgrey").attr("font-size",11).attr("x",6).attr("y",14).text("Reset")}(r),{zoomIn:t,zoomOut:n,toggleLabels:a,reset:r}},Rd=Object(hs.h)(".2"),Fd="# Samples",Td=Qr/2,Bd=4*Gr+120+94,Pd=112+2.5*Gr,Nd=function(){function e(t,n){Object(ms.a)(this,e),this.container=t,this.collection=n,this.extendedShown=!1,this.allLabelsShown=!1,this.selectedCluster=null,this.visibility=new Map;var a,r=Object(vs.a)(n.clusters);try{for(r.s();!(a=r.n()).done;){var i=a.value;this.visibility.set(i.id,!1)}}catch(s){r.e(s)}finally{r.f()}}return Object(xs.a)(e,[{key:"setRange",value:function(e){var t=Object(c.a)(e,2),n=t[0],a=t[1];this.width=n,this.height=a}},{key:"showLabel",value:function(e,t,n){var a=Object(c.a)(t,2),r=a[0],i=a[1],s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e3,o=12*n.length,l=o+Gr,d=this.collection.xDomain(r),u=this.collection.yDomain(i)-Td,h=this.width-d-Bd<0,p=h?1-l-Kr:Kr-1,j=this.container.append("g").attr("id","label-".concat(e)).attr("transform","translate(".concat(d,",").concat(u,")"));j.append("polygon").attr("points",[[0,Td],[Kr,Td+5],[Kr,Td-5]]).attr("transform","translate(0,".concat(h?20:0,") rotate(").concat(h?180:0,")")).attr("fill",Zr);var b=j.append("g").attr("id","label-".concat(e,"-container")).attr("transform","translate(".concat(p,",0)"));b.append("rect").attr("x",0).attr("y",0).attr("width",l).attr("height",Qr).attr("rx",Wr).attr("fill",Zr),b.append("text").attr("x",Kr).attr("y",Td+5).attr("stroke","lightgrey").attr("fill","white").attr("textLength",o).attr("font-family","ui-sans-serif").attr("font-weight",600).attr("font-style","italic").text(n),vd(j,s)}},{key:"removeLabel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=this.container.selectAll("#label-".concat(e));yd(n,t).remove()}},{key:"showClusterLabel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:600;if(!this.visibility.get(e.id)){var n=e.id,a=e.mean,r=e.name;this.showLabel(n,a,r,t),this.visibility.set(e.id,!0)}}},{key:"removeClusterLabel",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;this.visibility.get(e.id)&&!this.allLabelsShown&&(this.removeLabel(e.id,t),this.selectedCluster=null,this.extendedShown=!1,this.visibility.set(e.id,!1))}},{key:"showLabels",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;this.allLabelsShown=!0;var t,n=Object(vs.a)(this.collection.clusters);try{for(n.s();!(t=n.n()).done;){var a=t.value;this.visibility.get(a.id)||this.showClusterLabel(a,e)}}catch(r){n.e(r)}finally{n.f()}}},{key:"removeLabels",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;this.allLabelsShown=!1,this.extendedShown=!1,this.selectedCluster=null;var t,n=Object(vs.a)(this.collection.clusters);try{for(n.s();!(t=n.n()).done;){var a=t.value;this.visibility.get(a.id)&&this.removeClusterLabel(a,e)}}catch(r){n.e(r)}finally{n.f()}}},{key:"retractClusterLabel",value:function(e){if(this.visibility.get(e.id)&&this.allLabelsShown){var t=12*e.name.length+20,n=this.collection.scalePoint(e.mean)[0],a=this.width-n<=Bd?1-Kr-t:Kr-1,r=this.container.select("#label-".concat(e.id,"-container"));r.transition().duration(800).delay(500).attr("transform","translate(".concat(a,",0)")),r.select("rect").transition().duration(800).delay(500).attr("x",0).attr("y",0).attr("width",t).attr("height",Qr).attr("rx",Wr).attr("fill",Zr);var i=r.selectAll("g");yd(i,500).remove(),this.selectedCluster=null,this.extendedShown=!1}}},{key:"showDetailTag",value:function(e){var t=this;if(e!==this.selectedCluster){this.extendedShown&&(this.extendedShown=!1,this.allLabelsShown?this.retractClusterLabel(this.selectedCluster):this.removeClusterLabel(this.selectedCluster),this.showClusterLabel(e)),this.selectedCluster=e,this.extendedShown=!0;var n=this.collection.scalePoint(e.mean),a=Object(c.a)(n,2),r=a[0],i=a[1],s=this.width-r<=Bd,o=this.height-i<=Pd,l=s?1-Kr-Bd:Kr-1,d=o?this.height-i-Pd:0,u=this.container.select("#label-".concat(e.id)).raise().select("#label-".concat(e.id,"-container"));u.transition().duration(500).attr("transform","translate(".concat(l,",").concat(d,")")),u.select("rect").transition().duration(500).attr("width",Bd).attr("height",Pd),function(e,t,n){var a=["","min","\xd8","max"],r=n.minDist,i=n.maxDist,s=n.avgDist,o=[t.dev,r,s,i],c=e.append("g").attr("transform","translate(".concat(2*Gr,",").concat(20+Gr,")"));c.append("text").attr("fill","lightgrey").attr("font-size","".concat(Yr,"px")).text("\xd8 L2-distance to \xb5").attr("opacity",0).transition().delay(500).attr("opacity",1);var l=Object(hs.o)().domain(a).range([0,120]).padding(.2),d=Object(hs.p)().domain([0,i]).range([Vr,0]),u=Object(hs.c)(l).tickSizeInner(5).tickSizeOuter(0).tickPadding(2);c.append("g").attr("transform","translate(0,".concat(92,")")).attr("class","axis").attr("opacity",0).transition().delay(500).attr("opacity",1).call(u);var h=Object(hs.d)(d).tickFormat((function(e){return Rd(e)})).tickSizeInner(5).ticks(4).tickSizeOuter(0).tickPadding(2);c.append("g").attr("transform","translate(0,".concat(Yr,")")).attr("class","axis").attr("opacity",0).transition().delay(500).attr("opacity",1).call(h),c.append("g").selectAll("rect").data(o).join("rect").attr("x",(function(e,t){return l(a[t])})).attr("y",92).attr("width",l.bandwidth()).attr("height",0).attr("fill",(function(e,n){return 0===n?t.color:"grey"})).transition().delay(500).duration(1e3).attr("y",(function(e){return Yr+d(e)})).attr("height",(function(e){return Vr-d(e)}))}(u,e,this.collection),function(e,t,n){var a=Object(hs.m)().value((function(e){return e.count})),r=a(n.clusters),i=Object(hs.i)(a.startAngle()(),a.endAngle()()),s=Object(hs.i)(0,27),o=Object(hs.i)(0,Hr),c=e.append("g").attr("transform","translate(".concat(3*Gr+120,",").concat(20+Gr,")"));c.append("text").attr("x",Hr-7*Fd.length/2).attr("fill","lightgrey").attr("font-size","".concat(Yr,"px")).text(Fd).attr("opacity",0).transition().delay(500).attr("opacity",1);var l="".concat(t.count);c.append("text").attr("x",Hr-7*l.length/2).attr("y",54).attr("fill","lightgrey").attr("font-size","".concat(Yr,"px")).text("".concat(t.count)).attr("opacity",0).transition().delay(1e3).attr("opacity",1);var d=n.totalCount,u=100*t.count/d,h="".concat(u.toFixed(1),"%");c.append("text").attr("x",Hr-7*h.length/2).attr("y",71).attr("fill","lightgrey").attr("font-size","".concat(Yr,"px")).text(h).attr("opacity",0).transition().delay(1e3).attr("opacity",1);var p=c.append("g").attr("transform","translate(".concat(Hr,",").concat(59,")")),j=p.selectAll("path").data(r).enter().append("path").attr("fill",(function(e,a){return n.clusters[a].name===t.name?t.color:"lightgrey"})),b=Object(hs.b)();j.transition().duration(1500).attrTween("d",(function(e){var t=e.endAngle;return function(n){var a=i(n);return a<e.startAngle?"":(e.endAngle=Math.min(a,t),b(e))}})),p.transition().duration(1500).tween("arcRadii",(function(){return function(e){return b.innerRadius(s(e)).outerRadius(o(e))}}))}(u,e,this.collection);var h=u.append("g").attr("transform","translate(".concat(Bd-15-3,",3)"));_d(h),vd(h,0,500),h.on("click",(function(){t.selectedCluster=null,t.extendedShown=!1,t.allLabelsShown?t.retractClusterLabel(e):t.removeClusterLabel(e)}))}}},{key:"allShown",value:function(){return this.allLabelsShown}},{key:"extended",value:function(){return this.extendedShown}},{key:"selected",value:function(){return this.selectedCluster}}]),e}(),Ld=function(e,t){return e.append("g").attr("id","".concat(t))},Md=function(){function e(t,n){Object(ms.a)(this,e),this.canvas=t.append("canvas"),this.svg=t.append("svg"),this.gCentroids=Ld(this.svg,"centroids"),this.gCells=Ld(this.svg,"cells"),this.gLabels=Ld(this.svg,"labels"),this.gControls=Ld(this.svg,"controls"),this.collection=new Ad(n),this.labels=new Nd(this.svg,this.collection)}return Object(xs.a)(e,[{key:"drawPoints",value:function(e){var t,n=Object(vs.a)(this.collection.clusters);try{for(n.s();!(t=n.n()).done;){var a=t.value;this.context.fillStyle=a.color,this.context.globalAlpha=.3;var r,i=Object(vs.a)(a.points);try{for(i.s();!(r=i.n()).done;){var s=r.value,o=this.collection.scalePoint(s),l=Object(c.a)(o,2),d=l[0],u=l[1];this.context.beginPath(),this.context.arc(d,u,e,0,e*Math.PI),this.context.fill()}}catch(h){i.e(h)}finally{i.f()}}}catch(h){n.e(h)}finally{n.f()}}},{key:"clearCanvas",value:function(){this.context.clearRect(0,0,this.width,this.height)}},{key:"addCentroids",value:function(){var e=this;this.gCentroids.selectAll("centroid").remove();var t=this.gCentroids.selectAll("centroid").data(this.collection.clusters).join("circle").attr("cx",(function(t){return e.collection.xDomain(t.mean[0])})).attr("cy",(function(t){return e.collection.yDomain(t.mean[1])})).attr("r",4).attr("stroke",(function(e){return e.color})).attr("stroke-width",2).attr("fill",(function(e){return e.color})).attr("fill-opacity",.7);this.centroids=t}},{key:"addCells",value:function(){this.gCells.selectAll("cell").remove();var e=this.collection.clusters.map((function(e){return e.mean})),t=this.collection.scalePoints(e),n=hs.a.from(t).voronoi([0,0,this.width,this.height]),a=this.gCells.selectAll("cell").data(this.collection.clusters).join("polygon").attr("id",(function(e){return"cell-".concat(e.id)})).attr("points",(function(e,t){return n.cellPolygon(t)})).attr("fill",(function(e){return e.color})).attr("opacity",.1).attr("stroke","black").attr("stroke-width",1);this.cells=a}},{key:"highlightCell",value:function(e){this.svg.select("#cell-".concat(e.id)).transition().duration(500).attr("opacity",.2)}},{key:"resetCell",value:function(e){this.svg.select("#cell-".concat(e.id)).transition().duration(1e3).attr("opacity",.1)}},{key:"render",value:function(e){var t=this,n=Object(c.a)(e,2),a=n[0],r=n[1];this.width=a,this.height=r,this.gCentroids.selectAll("*").remove(),this.gCells.selectAll("*").remove(),this.gCentroids.selectAll("*").remove(),this.gControls.selectAll("*").remove(),this.canvas.attr("width",a).attr("height",r),this.svg.attr("width",a).attr("height",r).attr("transform","translate(0,".concat(-r-4,")"));var i=a-Gr-qr;this.gControls.attr("transform","translate(".concat(i,",").concat(Gr,")")),this.context=this.canvas.node().getContext("2d"),this.collection.setRange([a,r]),this.labels.setRange([a,r]),this.drawPoints(2),this.addCentroids(),this.addCells(),this.cells.on("mouseover",(function(e,n){t.labels.extended()||t.labels.showClusterLabel(n),t.highlightCell(n)})),this.cells.on("mouseleave",(function(e,n){t.labels.extended()||t.labels.removeClusterLabel(n),t.resetCell(n)})),this.cells.on("click",(function(e,n){t.labels.showDetailTag(n)}));var s=Dd(this.gControls),o=s.zoomIn,l=s.zoomOut,d=s.toggleLabels,u=s.reset;this.zoomFactor=1,this.counter=0,this.zoomIn=o,this.zoomOut=l,this.toggleLabels=d,this.reset=u,this.zoomIn.on("click",(function(){t.setZoom(2)})),this.zoomOut.on("click",(function(){t.setZoom(.5)})),this.toggleLabels.on("mouseover",(function(){t.labels.allShown()||t.toggleLabels.select("rect").transition().attr("fill","dimgray")})),this.toggleLabels.on("mouseleave",(function(){t.labels.allShown()||t.toggleLabels.select("rect").transition().attr("fill",Zr)})),this.toggleLabels.on("click",(function(){if(!t.labels.allShown())return t.labels.showLabels(),void t.toggleLabels.select("rect").transition().attr("fill","grey");t.labels.removeLabels(),t.toggleLabels.select("rect").transition().attr("fill","dimgray")})),this.reset.on("click",(function(){t.setZoom(1/t.zoomFactor)})),this.currentClosest=null,this.svg.on("mousemove",(function(e){if(t.zoomFactor>=10){var n=t.collection.unscalePoint([e.clientX,e.clientY]),a=t.collection.findClosestSample(n);if(a!==t.currentClosest){if(void 0!==a){var r=a.id.replaceAll("_","-"),i=[a.x,a.y];t.labels.showLabel(r,i,r)}if(t.currentClosest){var s=t.currentClosest.id.replaceAll("_","-");t.labels.removeLabel(s)}t.currentClosest=a}}}));this.setZoom=function(e,t,n){var a=Object(c.a)(t,2),r=a[0],i=a[1],s=Object(hs.u)().scaleExtent([1,16]).translateExtent([[0,0],[r,i]]).on("zoom",n);return e.call(s).on("wheel.zoom",null),function(t){e.transition().ease(hs.f).duration(1e3).call(s.scaleBy,t)}}(this.svg,[a,r],(function(e){var n=e.transform;if(1!==n.k){var a,r=t.labels.allShown();t.collection.rescaleDomain(n),t.labels.removeLabels(0),t.clearCanvas(),t.cells.attr("transform",n),t.centroids.attr("transform",n),n.k!==t.zoomFactor?(t.zoomFactor=n.k,t.centroids.attr("r",4/t.zoomFactor).attr("stroke-width",2/t.zoomFactor),t.cells.attr("stroke-width",1/t.zoomFactor),r&&t.labels.showLabels()):r&&(t.counter++,(a=100,new Promise((function(e){return setTimeout(e,a)}))).then((function(){t.counter--,0===t.counter&&t.labels.showLabels()})));var i,s=2*(1-(i=t.zoomFactor/10))+4*i;t.drawPoints(s)}}))}}]),e}(),zd=(n(858),function(e){Object(gd.a)(n,e);var t=Object(Od.a)(n);function n(e){var a;return Object(ms.a)(this,n),(a=t.call(this,e)).myRef=r.a.createRef(),a.url=e.url,a}return Object(xs.a)(n,[{key:"componentDidMount",value:function(){var e=this;Object(hs.t)(this.url).then((function(t){var n=Object(hs.r)(e.myRef.current);new Md(n,t).render([1860,965])}))}},{key:"render",value:function(){return Object(E.jsx)("div",{ref:this.myRef})}}]),n}(r.a.Component)),Ud=n(406),Wd=n.n(Ud),Gd=Object(Et.b)({palette:{primary:{main:"#0075FF"},secondary:{main:"#FFFFFF"}}});var qd=function(){var e=function(){var e=Object(u.useLocation)().search;return r.a.useMemo((function(){return new URLSearchParams(e)}),[e])}();return Object(E.jsx)(l.a,{theme:Gd,children:Object(E.jsxs)("div",{children:[" ",Object(E.jsxs)("div",{className:Wd.a.headerContainer,children:[Object(E.jsx)(p.a,{sx:{display:"flex",justifyContent:"center",textAlign:"center"},className:Wd.a.visualizationContainer,children:Object(E.jsx)(zd,{url:e.get("tsv")})}),Object(E.jsx)(De,{})]})]})})},Hd=n(582),Qd=n.n(Hd);var Vd=function(e){var t=Object(a.useState)({}),n=Object(c.a)(t,2),r=n[0],i=n[1],s=Object(a.useState)(!1),o=Object(c.a)(s,2),l=o[0],d=o[1],b=Object(a.useState)({password:"",confirmpass:""}),f=Object(c.a)(b,2),m=f[0],x=f[1],g=Object(u.useLocation)();function O(){d(!1),i({})}var v=Object(a.useCallback)((function(e){x((function(t){return Object(w.a)(Object(w.a)({},t),{},Object(h.a)({},e.target.id,e.target.value))}))}),[x]);return Object(E.jsxs)("div",{className:Qd.a.headerContainer,children:[Object(E.jsx)(Ae,{}),Object(E.jsx)(p.a,{justifyContent:"center",display:"flex",children:Object(E.jsx)(p.a,{sx:{position:"relative",align:"center",width:"60%",bgcolor:"background.paper",boxShadow:3,top:32,p:12,borderRadius:3},children:Object(E.jsxs)(Re.a,{children:[Object(E.jsxs)(Re.a,{container:!0,direction:"row",justifyContent:"center",children:[Object(E.jsx)(Re.a,{xs:!0,item:!0}),Object(E.jsxs)(Re.a,{align:"center",children:[Object(E.jsx)(N.a,{src:A,sx:{width:72,height:72}}),Object(E.jsx)("h1",{children:"Password Reset"})]}),Object(E.jsx)(Re.a,{xs:!0,align:"right",item:!0})]}),Object(E.jsx)(qe,{id:"password",type:"password",error:!!r.password,helperText:r.password,label:"New Password",placeholder:"Enter New Password",required:!0,onChangeEvent:v}),Object(E.jsx)(qe,{id:"confirmpass",type:"password",error:!!r.passwordconfirm,helperText:r.passwordconfirm,label:"Confirm Password",placeholder:"Reenter Password",required:!0,onChangeEvent:v}),Object(E.jsx)(p.a,{mt:1,children:Object(E.jsx)(q.default,{type:"primary",sx:{ml:1,width:"100%"},onClick:function(){if(i({}),null!=m.password&&null!=m.confirmpass&&m.password===m.confirmpass){var e=new URLSearchParams(g.search).get("token"),t={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({password:m.password})};fetch("".concat(oe.a,"/password_reset/").concat(e),t).then((function(e){404===e.status&&i({response:e.statusText}),400===e.status&&i({response:e.statusText})})),d(!0)}else i({passwordconfirm:"Password mismatch!"})},children:Object(E.jsx)(j.a,{children:"Reset"})})})]})})}),Object(E.jsx)(Pe.a,{open:l,autoHideDuration:3e3,onClose:O,children:Object(E.jsx)(Ne.a,{severity:r.response?"error":"success",sx:{width:"100%"},onClose:O,children:r.response?r.response:"Password reset successfully!"})})]})};function Yd(){return Object(E.jsxs)(p.a,{sx:{position:"absolute",width:"100%",margin:"auto",top:"30%",textAlign:"center"},children:[Object(E.jsx)(j.a,{fontSize:"44px",fontWeight:"bold",children:"Error 404"}),Object(E.jsx)(j.a,{fontSize:"24px",fontWeight:"bold",children:"Not Found"}),Object(E.jsx)(j.a,{marginTop:"20px",children:"The resource could not be found on the server!"}),Object(E.jsx)(Be.a,{href:"#",style:{textDecorationColor:_.a.primary[400],textDecorationThickness:"1px"},children:Object(E.jsx)(j.a,{sx:{color:_.a.primary[400],textDecoration:"none",cursor:"pointer",":hover":{color:_.a.primary[500]}},children:"Go Back Home"})})]})}var Kd=Object(Et.b)({palette:{primary:{dark:_.a.primary[900],main:_.a.primary[700],light:_.a.primary[400],contrastText:_.a.neutral[100]},secondary:{main:_.a.secondary1[400],light:_.a.secondary2[400],contrastText:_.a.neutral[100],dark:_.a.secondary1[600]},typography:{fontFamily:""},error:{main:_.a.error.main,dark:_.a.error.dark},warning:{main:_.a.warning.main,dark:_.a.warning.dark},success:{main:_.a.success.main,dark:_.a.success.dark}}});var Jd=function(){var e=Object(a.useState)(!1),t=Object(c.a)(e,2),n=t[0],r=t[1];return Object(a.useEffect)((function(){if(localStorage.getItem("jwt")){var e=localStorage.getItem("temp_jwt_expiresAt");if(Math.ceil(Date.now()/1e3)<e)return}fetch("".concat(oe.a,"/temp_auth")).then((function(e){return e.ok?e.json():(console.log("failed to get authorization for file upload."),r(!0),null)})).then((function(e){null!==e?(localStorage.setItem("jwt",e.jwt),localStorage.setItem("temp_jwt_expiresAt",e.exp)):console.log("Temp auth is null")}))}),[]),Object(E.jsx)(p.a,{sx:{display:"flex",flexDirection:"column",justifyContent:"space-between",mineight:"100vh"},children:Object(E.jsxs)(p.a,{sx:{display:"flex",flexDirection:"column",minHeight:"100vh"},children:[Object(E.jsx)(Qs,{sidebarShown:!1,loggedIn:!1}),Object(E.jsx)(Pe.a,{open:n,autoHideDuration:1e4,onClose:function(){return r(!1)},children:Object(E.jsx)(Ne.a,{severity:"error",sx:{width:"100%"},onClose:function(){return r(!1)},children:"Failed to get upload authorization. Please retry later."})})]})})};var Zd=function(){var e=F(),t=Object(c.a)(e,1)[0];return Object(E.jsx)(l.a,{theme:Kd,children:Object(E.jsx)(d.a,{children:Object(E.jsxs)(u.Switch,{children:[Object(E.jsx)(u.Route,{exact:!0,path:"/",render:function(){return t?Object(E.jsx)(u.Redirect,{to:"/sequencer"}):Object(E.jsx)(dt,{})}}),Object(E.jsx)(u.Route,{path:"/sequencer",render:function(){return e=Object(E.jsx)(xd,{}),localStorage.jwt&&localStorage.user?e:Object(E.jsx)(u.Redirect,{to:"/"});var e}}),Object(E.jsx)(u.Route,{path:"/dashboard",component:xd}),Object(E.jsx)(u.Route,{path:"/docs",render:function(){return Object(E.jsx)(_t,{})}}),Object(E.jsx)(u.Route,{path:"/contact",render:function(){return Object(E.jsx)(Tt,{})}}),Object(E.jsx)(u.Route,{path:"/password_reset",render:function(){return Object(E.jsx)(Vd,{})}}),Object(E.jsx)(u.Route,{path:"/result",render:function(){return Object(E.jsx)(qd,{})}}),Object(E.jsx)(u.Route,{path:"/references",render:function(){return Object(E.jsx)(hc,{})}}),Object(E.jsx)(u.Route,{path:"/genemapper",render:function(){return Object(E.jsx)(Jd,{})}}),Object(E.jsx)(u.Route,{path:"/legalnotice",render:function(){return Object(E.jsx)(pt,{})}}),Object(E.jsx)(u.Route,{path:"/privacy",render:function(){return Object(E.jsx)(jt,{})}}),Object(E.jsx)(u.Route,{path:"*",render:function(){return Object(E.jsx)(Yd,{})}})]})})})};s.a.render(Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)(o.b,{}),Object(E.jsx)(R,{children:Object(E.jsx)(yr,{children:Object(E.jsx)(Jl,{children:Object(E.jsx)(Qe,{children:Object(E.jsx)(Zd,{})})})})})]}),document.getElementById("root"))}},[[859,1,2]]]);
//# sourceMappingURL=main.8c17783e.chunk.js.map